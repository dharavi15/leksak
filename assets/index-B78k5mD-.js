(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function bp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var em={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function RT(){if(k_)return jl;k_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(i,o,l){var f=null;if(l!==void 0&&(f=""+l),o.key!==void 0&&(f=""+o.key),"key"in o){l={};for(var c in o)c!=="key"&&(l[c]=o[c])}else l=o;return o=l.ref,{$$typeof:n,type:i,key:f,ref:o!==void 0?o:null,props:l}}return jl.Fragment=e,jl.jsx=r,jl.jsxs=r,jl}var V_;function xT(){return V_||(V_=1,em.exports=RT()),em.exports}var G=xT(),tm={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function CT(){if(j_)return He;j_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),d=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=d&&B[d]||B["@@iterator"],typeof B=="function"?B:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function R(B,re,me){this.props=B,this.context=re,this.refs=b,this.updater=me||E}R.prototype.isReactComponent={},R.prototype.setState=function(B,re){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,re,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=R.prototype;function S(B,re,me){this.props=B,this.context=re,this.refs=b,this.updater=me||E}var x=S.prototype=new w;x.constructor=S,v(x,R.prototype),x.isPureReactComponent=!0;var M=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function I(B,re,me,ce,be,Ue){return me=Ue.ref,{$$typeof:n,type:B,key:re,ref:me!==void 0?me:null,props:Ue}}function T(B,re){return I(B.type,re,void 0,void 0,void 0,B.props)}function C(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function O(B){var re={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return re[me]})}var j=/\/+/g;function $(B,re){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):re.toString(36)}function U(){}function he(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(U,U):(B.status="pending",B.then(function(re){B.status==="pending"&&(B.status="fulfilled",B.value=re)},function(re){B.status==="pending"&&(B.status="rejected",B.reason=re)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function pe(B,re,me,ce,be){var Ue=typeof B;(Ue==="undefined"||Ue==="boolean")&&(B=null);var Ce=!1;if(B===null)Ce=!0;else switch(Ue){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(B.$$typeof){case n:case e:Ce=!0;break;case _:return Ce=B._init,pe(Ce(B._payload),re,me,ce,be)}}if(Ce)return be=be(B),Ce=ce===""?"."+$(B,0):ce,M(be)?(me="",Ce!=null&&(me=Ce.replace(j,"$&/")+"/"),pe(be,re,me,"",function(Jn){return Jn})):be!=null&&(C(be)&&(be=T(be,me+(be.key==null||B&&B.key===be.key?"":(""+be.key).replace(j,"$&/")+"/")+Ce)),re.push(be)),1;Ce=0;var St=ce===""?".":ce+":";if(M(B))for(var vt=0;vt<B.length;vt++)ce=B[vt],Ue=St+$(ce,vt),Ce+=pe(ce,re,me,Ue,be);else if(vt=y(B),typeof vt=="function")for(B=vt.call(B),vt=0;!(ce=B.next()).done;)ce=ce.value,Ue=St+$(ce,vt++),Ce+=pe(ce,re,me,Ue,be);else if(Ue==="object"){if(typeof B.then=="function")return pe(he(B),re,me,ce,be);throw re=String(B),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function Y(B,re,me){if(B==null)return B;var ce=[],be=0;return pe(B,ce,"","",function(Ue){return re.call(me,Ue,be++)}),ce}function se(B){if(B._status===-1){var re=B._result;re=re(),re.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=re)}if(B._status===1)return B._result.default;throw B._result}var ve=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function xe(){}return He.Children={map:Y,forEach:function(B,re,me){Y(B,function(){re.apply(this,arguments)},me)},count:function(B){var re=0;return Y(B,function(){re++}),re},toArray:function(B){return Y(B,function(re){return re})||[]},only:function(B){if(!C(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},He.Component=R,He.Fragment=r,He.Profiler=o,He.PureComponent=S,He.StrictMode=i,He.Suspense=p,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,He.__COMPILER_RUNTIME={__proto__:null,c:function(B){return k.H.useMemoCache(B)}},He.cache=function(B){return function(){return B.apply(null,arguments)}},He.cloneElement=function(B,re,me){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ce=v({},B.props),be=B.key,Ue=void 0;if(re!=null)for(Ce in re.ref!==void 0&&(Ue=void 0),re.key!==void 0&&(be=""+re.key),re)!V.call(re,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&re.ref===void 0||(ce[Ce]=re[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=me;else if(1<Ce){for(var St=Array(Ce),vt=0;vt<Ce;vt++)St[vt]=arguments[vt+2];ce.children=St}return I(B.type,be,void 0,void 0,Ue,ce)},He.createContext=function(B){return B={$$typeof:f,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},He.createElement=function(B,re,me){var ce,be={},Ue=null;if(re!=null)for(ce in re.key!==void 0&&(Ue=""+re.key),re)V.call(re,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=re[ce]);var Ce=arguments.length-2;if(Ce===1)be.children=me;else if(1<Ce){for(var St=Array(Ce),vt=0;vt<Ce;vt++)St[vt]=arguments[vt+2];be.children=St}if(B&&B.defaultProps)for(ce in Ce=B.defaultProps,Ce)be[ce]===void 0&&(be[ce]=Ce[ce]);return I(B,Ue,void 0,void 0,null,be)},He.createRef=function(){return{current:null}},He.forwardRef=function(B){return{$$typeof:c,render:B}},He.isValidElement=C,He.lazy=function(B){return{$$typeof:_,_payload:{_status:-1,_result:B},_init:se}},He.memo=function(B,re){return{$$typeof:g,type:B,compare:re===void 0?null:re}},He.startTransition=function(B){var re=k.T,me={};k.T=me;try{var ce=B(),be=k.S;be!==null&&be(me,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(xe,ve)}catch(Ue){ve(Ue)}finally{k.T=re}},He.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},He.use=function(B){return k.H.use(B)},He.useActionState=function(B,re,me){return k.H.useActionState(B,re,me)},He.useCallback=function(B,re){return k.H.useCallback(B,re)},He.useContext=function(B){return k.H.useContext(B)},He.useDebugValue=function(){},He.useDeferredValue=function(B,re){return k.H.useDeferredValue(B,re)},He.useEffect=function(B,re,me){var ce=k.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(B,re)},He.useId=function(){return k.H.useId()},He.useImperativeHandle=function(B,re,me){return k.H.useImperativeHandle(B,re,me)},He.useInsertionEffect=function(B,re){return k.H.useInsertionEffect(B,re)},He.useLayoutEffect=function(B,re){return k.H.useLayoutEffect(B,re)},He.useMemo=function(B,re){return k.H.useMemo(B,re)},He.useOptimistic=function(B,re){return k.H.useOptimistic(B,re)},He.useReducer=function(B,re,me){return k.H.useReducer(B,re,me)},He.useRef=function(B){return k.H.useRef(B)},He.useState=function(B){return k.H.useState(B)},He.useSyncExternalStore=function(B,re,me){return k.H.useSyncExternalStore(B,re,me)},He.useTransition=function(){return k.H.useTransition()},He.version="19.1.0",He}var L_;function Ep(){return L_||(L_=1,tm.exports=CT()),tm.exports}var te=Ep();const Rr=bp(te);var nm={exports:{}},Ll={},rm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function DT(){return U_||(U_=1,function(n){function e(Y,se){var ve=Y.length;Y.push(se);e:for(;0<ve;){var xe=ve-1>>>1,B=Y[xe];if(0<o(B,se))Y[xe]=se,Y[ve]=B,ve=xe;else break e}}function r(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var se=Y[0],ve=Y.pop();if(ve!==se){Y[0]=ve;e:for(var xe=0,B=Y.length,re=B>>>1;xe<re;){var me=2*(xe+1)-1,ce=Y[me],be=me+1,Ue=Y[be];if(0>o(ce,ve))be<B&&0>o(Ue,ce)?(Y[xe]=Ue,Y[be]=ve,xe=be):(Y[xe]=ce,Y[me]=ve,xe=me);else if(be<B&&0>o(Ue,ve))Y[xe]=Ue,Y[be]=ve,xe=be;else break e}}return se}function o(Y,se){var ve=Y.sortIndex-se.sortIndex;return ve!==0?ve:Y.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var f=Date,c=f.now();n.unstable_now=function(){return f.now()-c}}var p=[],g=[],_=1,d=null,y=3,E=!1,v=!1,b=!1,R=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function M(Y){for(var se=r(g);se!==null;){if(se.callback===null)i(g);else if(se.startTime<=Y)i(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=r(g)}}function k(Y){if(b=!1,M(Y),!v)if(r(p)!==null)v=!0,V||(V=!0,$());else{var se=r(g);se!==null&&pe(k,se.startTime-Y)}}var V=!1,I=-1,T=5,C=-1;function O(){return R?!0:!(n.unstable_now()-C<T)}function j(){if(R=!1,V){var Y=n.unstable_now();C=Y;var se=!0;try{e:{v=!1,b&&(b=!1,S(I),I=-1),E=!0;var ve=y;try{t:{for(M(Y),d=r(p);d!==null&&!(d.expirationTime>Y&&O());){var xe=d.callback;if(typeof xe=="function"){d.callback=null,y=d.priorityLevel;var B=xe(d.expirationTime<=Y);if(Y=n.unstable_now(),typeof B=="function"){d.callback=B,M(Y),se=!0;break t}d===r(p)&&i(p),M(Y)}else i(p);d=r(p)}if(d!==null)se=!0;else{var re=r(g);re!==null&&pe(k,re.startTime-Y),se=!1}}break e}finally{d=null,y=ve,E=!1}se=void 0}}finally{se?$():V=!1}}}var $;if(typeof x=="function")$=function(){x(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=j,$=function(){he.postMessage(null)}}else $=function(){w(j,0)};function pe(Y,se){I=w(function(){Y(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var ve=y;y=se;try{return Y()}finally{y=ve}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ve=y;y=Y;try{return se()}finally{y=ve}},n.unstable_scheduleCallback=function(Y,se,ve){var xe=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?xe+ve:xe):ve=xe,Y){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ve+B,Y={id:_++,callback:se,priorityLevel:Y,startTime:ve,expirationTime:B,sortIndex:-1},ve>xe?(Y.sortIndex=ve,e(g,Y),r(p)===null&&Y===r(g)&&(b?(S(I),I=-1):b=!0,pe(k,ve-xe))):(Y.sortIndex=B,e(p,Y),v||E||(v=!0,V||(V=!0,$()))),Y},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(Y){var se=y;return function(){var ve=y;y=se;try{return Y.apply(this,arguments)}finally{y=ve}}}}(am)),am}var z_;function OT(){return z_||(z_=1,rm.exports=DT()),rm.exports}var im={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function IT(){if($_)return _n;$_=1;var n=Ep();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:d==null?null:""+d,children:p,containerInfo:g,implementation:_}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},_n.flushSync=function(p){var g=f.T,_=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=g,i.p=_,i.d.f()}},_n.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},_n.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},_n.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,d=c(_,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:d,integrity:y,fetchPriority:E}):_==="script"&&i.d.X(p,{crossOrigin:d,integrity:y,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=c(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},_n.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,d=c(_,g.crossOrigin);i.d.L(p,_,{crossOrigin:d,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=c(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},_n.requestFormReset=function(p){i.d.r(p)},_n.unstable_batchedUpdates=function(p,g){return p(g)},_n.useFormState=function(p,g,_){return f.H.useFormState(p,g,_)},_n.useFormStatus=function(){return f.H.useHostTransitionStatus()},_n.version="19.1.0",_n}var B_;function NT(){if(B_)return im.exports;B_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),im.exports=IT(),im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function MT(){if(F_)return Ll;F_=1;var n=OT(),e=Ep(),r=NT();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function f(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function c(t){if(l(t)!==t)throw Error(i(188))}function p(t){var a=t.alternate;if(!a){if(a=l(t),a===null)throw Error(i(188));return a!==t?null:t}for(var s=t,u=a;;){var m=s.return;if(m===null)break;var A=m.alternate;if(A===null){if(u=m.return,u!==null){s=u;continue}break}if(m.child===A.child){for(A=m.child;A;){if(A===s)return c(m),t;if(A===u)return c(m),a;A=A.sibling}throw Error(i(188))}if(s.return!==u.return)s=m,u=A;else{for(var P=!1,L=m.child;L;){if(L===s){P=!0,s=m,u=A;break}if(L===u){P=!0,u=m,s=A;break}L=L.sibling}if(!P){for(L=A.child;L;){if(L===s){P=!0,s=A,u=m;break}if(L===u){P=!0,u=A,s=m;break}L=L.sibling}if(!P)throw Error(i(189))}}if(s.alternate!==u)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:a}function g(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=g(t),a!==null)return a;t=t.sibling}return null}var _=Object.assign,d=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),x=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case R:return"Profiler";case b:return"StrictMode";case k:return"Suspense";case V:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case x:return(t.displayName||"Context")+".Provider";case S:return(t._context.displayName||"Context")+".Consumer";case M:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return a=t.displayName||null,a!==null?a:he(t.type)||"Memo";case T:a=t._payload,t=t._init;try{return he(t(a))}catch{}}return null}var pe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},xe=[],B=-1;function re(t){return{current:t}}function me(t){0>B||(t.current=xe[B],xe[B]=null,B--)}function ce(t,a){B++,xe[B]=t.current,t.current=a}var be=re(null),Ue=re(null),Ce=re(null),St=re(null);function vt(t,a){switch(ce(Ce,a),ce(Ue,t),ce(be,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?u_(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=u_(a),t=c_(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}me(be),ce(be,t)}function Jn(){me(be),me(Ue),me(Ce)}function Ct(t){t.memoizedState!==null&&ce(St,t);var a=be.current,s=c_(a,t.type);a!==s&&(ce(Ue,t),ce(be,s))}function pn(t){Ue.current===t&&(me(be),me(Ue)),St.current===t&&(me(St),Nl._currentValue=ve)}var Cr=Object.prototype.hasOwnProperty,ia=n.unstable_scheduleCallback,Tn=n.unstable_cancelCallback,ji=n.unstable_shouldYield,Rs=n.unstable_requestPaint,Sn=n.unstable_now,Uo=n.unstable_getCurrentPriorityLevel,Li=n.unstable_ImmediatePriority,La=n.unstable_UserBlockingPriority,sa=n.unstable_NormalPriority,br=n.unstable_LowPriority,er=n.unstable_IdlePriority,Ua=n.log,za=n.unstable_setDisableYieldValue,ft=null,Ge=null;function gn(t){if(typeof Ua=="function"&&za(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ft,t)}catch{}}var Ut=Math.clz32?Math.clz32:Dr,xs=Math.log,tr=Math.LN2;function Dr(t){return t>>>=0,t===0?32:31-(xs(t)/tr|0)|0}var Or=256,Ir=4194304;function jn(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oa(t,a,s){var u=t.pendingLanes;if(u===0)return 0;var m=0,A=t.suspendedLanes,P=t.pingedLanes;t=t.warmLanes;var L=u&134217727;return L!==0?(u=L&~A,u!==0?m=jn(u):(P&=L,P!==0?m=jn(P):s||(s=L&~t,s!==0&&(m=jn(s))))):(L=u&~A,L!==0?m=jn(L):P!==0?m=jn(P):s||(s=u&~t,s!==0&&(m=jn(s)))),m===0?0:a!==0&&a!==m&&(a&A)===0&&(A=m&-m,s=a&-a,A>=s||A===32&&(s&4194048)!==0)?a:m}function nr(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function $a(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(){var t=Or;return Or<<=1,(Or&4194048)===0&&(Or=256),t}function Ui(){var t=Ir;return Ir<<=1,(Ir&62914560)===0&&(Ir=4194304),t}function rr(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function Er(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ba(t,a,s,u,m,A){var P=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var L=t.entanglements,F=t.expirationTimes,J=t.hiddenUpdates;for(s=P&~s;0<s;){var ie=31-Ut(s),ue=1<<ie;L[ie]=0,F[ie]=-1;var ee=J[ie];if(ee!==null)for(J[ie]=null,ie=0;ie<ee.length;ie++){var ne=ee[ie];ne!==null&&(ne.lane&=-536870913)}s&=~ue}u!==0&&Rn(t,u,0),A!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=A&~(P&~a))}function Rn(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var u=31-Ut(a);t.entangledLanes|=a,t.entanglements[u]=t.entanglements[u]|1073741824|s&4194090}function Nr(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var u=31-Ut(s),m=1<<u;m&a|t[u]&a&&(t[u]|=a),s&=~m}}function Mr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function q(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:D_(t.type))}function K(t,a){var s=se.p;try{return se.p=t,a()}finally{se.p=s}}var W=Math.random().toString(36).slice(2),le="__reactFiber$"+W,ge="__reactProps$"+W,we="__reactContainer$"+W,Me="__reactEvents$"+W,Ae="__reactListeners$"+W,Se="__reactHandles$"+W,Oe="__reactResources$"+W,Ve="__reactMarker$"+W;function Re(t){delete t[le],delete t[ge],delete t[Me],delete t[Ae],delete t[Se]}function je(t){var a=t[le];if(a)return a;for(var s=t.parentNode;s;){if(a=s[we]||s[le]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=m_(t);t!==null;){if(s=t[le])return s;t=m_(t)}return a}t=s,s=t.parentNode}return null}function Ze(t){if(t=t[le]||t[we]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function dt(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function ut(t){var a=t[Oe];return a||(a=t[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function rt(t){t[Ve]=!0}var Ke=new Set,ar={};function Ht(t,a){xn(t,a),xn(t+"Capture",a)}function xn(t,a){for(ar[t]=a,t=0;t<a.length;t++)Ke.add(a[t])}var sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pr={},Ln={};function qa(t){return Cr.call(Ln,t)?!0:Cr.call(Pr,t)?!1:sn.test(t)?Ln[t]=!0:(Pr[t]=!0,!1)}function yn(t,a,s){if(qa(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function Cn(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function Be(t,a,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+u)}}var zt,Un;function In(t){if(zt===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);zt=a&&a[1]||"",Un=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zt+t+Un}var kr=!1;function At(t,a){if(!t||kr)return"";kr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var ee=ne}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ne){ee=ne}t.call(ue.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=u.DetermineComponentFrameRoot(),P=A[0],L=A[1];if(P&&L){var F=P.split(`
`),J=L.split(`
`);for(m=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(u===F.length||m===J.length)for(u=F.length-1,m=J.length-1;1<=u&&0<=m&&F[u]!==J[m];)m--;for(;1<=u&&0<=m;u--,m--)if(F[u]!==J[m]){if(u!==1||m!==1)do if(u--,m--,0>m||F[u]!==J[m]){var ie=`
`+F[u].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=u&&0<=m);break}}}finally{kr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?In(s):""}function ir(t){switch(t.tag){case 26:case 27:case 5:return In(t.type);case 16:return In("Lazy");case 13:return In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return At(t.type,!1);case 11:return At(t.type.render,!1);case 1:return At(t.type,!0);case 31:return In("Activity");default:return""}}function ua(t){try{var a="";do a+=ir(t),t=t.return;while(t);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zo(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ah(t){var a=zo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),u=""+t[a];if(!t.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var m=s.get,A=s.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return m.call(this)},set:function(P){u=""+P,A.call(this,P)}}),Object.defineProperty(t,a,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(P){u=""+P},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Cs(t){t._valueTracker||(t._valueTracker=ah(t))}function $o(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),u="";return t&&(u=zo(t)?t.checked?"true":"false":t.value),t=u,t!==s?(a.setValue(t),!0):!1}function zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ih=/[\n"\\]/g;function $t(t){return t.replace(ih,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function zn(t,a,s,u,m,A,P,L){t.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?t.type=P:t.removeAttribute("type"),a!=null?P==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+on(a)):t.value!==""+on(a)&&(t.value=""+on(a)):P!=="submit"&&P!=="reset"||t.removeAttribute("value"),a!=null?Ha(t,P,on(a)):s!=null?Ha(t,P,on(s)):u!=null&&t.removeAttribute("value"),m==null&&A!=null&&(t.defaultChecked=!!A),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?t.name=""+on(L):t.removeAttribute("name")}function $i(t,a,s,u,m,A,P,L){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.type=A),a!=null||s!=null){if(!(A!=="submit"&&A!=="reset"||a!=null))return;s=s!=null?""+on(s):"",a=a!=null?""+on(a):s,L||a===t.value||(t.value=a),t.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=L?t.checked:!!u,t.defaultChecked=!!u,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(t.name=P)}function Ha(t,a,s){a==="number"&&zi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ca(t,a,s,u){if(t=t.options,a){a={};for(var m=0;m<s.length;m++)a["$"+s[m]]=!0;for(s=0;s<t.length;s++)m=a.hasOwnProperty("$"+t[s].value),t[s].selected!==m&&(t[s].selected=m),m&&u&&(t[s].defaultSelected=!0)}else{for(s=""+on(s),a=null,m=0;m<t.length;m++){if(t[m].value===s){t[m].selected=!0,u&&(t[m].defaultSelected=!0);return}a!==null||t[m].disabled||(a=t[m])}a!==null&&(a.selected=!0)}}function _t(t,a,s){if(a!=null&&(a=""+on(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+on(s):""}function Bi(t,a,s,u){if(a==null){if(u!=null){if(s!=null)throw Error(i(92));if(pe(u)){if(1<u.length)throw Error(i(93));u=u[0]}s=u}s==null&&(s=""),a=s}s=on(a),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u)}function sr(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var Fi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(t,a,s){var u=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":u?t.setProperty(a,s):typeof s!="number"||s===0||Fi.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function Bo(t,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&s[m]!==u&&Au(t,m,u)}else for(var A in a)a.hasOwnProperty(A)&&Au(t,A,a[A])}function Fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(t){return oh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fa=null;function or(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ha=null,da=null;function qo(t){var a=Ze(t);if(a&&(t=a.stateNode)){var s=t[ge]||null;e:switch(t=a.stateNode,a.type){case"input":if(zn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+$t(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var u=s[a];if(u!==t&&u.form===t.form){var m=u[ge]||null;if(!m)throw Error(i(90));zn(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<s.length;a++)u=s[a],u.form===t.form&&$o(u)}break e;case"textarea":_t(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ca(t,!!s.multiple,a,!1)}}}var Vr=!1;function Tu(t,a,s){if(Vr)return t(a,s);Vr=!0;try{var u=t(a);return u}finally{if(Vr=!1,(ha!==null||da!==null)&&(yc(),ha&&(a=ha,t=da,da=ha=null,qo(a),t)))for(a=0;a<t.length;a++)qo(t[a])}}function qi(t,a){var s=t.stateNode;if(s===null)return null;var u=s[ge]||null;if(u===null)return null;s=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(wr)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{lr=!1}var jr=null,Ga=null,ma=null;function Ho(){if(ma)return ma;var t,a=Ga,s=a.length,u,m="value"in jr?jr.value:jr.textContent,A=m.length;for(t=0;t<s&&a[t]===m[t];t++);var P=s-t;for(u=1;u<=P&&a[s-u]===m[A-u];u++);return ma=m.slice(t,1<u?1-u:void 0)}function Lr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Ur(){return!0}function Go(){return!1}function Jt(t){function a(s,u,m,A,P){this._reactName=s,this._targetInst=m,this.type=u,this.nativeEvent=A,this.target=P,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(s=t[L],this[L]=s?s(A):A[L]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ur:Go,this.isPropagationStopped=Go,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),a}var mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=Jt(mt),Gi=_({},mt,{view:0,detail:0}),Su=Jt(Gi),Is,Ns,zr,Yi=_({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zr&&(zr&&t.type==="mousemove"?(Is=t.screenX-zr.screenX,Ns=t.screenY-zr.screenY):Ns=Is=0,zr=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:Ns}}),ur=Jt(Yi),Ru=_({},Yi,{dataTransfer:0}),lh=Jt(Ru),Qi=_({},Gi,{relatedTarget:0}),Ms=Jt(Qi),Yo=_({},mt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ps=Jt(Yo),xu=_({},mt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ks=Jt(xu),uh=_({},mt,{data:0}),Qo=Jt(uh),Ki={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Du[t])?!!a[t]:!1}function Xi(){return Ko}var Ou=_({},Gi,{key:function(t){if(t.key){var a=Ki[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vs=Jt(Ou),Iu=_({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=Jt(Iu),pa=_({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),Nu=Jt(pa),Mu=_({},mt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=Jt(Mu),ku=_({},Yi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),js=Jt(ku),Dn=_({},mt,{newState:0,oldState:0}),Vu=Jt(Dn),ju=[9,13,27,32],$r=wr&&"CompositionEvent"in window,h=null;wr&&"documentMode"in document&&(h=document.documentMode);var D=wr&&"TextEvent"in window&&!h,N=wr&&(!$r||h&&8<h&&11>=h),z=" ",X=!1;function ae(t,a){switch(t){case"keyup":return ju.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var at=!1;function Gt(t,a){switch(t){case"compositionend":return _e(a);case"keypress":return a.which!==32?null:(X=!0,z);case"textInput":return t=a.data,t===z&&X?null:t;default:return null}}function it(t,a){if(at)return t==="compositionend"||!$r&&ae(t,a)?(t=Ho(),ma=Ga=jr=null,at=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return N&&a.locale!=="ko"?null:a.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!en[t.type]:a==="textarea"}function ga(t,a,s,u){ha?da?da.push(u):da=[u]:ha=u,a=Ac(a,"onChange"),0<a.length&&(s=new Os("onChange","change",null,s,u),t.push({event:s,listeners:a}))}var ln=null,Br=null;function Zo(t){a_(t,0)}function Lu(t){var a=dt(t);if($o(a))return t}function Sg(t,a){if(t==="change")return a}var Rg=!1;if(wr){var ch;if(wr){var fh="oninput"in document;if(!fh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),fh=typeof xg.oninput=="function"}ch=fh}else ch=!1;Rg=ch&&(!document.documentMode||9<document.documentMode)}function Cg(){ln&&(ln.detachEvent("onpropertychange",Dg),Br=ln=null)}function Dg(t){if(t.propertyName==="value"&&Lu(Br)){var a=[];ga(a,Br,t,or(t)),Tu(Zo,a)}}function nA(t,a,s){t==="focusin"?(Cg(),ln=a,Br=s,ln.attachEvent("onpropertychange",Dg)):t==="focusout"&&Cg()}function rA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Br)}function aA(t,a){if(t==="click")return Lu(a)}function iA(t,a){if(t==="input"||t==="change")return Lu(a)}function sA(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var $n=typeof Object.is=="function"?Object.is:sA;function Wo(t,a){if($n(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),u=Object.keys(a);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var m=s[u];if(!Cr.call(a,m)||!$n(t[m],a[m]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,a){var s=Og(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=a&&u>=a)return{node:s,offset:a-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Og(s)}}function Ng(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Ng(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=zi(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=zi(t.document)}return a}function hh(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var oA=wr&&"documentMode"in document&&11>=document.documentMode,Ls=null,dh=null,Jo=null,mh=!1;function Pg(t,a,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;mh||Ls==null||Ls!==zi(u)||(u=Ls,"selectionStart"in u&&hh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Jo&&Wo(Jo,u)||(Jo=u,u=Ac(dh,"onSelect"),0<u.length&&(a=new Os("onSelect","select",null,a,s),t.push({event:a,listeners:u}),a.target=Ls)))}function Zi(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Us={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},ph={},kg={};wr&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Wi(t){if(ph[t])return ph[t];if(!Us[t])return t;var a=Us[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in kg)return ph[t]=a[s];return t}var Vg=Wi("animationend"),jg=Wi("animationiteration"),Lg=Wi("animationstart"),lA=Wi("transitionrun"),uA=Wi("transitionstart"),cA=Wi("transitioncancel"),Ug=Wi("transitionend"),zg=new Map,gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gh.push("scrollEnd");function Ar(t,a){zg.set(t,a),Ht(a,[t])}var $g=new WeakMap;function cr(t,a){if(typeof t=="object"&&t!==null){var s=$g.get(t);return s!==void 0?s:(a={value:t,source:a,stack:ua(a)},$g.set(t,a),a)}return{value:t,source:a,stack:ua(a)}}var fr=[],zs=0,yh=0;function Uu(){for(var t=zs,a=yh=zs=0;a<t;){var s=fr[a];fr[a++]=null;var u=fr[a];fr[a++]=null;var m=fr[a];fr[a++]=null;var A=fr[a];if(fr[a++]=null,u!==null&&m!==null){var P=u.pending;P===null?m.next=m:(m.next=P.next,P.next=m),u.pending=m}A!==0&&Bg(s,m,A)}}function zu(t,a,s,u){fr[zs++]=t,fr[zs++]=a,fr[zs++]=s,fr[zs++]=u,yh|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function vh(t,a,s,u){return zu(t,a,s,u),$u(t)}function $s(t,a){return zu(t,null,null,a),$u(t)}function Bg(t,a,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var m=!1,A=t.return;A!==null;)A.childLanes|=s,u=A.alternate,u!==null&&(u.childLanes|=s),A.tag===22&&(t=A.stateNode,t===null||t._visibility&1||(m=!0)),t=A,A=A.return;return t.tag===3?(A=t.stateNode,m&&a!==null&&(m=31-Ut(s),t=A.hiddenUpdates,u=t[m],u===null?t[m]=[a]:u.push(a),a.lane=s|536870912),A):null}function $u(t){if(50<Tl)throw Tl=0,Td=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Bs={};function fA(t,a,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,a,s,u){return new fA(t,a,s,u)}function _h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ya(t,a){var s=t.alternate;return s===null?(s=Bn(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Fg(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Bu(t,a,s,u,m,A){var P=0;if(u=t,typeof t=="function")_h(t)&&(P=1);else if(typeof t=="string")P=dT(t,s,be.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Bn(31,s,a,m),t.elementType=C,t.lanes=A,t;case v:return Ji(s.children,m,A,a);case b:P=8,m|=24;break;case R:return t=Bn(12,s,a,m|2),t.elementType=R,t.lanes=A,t;case k:return t=Bn(13,s,a,m),t.elementType=k,t.lanes=A,t;case V:return t=Bn(19,s,a,m),t.elementType=V,t.lanes=A,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case x:P=10;break e;case S:P=9;break e;case M:P=11;break e;case I:P=14;break e;case T:P=16,u=null;break e}P=29,s=Error(i(130,t===null?"null":typeof t,"")),u=null}return a=Bn(P,s,a,m),a.elementType=t,a.type=u,a.lanes=A,a}function Ji(t,a,s,u){return t=Bn(7,t,u,a),t.lanes=s,t}function bh(t,a,s){return t=Bn(6,t,null,a),t.lanes=s,t}function Eh(t,a,s){return a=Bn(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Fs=[],qs=0,Fu=null,qu=0,hr=[],dr=0,es=null,va=1,_a="";function ts(t,a){Fs[qs++]=qu,Fs[qs++]=Fu,Fu=t,qu=a}function qg(t,a,s){hr[dr++]=va,hr[dr++]=_a,hr[dr++]=es,es=t;var u=va;t=_a;var m=32-Ut(u)-1;u&=~(1<<m),s+=1;var A=32-Ut(a)+m;if(30<A){var P=m-m%5;A=(u&(1<<P)-1).toString(32),u>>=P,m-=P,va=1<<32-Ut(a)+m|s<<m|u,_a=A+t}else va=1<<A|s<<m|u,_a=t}function wh(t){t.return!==null&&(ts(t,1),qg(t,1,0))}function Ah(t){for(;t===Fu;)Fu=Fs[--qs],Fs[qs]=null,qu=Fs[--qs],Fs[qs]=null;for(;t===es;)es=hr[--dr],hr[dr]=null,_a=hr[--dr],hr[dr]=null,va=hr[--dr],hr[dr]=null}var On=null,Mt=null,ht=!1,ns=null,Fr=!1,Th=Error(i(519));function rs(t){var a=Error(i(418,""));throw nl(cr(a,t)),Th}function Hg(t){var a=t.stateNode,s=t.type,u=t.memoizedProps;switch(a[le]=t,a[ge]=u,s){case"dialog":Je("cancel",a),Je("close",a);break;case"iframe":case"object":case"embed":Je("load",a);break;case"video":case"audio":for(s=0;s<Rl.length;s++)Je(Rl[s],a);break;case"source":Je("error",a);break;case"img":case"image":case"link":Je("error",a),Je("load",a);break;case"details":Je("toggle",a);break;case"input":Je("invalid",a),$i(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Cs(a);break;case"select":Je("invalid",a);break;case"textarea":Je("invalid",a),Bi(a,u.value,u.defaultValue,u.children),Cs(a)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||u.suppressHydrationWarning===!0||l_(a.textContent,s)?(u.popover!=null&&(Je("beforetoggle",a),Je("toggle",a)),u.onScroll!=null&&Je("scroll",a),u.onScrollEnd!=null&&Je("scrollend",a),u.onClick!=null&&(a.onclick=Tc),a=!0):a=!1,a||rs(t)}function Gg(t){for(On=t.return;On;)switch(On.tag){case 5:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:On=On.return}}function el(t){if(t!==On)return!1;if(!ht)return Gg(t),ht=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||zd(t.type,t.memoizedProps)),s=!s),s&&Mt&&rs(t),Gg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(a===0){Mt=Sr(t.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;t=t.nextSibling}Mt=null}}else a===27?(a=Mt,li(t.type)?(t=qd,qd=null,Mt=t):Mt=a):Mt=On?Sr(t.stateNode.nextSibling):null;return!0}function tl(){Mt=On=null,ht=!1}function Yg(){var t=ns;return t!==null&&(Pn===null?Pn=t:Pn.push.apply(Pn,t),ns=null),t}function nl(t){ns===null?ns=[t]:ns.push(t)}var Sh=re(null),as=null,ba=null;function Ya(t,a,s){ce(Sh,a._currentValue),a._currentValue=s}function Ea(t){t._currentValue=Sh.current,me(Sh)}function Rh(t,a,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),t===s)break;t=t.return}}function xh(t,a,s,u){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var A=m.dependencies;if(A!==null){var P=m.child;A=A.firstContext;e:for(;A!==null;){var L=A;A=m;for(var F=0;F<a.length;F++)if(L.context===a[F]){A.lanes|=s,L=A.alternate,L!==null&&(L.lanes|=s),Rh(A.return,s,t),u||(P=null);break e}A=L.next}}else if(m.tag===18){if(P=m.return,P===null)throw Error(i(341));P.lanes|=s,A=P.alternate,A!==null&&(A.lanes|=s),Rh(P,s,t),P=null}else P=m.child;if(P!==null)P.return=m;else for(P=m;P!==null;){if(P===t){P=null;break}if(m=P.sibling,m!==null){m.return=P.return,P=m;break}P=P.return}m=P}}function rl(t,a,s,u){t=null;for(var m=a,A=!1;m!==null;){if(!A){if((m.flags&524288)!==0)A=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var P=m.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var L=m.type;$n(m.pendingProps.value,P.value)||(t!==null?t.push(L):t=[L])}}else if(m===St.current){if(P=m.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}m=m.return}t!==null&&xh(a,t,s,u),a.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!$n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function is(t){as=t,ba=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function vn(t){return Qg(as,t)}function Gu(t,a){return as===null&&is(t),Qg(t,a)}function Qg(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},ba===null){if(t===null)throw Error(i(308));ba=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ba=ba.next=a;return s}var hA=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},dA=n.unstable_scheduleCallback,mA=n.unstable_NormalPriority,Qt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new hA,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&dA(mA,function(){t.controller.abort()})}var il=null,Dh=0,Hs=0,Gs=null;function pA(t,a){if(il===null){var s=il=[];Dh=0,Hs=Id(),Gs={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Dh++,a.then(Kg,Kg),a}function Kg(){if(--Dh===0&&il!==null){Gs!==null&&(Gs.status="fulfilled");var t=il;il=null,Hs=0,Gs=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function gA(t,a){var s=[],u={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return t.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<s.length;m++)(0,s[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),u}var Xg=Y.S;Y.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&pA(t,a),Xg!==null&&Xg(t,a)};var ss=re(null);function Oh(){var t=ss.current;return t!==null?t:Rt.pooledCache}function Yu(t,a){a===null?ce(ss,ss.current):ce(ss,a.pool)}function Zg(){var t=Oh();return t===null?null:{parent:Qt._currentValue,pool:t}}var sl=Error(i(460)),Wg=Error(i(474)),Qu=Error(i(542)),Ih={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ku(){}function ey(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(Ku,Ku),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,ny(t),t;default:if(typeof a.status=="string")a.then(Ku,Ku);else{if(t=Rt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,ny(t),t}throw ol=a,sl}}var ol=null;function ty(){if(ol===null)throw Error(i(459));var t=ol;return ol=null,t}function ny(t){if(t===sl||t===Qu)throw Error(i(483))}var Qa=!1;function Nh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ka(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xa(t,a,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(gt&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=$u(t),Bg(t,null,s),a}return zu(t,u,a,s),$u(t)}function ll(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var u=a.lanes;u&=t.pendingLanes,s|=u,a.lanes=s,Nr(t,s)}}function Ph(t,a){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var m=null,A=null;if(s=s.firstBaseUpdate,s!==null){do{var P={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};A===null?m=A=P:A=A.next=P,s=s.next}while(s!==null);A===null?m=A=a:A=A.next=a}else m=A=a;s={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:A,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var kh=!1;function ul(){if(kh){var t=Gs;if(t!==null)throw t}}function cl(t,a,s,u){kh=!1;var m=t.updateQueue;Qa=!1;var A=m.firstBaseUpdate,P=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var F=L,J=F.next;F.next=null,P===null?A=J:P.next=J,P=F;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==P&&(L===null?ie.firstBaseUpdate=J:L.next=J,ie.lastBaseUpdate=F))}if(A!==null){var ue=m.baseState;P=0,ie=J=F=null,L=A;do{var ee=L.lane&-536870913,ne=ee!==L.lane;if(ne?(st&ee)===ee:(u&ee)===ee){ee!==0&&ee===Hs&&(kh=!0),ie!==null&&(ie=ie.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var $e=t,ke=L;ee=a;var wt=s;switch(ke.tag){case 1:if($e=ke.payload,typeof $e=="function"){ue=$e.call(wt,ue,ee);break e}ue=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=ke.payload,ee=typeof $e=="function"?$e.call(wt,ue,ee):$e,ee==null)break e;ue=_({},ue,ee);break e;case 2:Qa=!0}}ee=L.callback,ee!==null&&(t.flags|=64,ne&&(t.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(J=ie=ne,F=ue):ie=ie.next=ne,P|=ee;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;ne=L,L=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ie===null&&(F=ue),m.baseState=F,m.firstBaseUpdate=J,m.lastBaseUpdate=ie,A===null&&(m.shared.lanes=0),ai|=P,t.lanes=P,t.memoizedState=ue}}function ry(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function ay(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ry(s[t],a)}var Ys=re(null),Xu=re(0);function iy(t,a){t=Ca,ce(Xu,t),ce(Ys,a),Ca=t|a.baseLanes}function Vh(){ce(Xu,Ca),ce(Ys,Ys.current)}function jh(){Ca=Xu.current,me(Ys),me(Xu)}var Za=0,Ye=null,bt=null,Bt=null,Zu=!1,Qs=!1,os=!1,Wu=0,fl=0,Ks=null,yA=0;function kt(){throw Error(i(321))}function Lh(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!$n(t[s],a[s]))return!1;return!0}function Uh(t,a,s,u,m,A){return Za=A,Ye=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=t===null||t.memoizedState===null?By:Fy,os=!1,A=s(u,m),os=!1,Qs&&(A=oy(a,s,u,m)),sy(t),A}function sy(t){Y.H=ac;var a=bt!==null&&bt.next!==null;if(Za=0,Bt=bt=Ye=null,Zu=!1,fl=0,Ks=null,a)throw Error(i(300));t===null||tn||(t=t.dependencies,t!==null&&Hu(t)&&(tn=!0))}function oy(t,a,s,u){Ye=t;var m=0;do{if(Qs&&(Ks=null),fl=0,Qs=!1,25<=m)throw Error(i(301));if(m+=1,Bt=bt=null,t.updateQueue!=null){var A=t.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}Y.H=TA,A=a(s,u)}while(Qs);return A}function vA(){var t=Y.H,a=t.useState()[0];return a=typeof a.then=="function"?hl(a):a,t=t.useState()[0],(bt!==null?bt.memoizedState:null)!==t&&(Ye.flags|=1024),a}function zh(){var t=Wu!==0;return Wu=0,t}function $h(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function Bh(t){if(Zu){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Zu=!1}Za=0,Bt=bt=Ye=null,Qs=!1,fl=Wu=0,Ks=null}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ye.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Ft(){if(bt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var a=Bt===null?Ye.memoizedState:Bt.next;if(a!==null)Bt=a,bt=t;else{if(t===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Bt===null?Ye.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var a=fl;return fl+=1,Ks===null&&(Ks=[]),t=ey(Ks,t,a),a=Ye,(Bt===null?a.memoizedState:Bt.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?By:Fy),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===x)return vn(t)}throw Error(i(438,String(t)))}function qh(t){var a=null,s=Ye.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var u=Ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Fh(),Ye.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),u=0;u<t;u++)s[u]=O;return a.index++,s}function wa(t,a){return typeof a=="function"?a(t):a}function ec(t){var a=Ft();return Hh(a,bt,t)}function Hh(t,a,s){var u=t.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var m=t.baseQueue,A=u.pending;if(A!==null){if(m!==null){var P=m.next;m.next=A.next,A.next=P}a.baseQueue=m=A,u.pending=null}if(A=t.baseState,m===null)t.memoizedState=A;else{a=m.next;var L=P=null,F=null,J=a,ie=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(st&ue)===ue:(Za&ue)===ue){var ee=J.revertLane;if(ee===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===Hs&&(ie=!0);else if((Za&ee)===ee){J=J.next,ee===Hs&&(ie=!0);continue}else ue={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},F===null?(L=F=ue,P=A):F=F.next=ue,Ye.lanes|=ee,ai|=ee;ue=J.action,os&&s(A,ue),A=J.hasEagerState?J.eagerState:s(A,ue)}else ee={lane:ue,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},F===null?(L=F=ee,P=A):F=F.next=ee,Ye.lanes|=ue,ai|=ue;J=J.next}while(J!==null&&J!==a);if(F===null?P=A:F.next=L,!$n(A,t.memoizedState)&&(tn=!0,ie&&(s=Gs,s!==null)))throw s;t.memoizedState=A,t.baseState=P,t.baseQueue=F,u.lastRenderedState=A}return m===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Gh(t){var a=Ft(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var u=s.dispatch,m=s.pending,A=a.memoizedState;if(m!==null){s.pending=null;var P=m=m.next;do A=t(A,P.action),P=P.next;while(P!==m);$n(A,a.memoizedState)||(tn=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),s.lastRenderedState=A}return[A,u]}function ly(t,a,s){var u=Ye,m=Ft(),A=ht;if(A){if(s===void 0)throw Error(i(407));s=s()}else s=a();var P=!$n((bt||m).memoizedState,s);P&&(m.memoizedState=s,tn=!0),m=m.queue;var L=fy.bind(null,u,m,t);if(dl(2048,8,L,[t]),m.getSnapshot!==a||P||Bt!==null&&Bt.memoizedState.tag&1){if(u.flags|=2048,Xs(9,tc(),cy.bind(null,u,m,s,a),null),Rt===null)throw Error(i(349));A||(Za&124)!==0||uy(u,a,s)}return s}function uy(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Ye.updateQueue,a===null?(a=Fh(),Ye.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function cy(t,a,s,u){a.value=s,a.getSnapshot=u,hy(a)&&dy(t)}function fy(t,a,s){return s(function(){hy(a)&&dy(t)})}function hy(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!$n(t,s)}catch{return!0}}function dy(t){var a=$s(t,2);a!==null&&Yn(a,t,2)}function Yh(t){var a=Nn();if(typeof t=="function"){var s=t;if(t=s(),os){gn(!0);try{s()}finally{gn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:t},a}function my(t,a,s,u){return t.baseState=s,Hh(t,bt,typeof u=="function"?u:wa)}function _A(t,a,s,u,m){if(rc(t))throw Error(i(485));if(t=a.action,t!==null){var A={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){A.listeners.push(P)}};Y.T!==null?s(!0):A.isTransition=!1,u(A),s=a.pending,s===null?(A.next=a.pending=A,py(a,A)):(A.next=s.next,a.pending=s.next=A)}}function py(t,a){var s=a.action,u=a.payload,m=t.state;if(a.isTransition){var A=Y.T,P={};Y.T=P;try{var L=s(m,u),F=Y.S;F!==null&&F(P,L),gy(t,a,L)}catch(J){Qh(t,a,J)}finally{Y.T=A}}else try{A=s(m,u),gy(t,a,A)}catch(J){Qh(t,a,J)}}function gy(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){yy(t,a,u)},function(u){return Qh(t,a,u)}):yy(t,a,s)}function yy(t,a,s){a.status="fulfilled",a.value=s,vy(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,py(t,s)))}function Qh(t,a,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=s,vy(a),a=a.next;while(a!==u)}t.action=null}function vy(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function _y(t,a){return a}function by(t,a){if(ht){var s=Rt.formState;if(s!==null){e:{var u=Ye;if(ht){if(Mt){t:{for(var m=Mt,A=Fr;m.nodeType!==8;){if(!A){m=null;break t}if(m=Sr(m.nextSibling),m===null){m=null;break t}}A=m.data,m=A==="F!"||A==="F"?m:null}if(m){Mt=Sr(m.nextSibling),u=m.data==="F!";break e}}rs(u)}u=!1}u&&(a=s[0])}}return s=Nn(),s.memoizedState=s.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:a},s.queue=u,s=Uy.bind(null,Ye,u),u.dispatch=s,u=Yh(!1),A=Jh.bind(null,Ye,!1,u.queue),u=Nn(),m={state:a,dispatch:null,action:t,pending:null},u.queue=m,s=_A.bind(null,Ye,m,A,s),m.dispatch=s,u.memoizedState=t,[a,s,!1]}function Ey(t){var a=Ft();return wy(a,bt,t)}function wy(t,a,s){if(a=Hh(t,a,_y)[0],t=ec(wa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=hl(a)}catch(P){throw P===sl?Qu:P}else u=a;a=Ft();var m=a.queue,A=m.dispatch;return s!==a.memoizedState&&(Ye.flags|=2048,Xs(9,tc(),bA.bind(null,m,s),null)),[u,A,t]}function bA(t,a){t.action=a}function Ay(t){var a=Ft(),s=bt;if(s!==null)return wy(a,s,t);Ft(),a=a.memoizedState,s=Ft();var u=s.queue.dispatch;return s.memoizedState=t,[a,u,!1]}function Xs(t,a,s,u){return t={tag:t,create:s,deps:u,inst:a,next:null},a=Ye.updateQueue,a===null&&(a=Fh(),Ye.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,a.lastEffect=t),t}function tc(){return{destroy:void 0,resource:void 0}}function Ty(){return Ft().memoizedState}function nc(t,a,s,u){var m=Nn();u=u===void 0?null:u,Ye.flags|=t,m.memoizedState=Xs(1|a,tc(),s,u)}function dl(t,a,s,u){var m=Ft();u=u===void 0?null:u;var A=m.memoizedState.inst;bt!==null&&u!==null&&Lh(u,bt.memoizedState.deps)?m.memoizedState=Xs(a,A,s,u):(Ye.flags|=t,m.memoizedState=Xs(1|a,A,s,u))}function Sy(t,a){nc(8390656,8,t,a)}function Ry(t,a){dl(2048,8,t,a)}function xy(t,a){return dl(4,2,t,a)}function Cy(t,a){return dl(4,4,t,a)}function Dy(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Oy(t,a,s){s=s!=null?s.concat([t]):null,dl(4,4,Dy.bind(null,a,t),s)}function Kh(){}function Iy(t,a){var s=Ft();a=a===void 0?null:a;var u=s.memoizedState;return a!==null&&Lh(a,u[1])?u[0]:(s.memoizedState=[t,a],t)}function Ny(t,a){var s=Ft();a=a===void 0?null:a;var u=s.memoizedState;if(a!==null&&Lh(a,u[1]))return u[0];if(u=t(),os){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[u,a],u}function Xh(t,a,s){return s===void 0||(Za&1073741824)!==0?t.memoizedState=a:(t.memoizedState=s,t=kv(),Ye.lanes|=t,ai|=t,s)}function My(t,a,s,u){return $n(s,a)?s:Ys.current!==null?(t=Xh(t,s,u),$n(t,a)||(tn=!0),t):(Za&42)===0?(tn=!0,t.memoizedState=s):(t=kv(),Ye.lanes|=t,ai|=t,a)}function Py(t,a,s,u,m){var A=se.p;se.p=A!==0&&8>A?A:8;var P=Y.T,L={};Y.T=L,Jh(t,!1,a,s);try{var F=m(),J=Y.S;if(J!==null&&J(L,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ie=gA(F,u);ml(t,a,ie,Gn(t))}else ml(t,a,u,Gn(t))}catch(ue){ml(t,a,{then:function(){},status:"rejected",reason:ue},Gn())}finally{se.p=A,Y.T=P}}function EA(){}function Zh(t,a,s,u){if(t.tag!==5)throw Error(i(476));var m=ky(t).queue;Py(t,m,a,ve,s===null?EA:function(){return Vy(t),s(u)})}function ky(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:ve},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Vy(t){var a=ky(t).next.queue;ml(t,a,{},Gn())}function Wh(){return vn(Nl)}function jy(){return Ft().memoizedState}function Ly(){return Ft().memoizedState}function wA(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=Gn();t=Ka(s);var u=Xa(a,t,s);u!==null&&(Yn(u,a,s),ll(u,a,s)),a={cache:Ch()},t.payload=a;return}a=a.return}}function AA(t,a,s){var u=Gn();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},rc(t)?zy(a,s):(s=vh(t,a,s,u),s!==null&&(Yn(s,t,u),$y(s,a,u)))}function Uy(t,a,s){var u=Gn();ml(t,a,s,u)}function ml(t,a,s,u){var m={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(rc(t))zy(a,m);else{var A=t.alternate;if(t.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var P=a.lastRenderedState,L=A(P,s);if(m.hasEagerState=!0,m.eagerState=L,$n(L,P))return zu(t,a,m,0),Rt===null&&Uu(),!1}catch{}finally{}if(s=vh(t,a,m,u),s!==null)return Yn(s,t,u),$y(s,a,u),!0}return!1}function Jh(t,a,s,u){if(u={lane:2,revertLane:Id(),action:u,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(a)throw Error(i(479))}else a=vh(t,s,u,2),a!==null&&Yn(a,t,2)}function rc(t){var a=t.alternate;return t===Ye||a!==null&&a===Ye}function zy(t,a){Qs=Zu=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function $y(t,a,s){if((s&4194048)!==0){var u=a.lanes;u&=t.pendingLanes,s|=u,a.lanes=s,Nr(t,s)}}var ac={readContext:vn,use:Ju,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},By={readContext:vn,use:Ju,useCallback:function(t,a){return Nn().memoizedState=[t,a===void 0?null:a],t},useContext:vn,useEffect:Sy,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,nc(4194308,4,Dy.bind(null,a,t),s)},useLayoutEffect:function(t,a){return nc(4194308,4,t,a)},useInsertionEffect:function(t,a){nc(4,2,t,a)},useMemo:function(t,a){var s=Nn();a=a===void 0?null:a;var u=t();if(os){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[u,a],u},useReducer:function(t,a,s){var u=Nn();if(s!==void 0){var m=s(a);if(os){gn(!0);try{s(a)}finally{gn(!1)}}}else m=a;return u.memoizedState=u.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},u.queue=t,t=t.dispatch=AA.bind(null,Ye,t),[u.memoizedState,t]},useRef:function(t){var a=Nn();return t={current:t},a.memoizedState=t},useState:function(t){t=Yh(t);var a=t.queue,s=Uy.bind(null,Ye,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:Kh,useDeferredValue:function(t,a){var s=Nn();return Xh(s,t,a)},useTransition:function(){var t=Yh(!1);return t=Py.bind(null,Ye,t.queue,!0,!1),Nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var u=Ye,m=Nn();if(ht){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),Rt===null)throw Error(i(349));(st&124)!==0||uy(u,a,s)}m.memoizedState=s;var A={value:s,getSnapshot:a};return m.queue=A,Sy(fy.bind(null,u,A,t),[t]),u.flags|=2048,Xs(9,tc(),cy.bind(null,u,A,s,a),null),s},useId:function(){var t=Nn(),a=Rt.identifierPrefix;if(ht){var s=_a,u=va;s=(u&~(1<<32-Ut(u)-1)).toString(32)+s,a="«"+a+"R"+s,s=Wu++,0<s&&(a+="H"+s.toString(32)),a+="»"}else s=yA++,a="«"+a+"r"+s.toString(32)+"»";return t.memoizedState=a},useHostTransitionStatus:Wh,useFormState:by,useActionState:by,useOptimistic:function(t){var a=Nn();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Jh.bind(null,Ye,!0,s),s.dispatch=a,[t,a]},useMemoCache:qh,useCacheRefresh:function(){return Nn().memoizedState=wA.bind(null,Ye)}},Fy={readContext:vn,use:Ju,useCallback:Iy,useContext:vn,useEffect:Ry,useImperativeHandle:Oy,useInsertionEffect:xy,useLayoutEffect:Cy,useMemo:Ny,useReducer:ec,useRef:Ty,useState:function(){return ec(wa)},useDebugValue:Kh,useDeferredValue:function(t,a){var s=Ft();return My(s,bt.memoizedState,t,a)},useTransition:function(){var t=ec(wa)[0],a=Ft().memoizedState;return[typeof t=="boolean"?t:hl(t),a]},useSyncExternalStore:ly,useId:jy,useHostTransitionStatus:Wh,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,a){var s=Ft();return my(s,bt,t,a)},useMemoCache:qh,useCacheRefresh:Ly},TA={readContext:vn,use:Ju,useCallback:Iy,useContext:vn,useEffect:Ry,useImperativeHandle:Oy,useInsertionEffect:xy,useLayoutEffect:Cy,useMemo:Ny,useReducer:Gh,useRef:Ty,useState:function(){return Gh(wa)},useDebugValue:Kh,useDeferredValue:function(t,a){var s=Ft();return bt===null?Xh(s,t,a):My(s,bt.memoizedState,t,a)},useTransition:function(){var t=Gh(wa)[0],a=Ft().memoizedState;return[typeof t=="boolean"?t:hl(t),a]},useSyncExternalStore:ly,useId:jy,useHostTransitionStatus:Wh,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,a){var s=Ft();return bt!==null?my(s,bt,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:qh,useCacheRefresh:Ly},Zs=null,pl=0;function ic(t){var a=pl;return pl+=1,Zs===null&&(Zs=[]),ey(Zs,t,a)}function gl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function sc(t,a){throw a.$$typeof===d?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function qy(t){var a=t._init;return a(t._payload)}function Hy(t){function a(Q,H){if(t){var Z=Q.deletions;Z===null?(Q.deletions=[H],Q.flags|=16):Z.push(H)}}function s(Q,H){if(!t)return null;for(;H!==null;)a(Q,H),H=H.sibling;return null}function u(Q){for(var H=new Map;Q!==null;)Q.key!==null?H.set(Q.key,Q):H.set(Q.index,Q),Q=Q.sibling;return H}function m(Q,H){return Q=ya(Q,H),Q.index=0,Q.sibling=null,Q}function A(Q,H,Z){return Q.index=Z,t?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<H?(Q.flags|=67108866,H):Z):(Q.flags|=67108866,H)):(Q.flags|=1048576,H)}function P(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function L(Q,H,Z,oe){return H===null||H.tag!==6?(H=bh(Z,Q.mode,oe),H.return=Q,H):(H=m(H,Z),H.return=Q,H)}function F(Q,H,Z,oe){var Te=Z.type;return Te===v?ie(Q,H,Z.props.children,oe,Z.key):H!==null&&(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===T&&qy(Te)===H.type)?(H=m(H,Z.props),gl(H,Z),H.return=Q,H):(H=Bu(Z.type,Z.key,Z.props,null,Q.mode,oe),gl(H,Z),H.return=Q,H)}function J(Q,H,Z,oe){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=Eh(Z,Q.mode,oe),H.return=Q,H):(H=m(H,Z.children||[]),H.return=Q,H)}function ie(Q,H,Z,oe,Te){return H===null||H.tag!==7?(H=Ji(Z,Q.mode,oe,Te),H.return=Q,H):(H=m(H,Z),H.return=Q,H)}function ue(Q,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=bh(""+H,Q.mode,Z),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case y:return Z=Bu(H.type,H.key,H.props,null,Q.mode,Z),gl(Z,H),Z.return=Q,Z;case E:return H=Eh(H,Q.mode,Z),H.return=Q,H;case T:var oe=H._init;return H=oe(H._payload),ue(Q,H,Z)}if(pe(H)||$(H))return H=Ji(H,Q.mode,Z,null),H.return=Q,H;if(typeof H.then=="function")return ue(Q,ic(H),Z);if(H.$$typeof===x)return ue(Q,Gu(Q,H),Z);sc(Q,H)}return null}function ee(Q,H,Z,oe){var Te=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Te!==null?null:L(Q,H,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return Z.key===Te?F(Q,H,Z,oe):null;case E:return Z.key===Te?J(Q,H,Z,oe):null;case T:return Te=Z._init,Z=Te(Z._payload),ee(Q,H,Z,oe)}if(pe(Z)||$(Z))return Te!==null?null:ie(Q,H,Z,oe,null);if(typeof Z.then=="function")return ee(Q,H,ic(Z),oe);if(Z.$$typeof===x)return ee(Q,H,Gu(Q,Z),oe);sc(Q,Z)}return null}function ne(Q,H,Z,oe,Te){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Q=Q.get(Z)||null,L(H,Q,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return Q=Q.get(oe.key===null?Z:oe.key)||null,F(H,Q,oe,Te);case E:return Q=Q.get(oe.key===null?Z:oe.key)||null,J(H,Q,oe,Te);case T:var Xe=oe._init;return oe=Xe(oe._payload),ne(Q,H,Z,oe,Te)}if(pe(oe)||$(oe))return Q=Q.get(Z)||null,ie(H,Q,oe,Te,null);if(typeof oe.then=="function")return ne(Q,H,Z,ic(oe),Te);if(oe.$$typeof===x)return ne(Q,H,Z,Gu(H,oe),Te);sc(H,oe)}return null}function $e(Q,H,Z,oe){for(var Te=null,Xe=null,Ie=H,Le=H=0,rn=null;Ie!==null&&Le<Z.length;Le++){Ie.index>Le?(rn=Ie,Ie=null):rn=Ie.sibling;var ct=ee(Q,Ie,Z[Le],oe);if(ct===null){Ie===null&&(Ie=rn);break}t&&Ie&&ct.alternate===null&&a(Q,Ie),H=A(ct,H,Le),Xe===null?Te=ct:Xe.sibling=ct,Xe=ct,Ie=rn}if(Le===Z.length)return s(Q,Ie),ht&&ts(Q,Le),Te;if(Ie===null){for(;Le<Z.length;Le++)Ie=ue(Q,Z[Le],oe),Ie!==null&&(H=A(Ie,H,Le),Xe===null?Te=Ie:Xe.sibling=Ie,Xe=Ie);return ht&&ts(Q,Le),Te}for(Ie=u(Ie);Le<Z.length;Le++)rn=ne(Ie,Q,Le,Z[Le],oe),rn!==null&&(t&&rn.alternate!==null&&Ie.delete(rn.key===null?Le:rn.key),H=A(rn,H,Le),Xe===null?Te=rn:Xe.sibling=rn,Xe=rn);return t&&Ie.forEach(function(di){return a(Q,di)}),ht&&ts(Q,Le),Te}function ke(Q,H,Z,oe){if(Z==null)throw Error(i(151));for(var Te=null,Xe=null,Ie=H,Le=H=0,rn=null,ct=Z.next();Ie!==null&&!ct.done;Le++,ct=Z.next()){Ie.index>Le?(rn=Ie,Ie=null):rn=Ie.sibling;var di=ee(Q,Ie,ct.value,oe);if(di===null){Ie===null&&(Ie=rn);break}t&&Ie&&di.alternate===null&&a(Q,Ie),H=A(di,H,Le),Xe===null?Te=di:Xe.sibling=di,Xe=di,Ie=rn}if(ct.done)return s(Q,Ie),ht&&ts(Q,Le),Te;if(Ie===null){for(;!ct.done;Le++,ct=Z.next())ct=ue(Q,ct.value,oe),ct!==null&&(H=A(ct,H,Le),Xe===null?Te=ct:Xe.sibling=ct,Xe=ct);return ht&&ts(Q,Le),Te}for(Ie=u(Ie);!ct.done;Le++,ct=Z.next())ct=ne(Ie,Q,Le,ct.value,oe),ct!==null&&(t&&ct.alternate!==null&&Ie.delete(ct.key===null?Le:ct.key),H=A(ct,H,Le),Xe===null?Te=ct:Xe.sibling=ct,Xe=ct);return t&&Ie.forEach(function(ST){return a(Q,ST)}),ht&&ts(Q,Le),Te}function wt(Q,H,Z,oe){if(typeof Z=="object"&&Z!==null&&Z.type===v&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:e:{for(var Te=Z.key;H!==null;){if(H.key===Te){if(Te=Z.type,Te===v){if(H.tag===7){s(Q,H.sibling),oe=m(H,Z.props.children),oe.return=Q,Q=oe;break e}}else if(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===T&&qy(Te)===H.type){s(Q,H.sibling),oe=m(H,Z.props),gl(oe,Z),oe.return=Q,Q=oe;break e}s(Q,H);break}else a(Q,H);H=H.sibling}Z.type===v?(oe=Ji(Z.props.children,Q.mode,oe,Z.key),oe.return=Q,Q=oe):(oe=Bu(Z.type,Z.key,Z.props,null,Q.mode,oe),gl(oe,Z),oe.return=Q,Q=oe)}return P(Q);case E:e:{for(Te=Z.key;H!==null;){if(H.key===Te)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){s(Q,H.sibling),oe=m(H,Z.children||[]),oe.return=Q,Q=oe;break e}else{s(Q,H);break}else a(Q,H);H=H.sibling}oe=Eh(Z,Q.mode,oe),oe.return=Q,Q=oe}return P(Q);case T:return Te=Z._init,Z=Te(Z._payload),wt(Q,H,Z,oe)}if(pe(Z))return $e(Q,H,Z,oe);if($(Z)){if(Te=$(Z),typeof Te!="function")throw Error(i(150));return Z=Te.call(Z),ke(Q,H,Z,oe)}if(typeof Z.then=="function")return wt(Q,H,ic(Z),oe);if(Z.$$typeof===x)return wt(Q,H,Gu(Q,Z),oe);sc(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,H!==null&&H.tag===6?(s(Q,H.sibling),oe=m(H,Z),oe.return=Q,Q=oe):(s(Q,H),oe=bh(Z,Q.mode,oe),oe.return=Q,Q=oe),P(Q)):s(Q,H)}return function(Q,H,Z,oe){try{pl=0;var Te=wt(Q,H,Z,oe);return Zs=null,Te}catch(Ie){if(Ie===sl||Ie===Qu)throw Ie;var Xe=Bn(29,Ie,null,Q.mode);return Xe.lanes=oe,Xe.return=Q,Xe}finally{}}}var Ws=Hy(!0),Gy=Hy(!1),mr=re(null),qr=null;function Wa(t){var a=t.alternate;ce(Kt,Kt.current&1),ce(mr,t),qr===null&&(a===null||Ys.current!==null||a.memoizedState!==null)&&(qr=t)}function Yy(t){if(t.tag===22){if(ce(Kt,Kt.current),ce(mr,t),qr===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(qr=t)}}else Ja()}function Ja(){ce(Kt,Kt.current),ce(mr,mr.current)}function Aa(t){me(mr),qr===t&&(qr=null),me(Kt)}var Kt=re(0);function oc(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Fd(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ed(t,a,s,u){a=t.memoizedState,s=s(u,a),s=s==null?a:_({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var td={enqueueSetState:function(t,a,s){t=t._reactInternals;var u=Gn(),m=Ka(u);m.payload=a,s!=null&&(m.callback=s),a=Xa(t,m,u),a!==null&&(Yn(a,t,u),ll(a,t,u))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var u=Gn(),m=Ka(u);m.tag=1,m.payload=a,s!=null&&(m.callback=s),a=Xa(t,m,u),a!==null&&(Yn(a,t,u),ll(a,t,u))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=Gn(),u=Ka(s);u.tag=2,a!=null&&(u.callback=a),a=Xa(t,u,s),a!==null&&(Yn(a,t,s),ll(a,t,s))}};function Qy(t,a,s,u,m,A,P){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,A,P):a.prototype&&a.prototype.isPureReactComponent?!Wo(s,u)||!Wo(m,A):!0}function Ky(t,a,s,u){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,u),a.state!==t&&td.enqueueReplaceState(a,a.state,null)}function ls(t,a){var s=a;if("ref"in a){s={};for(var u in a)u!=="ref"&&(s[u]=a[u])}if(t=t.defaultProps){s===a&&(s=_({},s));for(var m in t)s[m]===void 0&&(s[m]=t[m])}return s}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Xy(t){lc(t)}function Zy(t){console.error(t)}function Wy(t){lc(t)}function uc(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Jy(t,a,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function nd(t,a,s){return s=Ka(s),s.tag=3,s.payload={element:null},s.callback=function(){uc(t,a)},s}function ev(t){return t=Ka(t),t.tag=3,t}function tv(t,a,s,u){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var A=u.value;t.payload=function(){return m(A)},t.callback=function(){Jy(a,s,u)}}var P=s.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(t.callback=function(){Jy(a,s,u),typeof m!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var L=u.stack;this.componentDidCatch(u.value,{componentStack:L!==null?L:""})})}function SA(t,a,s,u,m){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=s.alternate,a!==null&&rl(a,s,m,!0),s=mr.current,s!==null){switch(s.tag){case 13:return qr===null?Rd():s.alternate===null&&Pt===0&&(Pt=3),s.flags&=-257,s.flags|=65536,s.lanes=m,u===Ih?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([u]):a.add(u),Cd(t,u,m)),!1;case 22:return s.flags|=65536,u===Ih?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([u]):s.add(u)),Cd(t,u,m)),!1}throw Error(i(435,s.tag))}return Cd(t,u,m),Rd(),!1}if(ht)return a=mr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==Th&&(t=Error(i(422),{cause:u}),nl(cr(t,s)))):(u!==Th&&(a=Error(i(423),{cause:u}),nl(cr(a,s))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,u=cr(u,s),m=nd(t.stateNode,u,m),Ph(t,m),Pt!==4&&(Pt=2)),!1;var A=Error(i(520),{cause:u});if(A=cr(A,s),Al===null?Al=[A]:Al.push(A),Pt!==4&&(Pt=2),a===null)return!0;u=cr(u,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=m&-m,s.lanes|=t,t=nd(s.stateNode,u,t),Ph(s,t),!1;case 1:if(a=s.type,A=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ii===null||!ii.has(A))))return s.flags|=65536,m&=-m,s.lanes|=m,m=ev(m),tv(m,t,s,u),Ph(s,m),!1}s=s.return}while(s!==null);return!1}var nv=Error(i(461)),tn=!1;function un(t,a,s,u){a.child=t===null?Gy(a,null,s,u):Ws(a,t.child,s,u)}function rv(t,a,s,u,m){s=s.render;var A=a.ref;if("ref"in u){var P={};for(var L in u)L!=="ref"&&(P[L]=u[L])}else P=u;return is(a),u=Uh(t,a,s,P,A,m),L=zh(),t!==null&&!tn?($h(t,a,m),Ta(t,a,m)):(ht&&L&&wh(a),a.flags|=1,un(t,a,u,m),a.child)}function av(t,a,s,u,m){if(t===null){var A=s.type;return typeof A=="function"&&!_h(A)&&A.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=A,iv(t,a,A,u,m)):(t=Bu(s.type,null,u,a,a.mode,m),t.ref=a.ref,t.return=a,a.child=t)}if(A=t.child,!cd(t,m)){var P=A.memoizedProps;if(s=s.compare,s=s!==null?s:Wo,s(P,u)&&t.ref===a.ref)return Ta(t,a,m)}return a.flags|=1,t=ya(A,u),t.ref=a.ref,t.return=a,a.child=t}function iv(t,a,s,u,m){if(t!==null){var A=t.memoizedProps;if(Wo(A,u)&&t.ref===a.ref)if(tn=!1,a.pendingProps=u=A,cd(t,m))(t.flags&131072)!==0&&(tn=!0);else return a.lanes=t.lanes,Ta(t,a,m)}return rd(t,a,s,u,m)}function sv(t,a,s){var u=a.pendingProps,m=u.children,A=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=A!==null?A.baseLanes|s:s,t!==null){for(m=a.child=t.child,A=0;m!==null;)A=A|m.lanes|m.childLanes,m=m.sibling;a.childLanes=A&~u}else a.childLanes=0,a.child=null;return ov(t,a,u,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(a,A!==null?A.cachePool:null),A!==null?iy(a,A):Vh(),Yy(a);else return a.lanes=a.childLanes=536870912,ov(t,a,A!==null?A.baseLanes|s:s,s)}else A!==null?(Yu(a,A.cachePool),iy(a,A),Ja(),a.memoizedState=null):(t!==null&&Yu(a,null),Vh(),Ja());return un(t,a,m,s),a.child}function ov(t,a,s,u){var m=Oh();return m=m===null?null:{parent:Qt._currentValue,pool:m},a.memoizedState={baseLanes:s,cachePool:m},t!==null&&Yu(a,null),Vh(),Yy(a),t!==null&&rl(t,a,u,!0),null}function cc(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function rd(t,a,s,u,m){return is(a),s=Uh(t,a,s,u,void 0,m),u=zh(),t!==null&&!tn?($h(t,a,m),Ta(t,a,m)):(ht&&u&&wh(a),a.flags|=1,un(t,a,s,m),a.child)}function lv(t,a,s,u,m,A){return is(a),a.updateQueue=null,s=oy(a,u,s,m),sy(t),u=zh(),t!==null&&!tn?($h(t,a,A),Ta(t,a,A)):(ht&&u&&wh(a),a.flags|=1,un(t,a,s,A),a.child)}function uv(t,a,s,u,m){if(is(a),a.stateNode===null){var A=Bs,P=s.contextType;typeof P=="object"&&P!==null&&(A=vn(P)),A=new s(u,A),a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=td,a.stateNode=A,A._reactInternals=a,A=a.stateNode,A.props=u,A.state=a.memoizedState,A.refs={},Nh(a),P=s.contextType,A.context=typeof P=="object"&&P!==null?vn(P):Bs,A.state=a.memoizedState,P=s.getDerivedStateFromProps,typeof P=="function"&&(ed(a,s,P,u),A.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(P=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),P!==A.state&&td.enqueueReplaceState(A,A.state,null),cl(a,u,A,m),ul(),A.state=a.memoizedState),typeof A.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(t===null){A=a.stateNode;var L=a.memoizedProps,F=ls(s,L);A.props=F;var J=A.context,ie=s.contextType;P=Bs,typeof ie=="object"&&ie!==null&&(P=vn(ie));var ue=s.getDerivedStateFromProps;ie=typeof ue=="function"||typeof A.getSnapshotBeforeUpdate=="function",L=a.pendingProps!==L,ie||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(L||J!==P)&&Ky(a,A,u,P),Qa=!1;var ee=a.memoizedState;A.state=ee,cl(a,u,A,m),ul(),J=a.memoizedState,L||ee!==J||Qa?(typeof ue=="function"&&(ed(a,s,ue,u),J=a.memoizedState),(F=Qa||Qy(a,s,F,u,ee,J,P))?(ie||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=J),A.props=u,A.state=J,A.context=P,u=F):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{A=a.stateNode,Mh(t,a),P=a.memoizedProps,ie=ls(s,P),A.props=ie,ue=a.pendingProps,ee=A.context,J=s.contextType,F=Bs,typeof J=="object"&&J!==null&&(F=vn(J)),L=s.getDerivedStateFromProps,(J=typeof L=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(P!==ue||ee!==F)&&Ky(a,A,u,F),Qa=!1,ee=a.memoizedState,A.state=ee,cl(a,u,A,m),ul();var ne=a.memoizedState;P!==ue||ee!==ne||Qa||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof L=="function"&&(ed(a,s,L,u),ne=a.memoizedState),(ie=Qa||Qy(a,s,ie,u,ee,ne,F)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(J||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(u,ne,F),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(u,ne,F)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||P===t.memoizedProps&&ee===t.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===t.memoizedProps&&ee===t.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=ne),A.props=u,A.state=ne,A.context=F,u=ie):(typeof A.componentDidUpdate!="function"||P===t.memoizedProps&&ee===t.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===t.memoizedProps&&ee===t.memoizedState||(a.flags|=1024),u=!1)}return A=u,cc(t,a),u=(a.flags&128)!==0,A||u?(A=a.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:A.render(),a.flags|=1,t!==null&&u?(a.child=Ws(a,t.child,null,m),a.child=Ws(a,null,s,m)):un(t,a,s,m),a.memoizedState=A.state,t=a.child):t=Ta(t,a,m),t}function cv(t,a,s,u){return tl(),a.flags|=256,un(t,a,s,u),a.child}var ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function id(t){return{baseLanes:t,cachePool:Zg()}}function sd(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=pr),t}function fv(t,a,s){var u=a.pendingProps,m=!1,A=(a.flags&128)!==0,P;if((P=A)||(P=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),P&&(m=!0,a.flags&=-129),P=(a.flags&32)!==0,a.flags&=-33,t===null){if(ht){if(m?Wa(a):Ja(),ht){var L=Mt,F;if(F=L){e:{for(F=L,L=Fr;F.nodeType!==8;){if(!L){L=null;break e}if(F=Sr(F.nextSibling),F===null){L=null;break e}}L=F}L!==null?(a.memoizedState={dehydrated:L,treeContext:es!==null?{id:va,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},F=Bn(18,null,null,0),F.stateNode=L,F.return=a,a.child=F,On=a,Mt=null,F=!0):F=!1}F||rs(a)}if(L=a.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return Fd(L)?a.lanes=32:a.lanes=536870912,null;Aa(a)}return L=u.children,u=u.fallback,m?(Ja(),m=a.mode,L=fc({mode:"hidden",children:L},m),u=Ji(u,m,s,null),L.return=a,u.return=a,L.sibling=u,a.child=L,m=a.child,m.memoizedState=id(s),m.childLanes=sd(t,P,s),a.memoizedState=ad,u):(Wa(a),od(a,L))}if(F=t.memoizedState,F!==null&&(L=F.dehydrated,L!==null)){if(A)a.flags&256?(Wa(a),a.flags&=-257,a=ld(t,a,s)):a.memoizedState!==null?(Ja(),a.child=t.child,a.flags|=128,a=null):(Ja(),m=u.fallback,L=a.mode,u=fc({mode:"visible",children:u.children},L),m=Ji(m,L,s,null),m.flags|=2,u.return=a,m.return=a,u.sibling=m,a.child=u,Ws(a,t.child,null,s),u=a.child,u.memoizedState=id(s),u.childLanes=sd(t,P,s),a.memoizedState=ad,a=m);else if(Wa(a),Fd(L)){if(P=L.nextSibling&&L.nextSibling.dataset,P)var J=P.dgst;P=J,u=Error(i(419)),u.stack="",u.digest=P,nl({value:u,source:null,stack:null}),a=ld(t,a,s)}else if(tn||rl(t,a,s,!1),P=(s&t.childLanes)!==0,tn||P){if(P=Rt,P!==null&&(u=s&-s,u=(u&42)!==0?1:Mr(u),u=(u&(P.suspendedLanes|s))!==0?0:u,u!==0&&u!==F.retryLane))throw F.retryLane=u,$s(t,u),Yn(P,t,u),nv;L.data==="$?"||Rd(),a=ld(t,a,s)}else L.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=F.treeContext,Mt=Sr(L.nextSibling),On=a,ht=!0,ns=null,Fr=!1,t!==null&&(hr[dr++]=va,hr[dr++]=_a,hr[dr++]=es,va=t.id,_a=t.overflow,es=a),a=od(a,u.children),a.flags|=4096);return a}return m?(Ja(),m=u.fallback,L=a.mode,F=t.child,J=F.sibling,u=ya(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,J!==null?m=ya(J,m):(m=Ji(m,L,s,null),m.flags|=2),m.return=a,u.return=a,u.sibling=m,a.child=u,u=m,m=a.child,L=t.child.memoizedState,L===null?L=id(s):(F=L.cachePool,F!==null?(J=Qt._currentValue,F=F.parent!==J?{parent:J,pool:J}:F):F=Zg(),L={baseLanes:L.baseLanes|s,cachePool:F}),m.memoizedState=L,m.childLanes=sd(t,P,s),a.memoizedState=ad,u):(Wa(a),s=t.child,t=s.sibling,s=ya(s,{mode:"visible",children:u.children}),s.return=a,s.sibling=null,t!==null&&(P=a.deletions,P===null?(a.deletions=[t],a.flags|=16):P.push(t)),a.child=s,a.memoizedState=null,s)}function od(t,a){return a=fc({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function fc(t,a){return t=Bn(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ld(t,a,s){return Ws(a,t.child,null,s),t=od(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function hv(t,a,s){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a),Rh(t.return,a,s)}function ud(t,a,s,u,m){var A=t.memoizedState;A===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:m}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=u,A.tail=s,A.tailMode=m)}function dv(t,a,s){var u=a.pendingProps,m=u.revealOrder,A=u.tail;if(un(t,a,u.children,s),u=Kt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hv(t,s,a);else if(t.tag===19)hv(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(ce(Kt,u),m){case"forwards":for(s=a.child,m=null;s!==null;)t=s.alternate,t!==null&&oc(t)===null&&(m=s),s=s.sibling;s=m,s===null?(m=a.child,a.child=null):(m=s.sibling,s.sibling=null),ud(a,!1,m,s,A);break;case"backwards":for(s=null,m=a.child,a.child=null;m!==null;){if(t=m.alternate,t!==null&&oc(t)===null){a.child=m;break}t=m.sibling,m.sibling=s,s=m,m=t}ud(a,!0,s,null,A);break;case"together":ud(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ta(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),ai|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(rl(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,s=ya(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=ya(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function cd(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function RA(t,a,s){switch(a.tag){case 3:vt(a,a.stateNode.containerInfo),Ya(a,Qt,t.memoizedState.cache),tl();break;case 27:case 5:Ct(a);break;case 4:vt(a,a.stateNode.containerInfo);break;case 10:Ya(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Wa(a),a.flags|=128,null):(s&a.child.childLanes)!==0?fv(t,a,s):(Wa(a),t=Ta(t,a,s),t!==null?t.sibling:null);Wa(a);break;case 19:var m=(t.flags&128)!==0;if(u=(s&a.childLanes)!==0,u||(rl(t,a,s,!1),u=(s&a.childLanes)!==0),m){if(u)return dv(t,a,s);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Kt,Kt.current),u)break;return null;case 22:case 23:return a.lanes=0,sv(t,a,s);case 24:Ya(a,Qt,t.memoizedState.cache)}return Ta(t,a,s)}function mv(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)tn=!0;else{if(!cd(t,s)&&(a.flags&128)===0)return tn=!1,RA(t,a,s);tn=(t.flags&131072)!==0}else tn=!1,ht&&(a.flags&1048576)!==0&&qg(a,qu,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var u=a.elementType,m=u._init;if(u=m(u._payload),a.type=u,typeof u=="function")_h(u)?(t=ls(u,t),a.tag=1,a=uv(null,a,u,t,s)):(a.tag=0,a=rd(null,a,u,t,s));else{if(u!=null){if(m=u.$$typeof,m===M){a.tag=11,a=rv(null,a,u,t,s);break e}else if(m===I){a.tag=14,a=av(null,a,u,t,s);break e}}throw a=he(u)||u,Error(i(306,a,""))}}return a;case 0:return rd(t,a,a.type,a.pendingProps,s);case 1:return u=a.type,m=ls(u,a.pendingProps),uv(t,a,u,m,s);case 3:e:{if(vt(a,a.stateNode.containerInfo),t===null)throw Error(i(387));u=a.pendingProps;var A=a.memoizedState;m=A.element,Mh(t,a),cl(a,u,null,s);var P=a.memoizedState;if(u=P.cache,Ya(a,Qt,u),u!==A.cache&&xh(a,[Qt],s,!0),ul(),u=P.element,A.isDehydrated)if(A={element:u,isDehydrated:!1,cache:P.cache},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){a=cv(t,a,u,s);break e}else if(u!==m){m=cr(Error(i(424)),a),nl(m),a=cv(t,a,u,s);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Mt=Sr(t.firstChild),On=a,ht=!0,ns=null,Fr=!0,s=Gy(a,null,u,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(tl(),u===m){a=Ta(t,a,s);break e}un(t,a,u,s)}a=a.child}return a;case 26:return cc(t,a),t===null?(s=v_(a.type,null,a.pendingProps,null))?a.memoizedState=s:ht||(s=a.type,t=a.pendingProps,u=Sc(Ce.current).createElement(s),u[le]=a,u[ge]=t,fn(u,s,t),rt(u),a.stateNode=u):a.memoizedState=v_(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Ct(a),t===null&&ht&&(u=a.stateNode=p_(a.type,a.pendingProps,Ce.current),On=a,Fr=!0,m=Mt,li(a.type)?(qd=m,Mt=Sr(u.firstChild)):Mt=m),un(t,a,a.pendingProps.children,s),cc(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&ht&&((m=u=Mt)&&(u=eT(u,a.type,a.pendingProps,Fr),u!==null?(a.stateNode=u,On=a,Mt=Sr(u.firstChild),Fr=!1,m=!0):m=!1),m||rs(a)),Ct(a),m=a.type,A=a.pendingProps,P=t!==null?t.memoizedProps:null,u=A.children,zd(m,A)?u=null:P!==null&&zd(m,P)&&(a.flags|=32),a.memoizedState!==null&&(m=Uh(t,a,vA,null,null,s),Nl._currentValue=m),cc(t,a),un(t,a,u,s),a.child;case 6:return t===null&&ht&&((t=s=Mt)&&(s=tT(s,a.pendingProps,Fr),s!==null?(a.stateNode=s,On=a,Mt=null,t=!0):t=!1),t||rs(a)),null;case 13:return fv(t,a,s);case 4:return vt(a,a.stateNode.containerInfo),u=a.pendingProps,t===null?a.child=Ws(a,null,u,s):un(t,a,u,s),a.child;case 11:return rv(t,a,a.type,a.pendingProps,s);case 7:return un(t,a,a.pendingProps,s),a.child;case 8:return un(t,a,a.pendingProps.children,s),a.child;case 12:return un(t,a,a.pendingProps.children,s),a.child;case 10:return u=a.pendingProps,Ya(a,a.type,u.value),un(t,a,u.children,s),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,is(a),m=vn(m),u=u(m),a.flags|=1,un(t,a,u,s),a.child;case 14:return av(t,a,a.type,a.pendingProps,s);case 15:return iv(t,a,a.type,a.pendingProps,s);case 19:return dv(t,a,s);case 31:return u=a.pendingProps,s=a.mode,u={mode:u.mode,children:u.children},t===null?(s=fc(u,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=ya(t.child,u),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return sv(t,a,s);case 24:return is(a),u=vn(Qt),t===null?(m=Oh(),m===null&&(m=Rt,A=Ch(),m.pooledCache=A,A.refCount++,A!==null&&(m.pooledCacheLanes|=s),m=A),a.memoizedState={parent:u,cache:m},Nh(a),Ya(a,Qt,m)):((t.lanes&s)!==0&&(Mh(t,a),cl(a,null,null,s),ul()),m=t.memoizedState,A=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ya(a,Qt,u)):(u=A.cache,Ya(a,Qt,u),u!==m.cache&&xh(a,[Qt],s,!0))),un(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Sa(t){t.flags|=4}function pv(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!A_(a)){if(a=mr.current,a!==null&&((st&4194048)===st?qr!==null:(st&62914560)!==st&&(st&536870912)===0||a!==qr))throw ol=Ih,Wg;t.flags|=8192}}function hc(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Ui():536870912,t.lanes|=a,no|=a)}function yl(t,a){if(!ht)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function It(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(a)for(var m=t.child;m!==null;)s|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)s|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=u,t.childLanes=s,a}function xA(t,a,s){var u=a.pendingProps;switch(Ah(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(a),null;case 1:return It(a),null;case 3:return s=a.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ea(Qt),Jn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(el(a)?Sa(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Yg())),It(a),null;case 26:return s=a.memoizedState,t===null?(Sa(a),s!==null?(It(a),pv(a,s)):(It(a),a.flags&=-16777217)):s?s!==t.memoizedState?(Sa(a),It(a),pv(a,s)):(It(a),a.flags&=-16777217):(t.memoizedProps!==u&&Sa(a),It(a),a.flags&=-16777217),null;case 27:pn(a),s=Ce.current;var m=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Sa(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return It(a),null}t=be.current,el(a)?Hg(a):(t=p_(m,u,s),a.stateNode=t,Sa(a))}return It(a),null;case 5:if(pn(a),s=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Sa(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return It(a),null}if(t=be.current,el(a))Hg(a);else{switch(m=Sc(Ce.current),t){case 1:t=m.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=m.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=m.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=m.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?m.createElement(s,{is:u.is}):m.createElement(s)}}t[le]=a,t[ge]=u;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)t.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=t;e:switch(fn(t,s,u),s){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Sa(a)}}return It(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==u&&Sa(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(t=Ce.current,el(a)){if(t=a.stateNode,s=a.memoizedProps,u=null,m=On,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}t[le]=a,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||l_(t.nodeValue,s)),t||rs(a)}else t=Sc(t).createTextNode(u),t[le]=a,a.stateNode=t}return It(a),null;case 13:if(u=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=el(a),u!==null&&u.dehydrated!==null){if(t===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[le]=a}else tl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;It(a),m=!1}else m=Yg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Aa(a),a):(Aa(a),null)}if(Aa(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=u!==null,t=t!==null&&t.memoizedState!==null,s){u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var A=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(A=u.memoizedState.cachePool.pool),A!==m&&(u.flags|=2048)}return s!==t&&s&&(a.child.flags|=8192),hc(a,a.updateQueue),It(a),null;case 4:return Jn(),t===null&&kd(a.stateNode.containerInfo),It(a),null;case 10:return Ea(a.type),It(a),null;case 19:if(me(Kt),m=a.memoizedState,m===null)return It(a),null;if(u=(a.flags&128)!==0,A=m.rendering,A===null)if(u)yl(m,!1);else{if(Pt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(A=oc(t),A!==null){for(a.flags|=128,yl(m,!1),t=A.updateQueue,a.updateQueue=t,hc(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)Fg(s,t),s=s.sibling;return ce(Kt,Kt.current&1|2),a.child}t=t.sibling}m.tail!==null&&Sn()>pc&&(a.flags|=128,u=!0,yl(m,!1),a.lanes=4194304)}else{if(!u)if(t=oc(A),t!==null){if(a.flags|=128,u=!0,t=t.updateQueue,a.updateQueue=t,hc(a,t),yl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!A.alternate&&!ht)return It(a),null}else 2*Sn()-m.renderingStartTime>pc&&s!==536870912&&(a.flags|=128,u=!0,yl(m,!1),a.lanes=4194304);m.isBackwards?(A.sibling=a.child,a.child=A):(t=m.last,t!==null?t.sibling=A:a.child=A,m.last=A)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Sn(),a.sibling=null,t=Kt.current,ce(Kt,u?t&1|2:t&1),a):(It(a),null);case 22:case 23:return Aa(a),jh(),u=a.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(s&536870912)!==0&&(a.flags&128)===0&&(It(a),a.subtreeFlags&6&&(a.flags|=8192)):It(a),s=a.updateQueue,s!==null&&hc(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048),t!==null&&me(ss),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Ea(Qt),It(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function CA(t,a){switch(Ah(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Ea(Qt),Jn(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return pn(a),null;case 13:if(Aa(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));tl()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return me(Kt),null;case 4:return Jn(),null;case 10:return Ea(a.type),null;case 22:case 23:return Aa(a),jh(),t!==null&&me(ss),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Ea(Qt),null;case 25:return null;default:return null}}function gv(t,a){switch(Ah(a),a.tag){case 3:Ea(Qt),Jn();break;case 26:case 27:case 5:pn(a);break;case 4:Jn();break;case 13:Aa(a);break;case 19:me(Kt);break;case 10:Ea(a.type);break;case 22:case 23:Aa(a),jh(),t!==null&&me(ss);break;case 24:Ea(Qt)}}function vl(t,a){try{var s=a.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var m=u.next;s=m;do{if((s.tag&t)===t){u=void 0;var A=s.create,P=s.inst;u=A(),P.destroy=u}s=s.next}while(s!==m)}}catch(L){Tt(a,a.return,L)}}function ei(t,a,s){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var A=m.next;u=A;do{if((u.tag&t)===t){var P=u.inst,L=P.destroy;if(L!==void 0){P.destroy=void 0,m=a;var F=s,J=L;try{J()}catch(ie){Tt(m,F,ie)}}}u=u.next}while(u!==A)}}catch(ie){Tt(a,a.return,ie)}}function yv(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{ay(a,s)}catch(u){Tt(t,t.return,u)}}}function vv(t,a,s){s.props=ls(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){Tt(t,a,u)}}function _l(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(m){Tt(t,a,m)}}function Hr(t,a){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(m){Tt(t,a,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){Tt(t,a,m)}else s.current=null}function _v(t){var a=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(m){Tt(t,t.return,m)}}function fd(t,a,s){try{var u=t.stateNode;KA(u,t.type,s,a),u[ge]=a}catch(m){Tt(t,t.return,m)}}function bv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&li(t.type)||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&li(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,a,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Tc));else if(u!==4&&(u===27&&li(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(dd(t,a,s),t=t.sibling;t!==null;)dd(t,a,s),t=t.sibling}function dc(t,a,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(u!==4&&(u===27&&li(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(dc(t,a,s),t=t.sibling;t!==null;)dc(t,a,s),t=t.sibling}function Ev(t){var a=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);fn(a,u,s),a[le]=t,a[ge]=s}catch(A){Tt(t,t.return,A)}}var Ra=!1,Vt=!1,md=!1,wv=typeof WeakSet=="function"?WeakSet:Set,nn=null;function DA(t,a){if(t=t.containerInfo,Ld=Ic,t=Mg(t),hh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var m=u.anchorOffset,A=u.focusNode;u=u.focusOffset;try{s.nodeType,A.nodeType}catch{s=null;break e}var P=0,L=-1,F=-1,J=0,ie=0,ue=t,ee=null;t:for(;;){for(var ne;ue!==s||m!==0&&ue.nodeType!==3||(L=P+m),ue!==A||u!==0&&ue.nodeType!==3||(F=P+u),ue.nodeType===3&&(P+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)ee=ue,ue=ne;for(;;){if(ue===t)break t;if(ee===s&&++J===m&&(L=P),ee===A&&++ie===u&&(F=P),(ne=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=ne}s=L===-1||F===-1?null:{start:L,end:F}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ud={focusedElem:t,selectionRange:s},Ic=!1,nn=a;nn!==null;)if(a=nn,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,nn=t;else for(;nn!==null;){switch(a=nn,A=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&A!==null){t=void 0,s=a,m=A.memoizedProps,A=A.memoizedState,u=s.stateNode;try{var $e=ls(s.type,m,s.elementType===s.type);t=u.getSnapshotBeforeUpdate($e,A),u.__reactInternalSnapshotBeforeUpdate=t}catch(ke){Tt(s,s.return,ke)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)Bd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,nn=t;break}nn=a.return}}function Av(t,a,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:ti(t,s),u&4&&vl(5,s);break;case 1:if(ti(t,s),u&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(P){Tt(s,s.return,P)}else{var m=ls(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(m,a,t.__reactInternalSnapshotBeforeUpdate)}catch(P){Tt(s,s.return,P)}}u&64&&yv(s),u&512&&_l(s,s.return);break;case 3:if(ti(t,s),u&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{ay(t,a)}catch(P){Tt(s,s.return,P)}}break;case 27:a===null&&u&4&&Ev(s);case 26:case 5:ti(t,s),a===null&&u&4&&_v(s),u&512&&_l(s,s.return);break;case 12:ti(t,s);break;case 13:ti(t,s),u&4&&Rv(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=LA.bind(null,s),nT(t,s))));break;case 22:if(u=s.memoizedState!==null||Ra,!u){a=a!==null&&a.memoizedState!==null||Vt,m=Ra;var A=Vt;Ra=u,(Vt=a)&&!A?ni(t,s,(s.subtreeFlags&8772)!==0):ti(t,s),Ra=m,Vt=A}break;case 30:break;default:ti(t,s)}}function Tv(t){var a=t.alternate;a!==null&&(t.alternate=null,Tv(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Re(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,Mn=!1;function xa(t,a,s){for(s=s.child;s!==null;)Sv(t,a,s),s=s.sibling}function Sv(t,a,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ft,s)}catch{}switch(s.tag){case 26:Vt||Hr(s,a),xa(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Vt||Hr(s,a);var u=Dt,m=Mn;li(s.type)&&(Dt=s.stateNode,Mn=!1),xa(t,a,s),Cl(s.stateNode),Dt=u,Mn=m;break;case 5:Vt||Hr(s,a);case 6:if(u=Dt,m=Mn,Dt=null,xa(t,a,s),Dt=u,Mn=m,Dt!==null)if(Mn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(s.stateNode)}catch(A){Tt(s,a,A)}else try{Dt.removeChild(s.stateNode)}catch(A){Tt(s,a,A)}break;case 18:Dt!==null&&(Mn?(t=Dt,d_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Vl(t)):d_(Dt,s.stateNode));break;case 4:u=Dt,m=Mn,Dt=s.stateNode.containerInfo,Mn=!0,xa(t,a,s),Dt=u,Mn=m;break;case 0:case 11:case 14:case 15:Vt||ei(2,s,a),Vt||ei(4,s,a),xa(t,a,s);break;case 1:Vt||(Hr(s,a),u=s.stateNode,typeof u.componentWillUnmount=="function"&&vv(s,a,u)),xa(t,a,s);break;case 21:xa(t,a,s);break;case 22:Vt=(u=Vt)||s.memoizedState!==null,xa(t,a,s),Vt=u;break;default:xa(t,a,s)}}function Rv(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(s){Tt(a,a.return,s)}}function OA(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new wv),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new wv),a;default:throw Error(i(435,t.tag))}}function pd(t,a){var s=OA(t);a.forEach(function(u){var m=UA.bind(null,t,u);s.has(u)||(s.add(u),u.then(m,m))})}function Fn(t,a){var s=a.deletions;if(s!==null)for(var u=0;u<s.length;u++){var m=s[u],A=t,P=a,L=P;e:for(;L!==null;){switch(L.tag){case 27:if(li(L.type)){Dt=L.stateNode,Mn=!1;break e}break;case 5:Dt=L.stateNode,Mn=!1;break e;case 3:case 4:Dt=L.stateNode.containerInfo,Mn=!0;break e}L=L.return}if(Dt===null)throw Error(i(160));Sv(A,P,m),Dt=null,Mn=!1,A=m.alternate,A!==null&&(A.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)xv(a,t),a=a.sibling}var Tr=null;function xv(t,a){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fn(a,t),qn(t),u&4&&(ei(3,t,t.return),vl(3,t),ei(5,t,t.return));break;case 1:Fn(a,t),qn(t),u&512&&(Vt||s===null||Hr(s,s.return)),u&64&&Ra&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var m=Tr;if(Fn(a,t),qn(t),u&512&&(Vt||s===null||Hr(s,s.return)),u&4){var A=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":A=m.getElementsByTagName("title")[0],(!A||A[Ve]||A[le]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=m.createElement(u),m.head.insertBefore(A,m.querySelector("head > title"))),fn(A,u,s),A[le]=t,rt(A),u=A;break e;case"link":var P=E_("link","href",m).get(u+(s.href||""));if(P){for(var L=0;L<P.length;L++)if(A=P[L],A.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&A.getAttribute("rel")===(s.rel==null?null:s.rel)&&A.getAttribute("title")===(s.title==null?null:s.title)&&A.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){P.splice(L,1);break t}}A=m.createElement(u),fn(A,u,s),m.head.appendChild(A);break;case"meta":if(P=E_("meta","content",m).get(u+(s.content||""))){for(L=0;L<P.length;L++)if(A=P[L],A.getAttribute("content")===(s.content==null?null:""+s.content)&&A.getAttribute("name")===(s.name==null?null:s.name)&&A.getAttribute("property")===(s.property==null?null:s.property)&&A.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&A.getAttribute("charset")===(s.charSet==null?null:s.charSet)){P.splice(L,1);break t}}A=m.createElement(u),fn(A,u,s),m.head.appendChild(A);break;default:throw Error(i(468,u))}A[le]=t,rt(A),u=A}t.stateNode=u}else w_(m,t.type,t.stateNode);else t.stateNode=b_(m,u,t.memoizedProps);else A!==u?(A===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):A.count--,u===null?w_(m,t.type,t.stateNode):b_(m,u,t.memoizedProps)):u===null&&t.stateNode!==null&&fd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Fn(a,t),qn(t),u&512&&(Vt||s===null||Hr(s,s.return)),s!==null&&u&4&&fd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Fn(a,t),qn(t),u&512&&(Vt||s===null||Hr(s,s.return)),t.flags&32){m=t.stateNode;try{sr(m,"")}catch(ne){Tt(t,t.return,ne)}}u&4&&t.stateNode!=null&&(m=t.memoizedProps,fd(t,m,s!==null?s.memoizedProps:m)),u&1024&&(md=!0);break;case 6:if(Fn(a,t),qn(t),u&4){if(t.stateNode===null)throw Error(i(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(ne){Tt(t,t.return,ne)}}break;case 3:if(Cc=null,m=Tr,Tr=Rc(a.containerInfo),Fn(a,t),Tr=m,qn(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Vl(a.containerInfo)}catch(ne){Tt(t,t.return,ne)}md&&(md=!1,Cv(t));break;case 4:u=Tr,Tr=Rc(t.stateNode.containerInfo),Fn(a,t),qn(t),Tr=u;break;case 12:Fn(a,t),qn(t);break;case 13:Fn(a,t),qn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ed=Sn()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,pd(t,u)));break;case 22:m=t.memoizedState!==null;var F=s!==null&&s.memoizedState!==null,J=Ra,ie=Vt;if(Ra=J||m,Vt=ie||F,Fn(a,t),Vt=ie,Ra=J,qn(t),u&8192)e:for(a=t.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(s===null||F||Ra||Vt||us(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){F=s=a;try{if(A=F.stateNode,m)P=A.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{L=F.stateNode;var ue=F.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;L.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ne){Tt(F,F.return,ne)}}}else if(a.tag===6){if(s===null){F=a;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(ne){Tt(F,F.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,pd(t,s))));break;case 19:Fn(a,t),qn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,pd(t,u)));break;case 30:break;case 21:break;default:Fn(a,t),qn(t)}}function qn(t){var a=t.flags;if(a&2){try{for(var s,u=t.return;u!==null;){if(bv(u)){s=u;break}u=u.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var m=s.stateNode,A=hd(t);dc(t,A,m);break;case 5:var P=s.stateNode;s.flags&32&&(sr(P,""),s.flags&=-33);var L=hd(t);dc(t,L,P);break;case 3:case 4:var F=s.stateNode.containerInfo,J=hd(t);dd(t,J,F);break;default:throw Error(i(161))}}catch(ie){Tt(t,t.return,ie)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Cv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Cv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function ti(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Av(t,a.alternate,a),a=a.sibling}function us(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:ei(4,a,a.return),us(a);break;case 1:Hr(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&vv(a,a.return,s),us(a);break;case 27:Cl(a.stateNode);case 26:case 5:Hr(a,a.return),us(a);break;case 22:a.memoizedState===null&&us(a);break;case 30:us(a);break;default:us(a)}t=t.sibling}}function ni(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=t,A=a,P=A.flags;switch(A.tag){case 0:case 11:case 15:ni(m,A,s),vl(4,A);break;case 1:if(ni(m,A,s),u=A,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){Tt(u,u.return,J)}if(u=A,m=u.updateQueue,m!==null){var L=u.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)ry(F[m],L)}catch(J){Tt(u,u.return,J)}}s&&P&64&&yv(A),_l(A,A.return);break;case 27:Ev(A);case 26:case 5:ni(m,A,s),s&&u===null&&P&4&&_v(A),_l(A,A.return);break;case 12:ni(m,A,s);break;case 13:ni(m,A,s),s&&P&4&&Rv(m,A);break;case 22:A.memoizedState===null&&ni(m,A,s),_l(A,A.return);break;case 30:break;default:ni(m,A,s)}a=a.sibling}}function gd(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&al(s))}function yd(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&al(t))}function Gr(t,a,s,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Dv(t,a,s,u),a=a.sibling}function Dv(t,a,s,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Gr(t,a,s,u),m&2048&&vl(9,a);break;case 1:Gr(t,a,s,u);break;case 3:Gr(t,a,s,u),m&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&al(t)));break;case 12:if(m&2048){Gr(t,a,s,u),t=a.stateNode;try{var A=a.memoizedProps,P=A.id,L=A.onPostCommit;typeof L=="function"&&L(P,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(F){Tt(a,a.return,F)}}else Gr(t,a,s,u);break;case 13:Gr(t,a,s,u);break;case 23:break;case 22:A=a.stateNode,P=a.alternate,a.memoizedState!==null?A._visibility&2?Gr(t,a,s,u):bl(t,a):A._visibility&2?Gr(t,a,s,u):(A._visibility|=2,Js(t,a,s,u,(a.subtreeFlags&10256)!==0)),m&2048&&gd(P,a);break;case 24:Gr(t,a,s,u),m&2048&&yd(a.alternate,a);break;default:Gr(t,a,s,u)}}function Js(t,a,s,u,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var A=t,P=a,L=s,F=u,J=P.flags;switch(P.tag){case 0:case 11:case 15:Js(A,P,L,F,m),vl(8,P);break;case 23:break;case 22:var ie=P.stateNode;P.memoizedState!==null?ie._visibility&2?Js(A,P,L,F,m):bl(A,P):(ie._visibility|=2,Js(A,P,L,F,m)),m&&J&2048&&gd(P.alternate,P);break;case 24:Js(A,P,L,F,m),m&&J&2048&&yd(P.alternate,P);break;default:Js(A,P,L,F,m)}a=a.sibling}}function bl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,u=a,m=u.flags;switch(u.tag){case 22:bl(s,u),m&2048&&gd(u.alternate,u);break;case 24:bl(s,u),m&2048&&yd(u.alternate,u);break;default:bl(s,u)}a=a.sibling}}var El=8192;function eo(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Ov(t),t=t.sibling}function Ov(t){switch(t.tag){case 26:eo(t),t.flags&El&&t.memoizedState!==null&&pT(Tr,t.memoizedState,t.memoizedProps);break;case 5:eo(t);break;case 3:case 4:var a=Tr;Tr=Rc(t.stateNode.containerInfo),eo(t),Tr=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=El,El=16777216,eo(t),El=a):eo(t));break;default:eo(t)}}function Iv(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function wl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];nn=u,Mv(u,t)}Iv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nv(t),t=t.sibling}function Nv(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&ei(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,mc(t)):wl(t);break;default:wl(t)}}function mc(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];nn=u,Mv(u,t)}Iv(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:ei(8,a,a.return),mc(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,mc(a));break;default:mc(a)}t=t.sibling}}function Mv(t,a){for(;nn!==null;){var s=nn;switch(s.tag){case 0:case 11:case 15:ei(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:al(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,nn=u;else e:for(s=t;nn!==null;){u=nn;var m=u.sibling,A=u.return;if(Tv(u),u===s){nn=null;break e}if(m!==null){m.return=A,nn=m;break e}nn=A}}}var IA={getCacheForType:function(t){var a=vn(Qt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s}},NA=typeof WeakMap=="function"?WeakMap:Map,gt=0,Rt=null,We=null,st=0,yt=0,Hn=null,ri=!1,to=!1,vd=!1,Ca=0,Pt=0,ai=0,cs=0,_d=0,pr=0,no=0,Al=null,Pn=null,bd=!1,Ed=0,pc=1/0,gc=null,ii=null,cn=0,si=null,ro=null,ao=0,wd=0,Ad=null,Pv=null,Tl=0,Td=null;function Gn(){if((gt&2)!==0&&st!==0)return st&-st;if(Y.T!==null){var t=Hs;return t!==0?t:Id()}return q()}function kv(){pr===0&&(pr=(st&536870912)===0||ht?la():536870912);var t=mr.current;return t!==null&&(t.flags|=32),pr}function Yn(t,a,s){(t===Rt&&(yt===2||yt===9)||t.cancelPendingCommit!==null)&&(io(t,0),oi(t,st,pr,!1)),Er(t,s),((gt&2)===0||t!==Rt)&&(t===Rt&&((gt&2)===0&&(cs|=s),Pt===4&&oi(t,st,pr,!1)),Yr(t))}function Vv(t,a,s){if((gt&6)!==0)throw Error(i(327));var u=!s&&(a&124)===0&&(a&t.expiredLanes)===0||nr(t,a),m=u?kA(t,a):xd(t,a,!0),A=u;do{if(m===0){to&&!u&&oi(t,a,0,!1);break}else{if(s=t.current.alternate,A&&!MA(s)){m=xd(t,a,!1),A=!1;continue}if(m===2){if(A=a,t.errorRecoveryDisabledLanes&A)var P=0;else P=t.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){a=P;e:{var L=t;m=Al;var F=L.current.memoizedState.isDehydrated;if(F&&(io(L,P).flags|=256),P=xd(L,P,!1),P!==2){if(vd&&!F){L.errorRecoveryDisabledLanes|=A,cs|=A,m=4;break e}A=Pn,Pn=m,A!==null&&(Pn===null?Pn=A:Pn.push.apply(Pn,A))}m=P}if(A=!1,m!==2)continue}}if(m===1){io(t,0),oi(t,a,0,!0);break}e:{switch(u=t,A=m,A){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:oi(u,a,pr,!ri);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Ed+300-Sn(),10<m)){if(oi(u,a,pr,!ri),oa(u,0,!0)!==0)break e;u.timeoutHandle=f_(jv.bind(null,u,s,Pn,gc,bd,a,pr,cs,no,ri,A,2,-0,0),m);break e}jv(u,s,Pn,gc,bd,a,pr,cs,no,ri,A,0,-0,0)}}break}while(!0);Yr(t)}function jv(t,a,s,u,m,A,P,L,F,J,ie,ue,ee,ne){if(t.timeoutHandle=-1,ue=a.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:mT},Ov(a),ue=gT(),ue!==null)){t.cancelPendingCommit=ue(qv.bind(null,t,a,A,s,u,m,P,L,F,ie,1,ee,ne)),oi(t,A,P,!J);return}qv(t,a,A,s,u,m,P,L,F)}function MA(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var m=s[u],A=m.getSnapshot;m=m.value;try{if(!$n(A(),m))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function oi(t,a,s,u){a&=~_d,a&=~cs,t.suspendedLanes|=a,t.pingedLanes&=~a,u&&(t.warmLanes|=a),u=t.expirationTimes;for(var m=a;0<m;){var A=31-Ut(m),P=1<<A;u[A]=-1,m&=~P}s!==0&&Rn(t,s,a)}function yc(){return(gt&6)===0?(Sl(0),!1):!0}function Sd(){if(We!==null){if(yt===0)var t=We.return;else t=We,ba=as=null,Bh(t),Zs=null,pl=0,t=We;for(;t!==null;)gv(t.alternate,t),t=t.return;We=null}}function io(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,ZA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Sd(),Rt=t,We=s=ya(t.current,null),st=a,yt=0,Hn=null,ri=!1,to=nr(t,a),vd=!1,no=pr=_d=cs=ai=Pt=0,Pn=Al=null,bd=!1,(a&8)!==0&&(a|=a&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=a;0<u;){var m=31-Ut(u),A=1<<m;a|=t[m],u&=~A}return Ca=a,Uu(),s}function Lv(t,a){Ye=null,Y.H=ac,a===sl||a===Qu?(a=ty(),yt=3):a===Wg?(a=ty(),yt=4):yt=a===nv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Hn=a,We===null&&(Pt=1,uc(t,cr(a,t.current)))}function Uv(){var t=Y.H;return Y.H=ac,t===null?ac:t}function zv(){var t=Y.A;return Y.A=IA,t}function Rd(){Pt=4,ri||(st&4194048)!==st&&mr.current!==null||(to=!0),(ai&134217727)===0&&(cs&134217727)===0||Rt===null||oi(Rt,st,pr,!1)}function xd(t,a,s){var u=gt;gt|=2;var m=Uv(),A=zv();(Rt!==t||st!==a)&&(gc=null,io(t,a)),a=!1;var P=Pt;e:do try{if(yt!==0&&We!==null){var L=We,F=Hn;switch(yt){case 8:Sd(),P=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(a=!0);var J=yt;if(yt=0,Hn=null,so(t,L,F,J),s&&to){P=0;break e}break;default:J=yt,yt=0,Hn=null,so(t,L,F,J)}}PA(),P=Pt;break}catch(ie){Lv(t,ie)}while(!0);return a&&t.shellSuspendCounter++,ba=as=null,gt=u,Y.H=m,Y.A=A,We===null&&(Rt=null,st=0,Uu()),P}function PA(){for(;We!==null;)$v(We)}function kA(t,a){var s=gt;gt|=2;var u=Uv(),m=zv();Rt!==t||st!==a?(gc=null,pc=Sn()+500,io(t,a)):to=nr(t,a);e:do try{if(yt!==0&&We!==null){a=We;var A=Hn;t:switch(yt){case 1:yt=0,Hn=null,so(t,a,A,1);break;case 2:case 9:if(Jg(A)){yt=0,Hn=null,Bv(a);break}a=function(){yt!==2&&yt!==9||Rt!==t||(yt=7),Yr(t)},A.then(a,a);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:Jg(A)?(yt=0,Hn=null,Bv(a)):(yt=0,Hn=null,so(t,a,A,7));break;case 5:var P=null;switch(We.tag){case 26:P=We.memoizedState;case 5:case 27:var L=We;if(!P||A_(P)){yt=0,Hn=null;var F=L.sibling;if(F!==null)We=F;else{var J=L.return;J!==null?(We=J,vc(J)):We=null}break t}}yt=0,Hn=null,so(t,a,A,5);break;case 6:yt=0,Hn=null,so(t,a,A,6);break;case 8:Sd(),Pt=6;break e;default:throw Error(i(462))}}VA();break}catch(ie){Lv(t,ie)}while(!0);return ba=as=null,Y.H=u,Y.A=m,gt=s,We!==null?0:(Rt=null,st=0,Uu(),Pt)}function VA(){for(;We!==null&&!ji();)$v(We)}function $v(t){var a=mv(t.alternate,t,Ca);t.memoizedProps=t.pendingProps,a===null?vc(t):We=a}function Bv(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=lv(s,a,a.pendingProps,a.type,void 0,st);break;case 11:a=lv(s,a,a.pendingProps,a.type.render,a.ref,st);break;case 5:Bh(a);default:gv(s,a),a=We=Fg(a,Ca),a=mv(s,a,Ca)}t.memoizedProps=t.pendingProps,a===null?vc(t):We=a}function so(t,a,s,u){ba=as=null,Bh(a),Zs=null,pl=0;var m=a.return;try{if(SA(t,m,a,s,st)){Pt=1,uc(t,cr(s,t.current)),We=null;return}}catch(A){if(m!==null)throw We=m,A;Pt=1,uc(t,cr(s,t.current)),We=null;return}a.flags&32768?(ht||u===1?t=!0:to||(st&536870912)!==0?t=!1:(ri=t=!0,(u===2||u===9||u===3||u===6)&&(u=mr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Fv(a,t)):vc(a)}function vc(t){var a=t;do{if((a.flags&32768)!==0){Fv(a,ri);return}t=a.return;var s=xA(a.alternate,a,Ca);if(s!==null){We=s;return}if(a=a.sibling,a!==null){We=a;return}We=a=t}while(a!==null);Pt===0&&(Pt=5)}function Fv(t,a){do{var s=CA(t.alternate,t);if(s!==null){s.flags&=32767,We=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){We=t;return}We=t=s}while(t!==null);Pt=6,We=null}function qv(t,a,s,u,m,A,P,L,F){t.cancelPendingCommit=null;do _c();while(cn!==0);if((gt&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(A=a.lanes|a.childLanes,A|=yh,Ba(t,s,A,P,L,F),t===Rt&&(We=Rt=null,st=0),ro=a,si=t,ao=s,wd=A,Ad=m,Pv=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zA(sa,function(){return Kv(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,m=se.p,se.p=2,P=gt,gt|=4;try{DA(t,a,s)}finally{gt=P,se.p=m,Y.T=u}}cn=1,Hv(),Gv(),Yv()}}function Hv(){if(cn===1){cn=0;var t=si,a=ro,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var u=se.p;se.p=2;var m=gt;gt|=4;try{xv(a,t);var A=Ud,P=Mg(t.containerInfo),L=A.focusedElem,F=A.selectionRange;if(P!==L&&L&&L.ownerDocument&&Ng(L.ownerDocument.documentElement,L)){if(F!==null&&hh(L)){var J=F.start,ie=F.end;if(ie===void 0&&(ie=J),"selectionStart"in L)L.selectionStart=J,L.selectionEnd=Math.min(ie,L.value.length);else{var ue=L.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),$e=L.textContent.length,ke=Math.min(F.start,$e),wt=F.end===void 0?ke:Math.min(F.end,$e);!ne.extend&&ke>wt&&(P=wt,wt=ke,ke=P);var Q=Ig(L,ke),H=Ig(L,wt);if(Q&&H&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==H.node||ne.focusOffset!==H.offset)){var Z=ue.createRange();Z.setStart(Q.node,Q.offset),ne.removeAllRanges(),ke>wt?(ne.addRange(Z),ne.extend(H.node,H.offset)):(Z.setEnd(H.node,H.offset),ne.addRange(Z))}}}}for(ue=[],ne=L;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ue.length;L++){var oe=ue[L];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Ic=!!Ld,Ud=Ld=null}finally{gt=m,se.p=u,Y.T=s}}t.current=a,cn=2}}function Gv(){if(cn===2){cn=0;var t=si,a=ro,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var u=se.p;se.p=2;var m=gt;gt|=4;try{Av(t,a.alternate,a)}finally{gt=m,se.p=u,Y.T=s}}cn=3}}function Yv(){if(cn===4||cn===3){cn=0,Rs();var t=si,a=ro,s=ao,u=Pv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?cn=5:(cn=0,ro=si=null,Qv(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(ii=null),Fa(s),a=a.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ft,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Y.T,m=se.p,se.p=2,Y.T=null;try{for(var A=t.onRecoverableError,P=0;P<u.length;P++){var L=u[P];A(L.value,{componentStack:L.stack})}}finally{Y.T=a,se.p=m}}(ao&3)!==0&&_c(),Yr(t),m=t.pendingLanes,(s&4194090)!==0&&(m&42)!==0?t===Td?Tl++:(Tl=0,Td=t):Tl=0,Sl(0)}}function Qv(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,al(a)))}function _c(t){return Hv(),Gv(),Yv(),Kv()}function Kv(){if(cn!==5)return!1;var t=si,a=wd;wd=0;var s=Fa(ao),u=Y.T,m=se.p;try{se.p=32>s?32:s,Y.T=null,s=Ad,Ad=null;var A=si,P=ao;if(cn=0,ro=si=null,ao=0,(gt&6)!==0)throw Error(i(331));var L=gt;if(gt|=4,Nv(A.current),Dv(A,A.current,P,s),gt=L,Sl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ft,A)}catch{}return!0}finally{se.p=m,Y.T=u,Qv(t,a)}}function Xv(t,a,s){a=cr(s,a),a=nd(t.stateNode,a,2),t=Xa(t,a,2),t!==null&&(Er(t,2),Yr(t))}function Tt(t,a,s){if(t.tag===3)Xv(t,t,s);else for(;a!==null;){if(a.tag===3){Xv(a,t,s);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ii===null||!ii.has(u))){t=cr(s,t),s=ev(2),u=Xa(a,s,2),u!==null&&(tv(s,u,a,t),Er(u,2),Yr(u));break}}a=a.return}}function Cd(t,a,s){var u=t.pingCache;if(u===null){u=t.pingCache=new NA;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(s)||(vd=!0,m.add(s),t=jA.bind(null,t,a,s),a.then(t,t))}function jA(t,a,s){var u=t.pingCache;u!==null&&u.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Rt===t&&(st&s)===s&&(Pt===4||Pt===3&&(st&62914560)===st&&300>Sn()-Ed?(gt&2)===0&&io(t,0):_d|=s,no===st&&(no=0)),Yr(t)}function Zv(t,a){a===0&&(a=Ui()),t=$s(t,a),t!==null&&(Er(t,a),Yr(t))}function LA(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),Zv(t,s)}function UA(t,a){var s=0;switch(t.tag){case 13:var u=t.stateNode,m=t.memoizedState;m!==null&&(s=m.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Zv(t,s)}function zA(t,a){return ia(t,a)}var bc=null,oo=null,Dd=!1,Ec=!1,Od=!1,fs=0;function Yr(t){t!==oo&&t.next===null&&(oo===null?bc=oo=t:oo=oo.next=t),Ec=!0,Dd||(Dd=!0,BA())}function Sl(t,a){if(!Od&&Ec){Od=!0;do for(var s=!1,u=bc;u!==null;){if(t!==0){var m=u.pendingLanes;if(m===0)var A=0;else{var P=u.suspendedLanes,L=u.pingedLanes;A=(1<<31-Ut(42|t)+1)-1,A&=m&~(P&~L),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(s=!0,t_(u,A))}else A=st,A=oa(u,u===Rt?A:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(A&3)===0||nr(u,A)||(s=!0,t_(u,A));u=u.next}while(s);Od=!1}}function $A(){Wv()}function Wv(){Ec=Dd=!1;var t=0;fs!==0&&(XA()&&(t=fs),fs=0);for(var a=Sn(),s=null,u=bc;u!==null;){var m=u.next,A=Jv(u,a);A===0?(u.next=null,s===null?bc=m:s.next=m,m===null&&(oo=s)):(s=u,(t!==0||(A&3)!==0)&&(Ec=!0)),u=m}Sl(t)}function Jv(t,a){for(var s=t.suspendedLanes,u=t.pingedLanes,m=t.expirationTimes,A=t.pendingLanes&-62914561;0<A;){var P=31-Ut(A),L=1<<P,F=m[P];F===-1?((L&s)===0||(L&u)!==0)&&(m[P]=$a(L,a)):F<=a&&(t.expiredLanes|=L),A&=~L}if(a=Rt,s=st,s=oa(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===a&&(yt===2||yt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Tn(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||nr(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(u!==null&&Tn(u),Fa(s)){case 2:case 8:s=La;break;case 32:s=sa;break;case 268435456:s=er;break;default:s=sa}return u=e_.bind(null,t),s=ia(s,u),t.callbackPriority=a,t.callbackNode=s,a}return u!==null&&u!==null&&Tn(u),t.callbackPriority=2,t.callbackNode=null,2}function e_(t,a){if(cn!==0&&cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(_c()&&t.callbackNode!==s)return null;var u=st;return u=oa(t,t===Rt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Vv(t,u,a),Jv(t,Sn()),t.callbackNode!=null&&t.callbackNode===s?e_.bind(null,t):null)}function t_(t,a){if(_c())return null;Vv(t,a,!0)}function BA(){WA(function(){(gt&6)!==0?ia(Li,$A):Wv()})}function Id(){return fs===0&&(fs=la()),fs}function n_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ds(""+t)}function r_(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function FA(t,a,s,u,m){if(a==="submit"&&s&&s.stateNode===m){var A=n_((m[ge]||null).action),P=u.submitter;P&&(a=(a=P[ge]||null)?n_(a.formAction):P.getAttribute("formAction"),a!==null&&(A=a,P=null));var L=new Os("action","action",null,u,m);t.push({event:L,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fs!==0){var F=P?r_(m,P):new FormData(m);Zh(s,{pending:!0,data:F,method:m.method,action:A},null,F)}}else typeof A=="function"&&(L.preventDefault(),F=P?r_(m,P):new FormData(m),Zh(s,{pending:!0,data:F,method:m.method,action:A},A,F))},currentTarget:m}]})}}for(var Nd=0;Nd<gh.length;Nd++){var Md=gh[Nd],qA=Md.toLowerCase(),HA=Md[0].toUpperCase()+Md.slice(1);Ar(qA,"on"+HA)}Ar(Vg,"onAnimationEnd"),Ar(jg,"onAnimationIteration"),Ar(Lg,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(lA,"onTransitionRun"),Ar(uA,"onTransitionStart"),Ar(cA,"onTransitionCancel"),Ar(Ug,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),Ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function a_(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],m=u.event;u=u.listeners;e:{var A=void 0;if(a)for(var P=u.length-1;0<=P;P--){var L=u[P],F=L.instance,J=L.currentTarget;if(L=L.listener,F!==A&&m.isPropagationStopped())break e;A=L,m.currentTarget=J;try{A(m)}catch(ie){lc(ie)}m.currentTarget=null,A=F}else for(P=0;P<u.length;P++){if(L=u[P],F=L.instance,J=L.currentTarget,L=L.listener,F!==A&&m.isPropagationStopped())break e;A=L,m.currentTarget=J;try{A(m)}catch(ie){lc(ie)}m.currentTarget=null,A=F}}}}function Je(t,a){var s=a[Me];s===void 0&&(s=a[Me]=new Set);var u=t+"__bubble";s.has(u)||(i_(a,t,2,!1),s.add(u))}function Pd(t,a,s){var u=0;a&&(u|=4),i_(s,t,u,a)}var wc="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[wc]){t[wc]=!0,Ke.forEach(function(s){s!=="selectionchange"&&(GA.has(s)||Pd(s,!1,t),Pd(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[wc]||(a[wc]=!0,Pd("selectionchange",!1,a))}}function i_(t,a,s,u){switch(D_(a)){case 2:var m=_T;break;case 8:m=bT;break;default:m=Kd}s=m.bind(null,a,s,t),m=void 0,!lr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?t.addEventListener(a,s,{capture:!0,passive:m}):t.addEventListener(a,s,!0):m!==void 0?t.addEventListener(a,s,{passive:m}):t.addEventListener(a,s,!1)}function Vd(t,a,s,u,m){var A=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var P=u.tag;if(P===3||P===4){var L=u.stateNode.containerInfo;if(L===m)break;if(P===4)for(P=u.return;P!==null;){var F=P.tag;if((F===3||F===4)&&P.stateNode.containerInfo===m)return;P=P.return}for(;L!==null;){if(P=je(L),P===null)return;if(F=P.tag,F===5||F===6||F===26||F===27){u=A=P;continue e}L=L.parentNode}}u=u.return}Tu(function(){var J=A,ie=or(s),ue=[];e:{var ee=zg.get(t);if(ee!==void 0){var ne=Os,$e=t;switch(t){case"keypress":if(Lr(s)===0)break e;case"keydown":case"keyup":ne=Vs;break;case"focusin":$e="focus",ne=Ms;break;case"focusout":$e="blur",ne=Ms;break;case"beforeblur":case"afterblur":ne=Ms;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Nu;break;case Vg:case jg:case Lg:ne=Ps;break;case Ug:ne=Pu;break;case"scroll":case"scrollend":ne=Su;break;case"wheel":ne=js;break;case"copy":case"cut":case"paste":ne=ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Xo;break;case"toggle":case"beforetoggle":ne=Vu}var ke=(a&4)!==0,wt=!ke&&(t==="scroll"||t==="scrollend"),Q=ke?ee!==null?ee+"Capture":null:ee;ke=[];for(var H=J,Z;H!==null;){var oe=H;if(Z=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Z===null||Q===null||(oe=qi(H,Q),oe!=null&&ke.push(xl(H,oe,Z))),wt)break;H=H.return}0<ke.length&&(ee=new ne(ee,$e,null,s,ie),ue.push({event:ee,listeners:ke}))}}if((a&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",ee&&s!==fa&&($e=s.relatedTarget||s.fromElement)&&(je($e)||$e[we]))break e;if((ne||ee)&&(ee=ie.window===ie?ie:(ee=ie.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?($e=s.relatedTarget||s.toElement,ne=J,$e=$e?je($e):null,$e!==null&&(wt=l($e),ke=$e.tag,$e!==wt||ke!==5&&ke!==27&&ke!==6)&&($e=null)):(ne=null,$e=J),ne!==$e)){if(ke=ur,oe="onMouseLeave",Q="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(ke=Xo,oe="onPointerLeave",Q="onPointerEnter",H="pointer"),wt=ne==null?ee:dt(ne),Z=$e==null?ee:dt($e),ee=new ke(oe,H+"leave",ne,s,ie),ee.target=wt,ee.relatedTarget=Z,oe=null,je(ie)===J&&(ke=new ke(Q,H+"enter",$e,s,ie),ke.target=Z,ke.relatedTarget=wt,oe=ke),wt=oe,ne&&$e)t:{for(ke=ne,Q=$e,H=0,Z=ke;Z;Z=lo(Z))H++;for(Z=0,oe=Q;oe;oe=lo(oe))Z++;for(;0<H-Z;)ke=lo(ke),H--;for(;0<Z-H;)Q=lo(Q),Z--;for(;H--;){if(ke===Q||Q!==null&&ke===Q.alternate)break t;ke=lo(ke),Q=lo(Q)}ke=null}else ke=null;ne!==null&&s_(ue,ee,ne,ke,!1),$e!==null&&wt!==null&&s_(ue,wt,$e,ke,!0)}}e:{if(ee=J?dt(J):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var Te=Sg;else if(Yt(ee))if(Rg)Te=iA;else{Te=rA;var Xe=nA}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Fo(J.elementType)&&(Te=Sg):Te=aA;if(Te&&(Te=Te(t,J))){ga(ue,Te,s,ie);break e}Xe&&Xe(t,ee,J),t==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Ha(ee,"number",ee.value)}switch(Xe=J?dt(J):window,t){case"focusin":(Yt(Xe)||Xe.contentEditable==="true")&&(Ls=Xe,dh=J,Jo=null);break;case"focusout":Jo=dh=Ls=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Pg(ue,s,ie);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":Pg(ue,s,ie)}var Ie;if($r)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else at?ae(t,s)&&(Le="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Le="onCompositionStart");Le&&(N&&s.locale!=="ko"&&(at||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&at&&(Ie=Ho()):(jr=ie,Ga="value"in jr?jr.value:jr.textContent,at=!0)),Xe=Ac(J,Le),0<Xe.length&&(Le=new Qo(Le,t,null,s,ie),ue.push({event:Le,listeners:Xe}),Ie?Le.data=Ie:(Ie=_e(s),Ie!==null&&(Le.data=Ie)))),(Ie=D?Gt(t,s):it(t,s))&&(Le=Ac(J,"onBeforeInput"),0<Le.length&&(Xe=new Qo("onBeforeInput","beforeinput",null,s,ie),ue.push({event:Xe,listeners:Le}),Xe.data=Ie)),FA(ue,t,J,s,ie)}a_(ue,a)})}function xl(t,a,s){return{instance:t,listener:a,currentTarget:s}}function Ac(t,a){for(var s=a+"Capture",u=[];t!==null;){var m=t,A=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||A===null||(m=qi(t,s),m!=null&&u.unshift(xl(t,m,A)),m=qi(t,a),m!=null&&u.push(xl(t,m,A))),t.tag===3)return u;t=t.return}return[]}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function s_(t,a,s,u,m){for(var A=a._reactName,P=[];s!==null&&s!==u;){var L=s,F=L.alternate,J=L.stateNode;if(L=L.tag,F!==null&&F===u)break;L!==5&&L!==26&&L!==27||J===null||(F=J,m?(J=qi(s,A),J!=null&&P.unshift(xl(s,J,F))):m||(J=qi(s,A),J!=null&&P.push(xl(s,J,F)))),s=s.return}P.length!==0&&t.push({event:a,listeners:P})}var YA=/\r\n?/g,QA=/\u0000|\uFFFD/g;function o_(t){return(typeof t=="string"?t:""+t).replace(YA,`
`).replace(QA,"")}function l_(t,a){return a=o_(a),o_(t)===a}function Tc(){}function Et(t,a,s,u,m,A){switch(s){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||sr(t,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&sr(t,""+u);break;case"className":Cn(t,"class",u);break;case"tabIndex":Cn(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,s,u);break;case"style":Bo(t,u,A);break;case"data":if(a!=="object"){Cn(t,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Ds(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(s==="formAction"?(a!=="input"&&Et(t,a,"name",m.name,m,null),Et(t,a,"formEncType",m.formEncType,m,null),Et(t,a,"formMethod",m.formMethod,m,null),Et(t,a,"formTarget",m.formTarget,m,null)):(Et(t,a,"encType",m.encType,m,null),Et(t,a,"method",m.method,m,null),Et(t,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Ds(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=Tc);break;case"onScroll":u!=null&&Je("scroll",t);break;case"onScrollEnd":u!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(s=u.__html,s!=null){if(m.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=Ds(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":Je("beforetoggle",t),Je("toggle",t),yn(t,"popover",u);break;case"xlinkActuate":Be(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Be(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Be(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Be(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Be(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Be(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Be(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":yn(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=sh.get(s)||s,yn(t,s,u))}}function jd(t,a,s,u,m,A){switch(s){case"style":Bo(t,u,A);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(s=u.__html,s!=null){if(m.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof u=="string"?sr(t,u):(typeof u=="number"||typeof u=="bigint")&&sr(t,""+u);break;case"onScroll":u!=null&&Je("scroll",t);break;case"onScrollEnd":u!=null&&Je("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ar.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),a=s.slice(2,m?s.length-7:void 0),A=t[ge]||null,A=A!=null?A[s]:null,typeof A=="function"&&t.removeEventListener(a,A,m),typeof u=="function")){typeof A!="function"&&A!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,u,m);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):yn(t,s,u)}}}function fn(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var u=!1,m=!1,A;for(A in s)if(s.hasOwnProperty(A)){var P=s[A];if(P!=null)switch(A){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Et(t,a,A,P,s,null)}}m&&Et(t,a,"srcSet",s.srcSet,s,null),u&&Et(t,a,"src",s.src,s,null);return;case"input":Je("invalid",t);var L=A=P=m=null,F=null,J=null;for(u in s)if(s.hasOwnProperty(u)){var ie=s[u];if(ie!=null)switch(u){case"name":m=ie;break;case"type":P=ie;break;case"checked":F=ie;break;case"defaultChecked":J=ie;break;case"value":A=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:Et(t,a,u,ie,s,null)}}$i(t,A,L,F,J,P,m,!1),Cs(t);return;case"select":Je("invalid",t),u=P=A=null;for(m in s)if(s.hasOwnProperty(m)&&(L=s[m],L!=null))switch(m){case"value":A=L;break;case"defaultValue":P=L;break;case"multiple":u=L;default:Et(t,a,m,L,s,null)}a=A,s=P,t.multiple=!!u,a!=null?ca(t,!!u,a,!1):s!=null&&ca(t,!!u,s,!0);return;case"textarea":Je("invalid",t),A=m=u=null;for(P in s)if(s.hasOwnProperty(P)&&(L=s[P],L!=null))switch(P){case"value":u=L;break;case"defaultValue":m=L;break;case"children":A=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:Et(t,a,P,L,s,null)}Bi(t,u,m,A),Cs(t);return;case"option":for(F in s)if(s.hasOwnProperty(F)&&(u=s[F],u!=null))switch(F){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Et(t,a,F,u,s,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(u=0;u<Rl.length;u++)Je(Rl[u],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in s)if(s.hasOwnProperty(J)&&(u=s[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Et(t,a,J,u,s,null)}return;default:if(Fo(a)){for(ie in s)s.hasOwnProperty(ie)&&(u=s[ie],u!==void 0&&jd(t,a,ie,u,s,void 0));return}}for(L in s)s.hasOwnProperty(L)&&(u=s[L],u!=null&&Et(t,a,L,u,s,null))}function KA(t,a,s,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,A=null,P=null,L=null,F=null,J=null,ie=null;for(ne in s){var ue=s[ne];if(s.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=ue;default:u.hasOwnProperty(ne)||Et(t,a,ne,null,u,ue)}}for(var ee in u){var ne=u[ee];if(ue=s[ee],u.hasOwnProperty(ee)&&(ne!=null||ue!=null))switch(ee){case"type":A=ne;break;case"name":m=ne;break;case"checked":J=ne;break;case"defaultChecked":ie=ne;break;case"value":P=ne;break;case"defaultValue":L=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,a));break;default:ne!==ue&&Et(t,a,ee,ne,u,ue)}}zn(t,P,L,F,J,ie,A,m);return;case"select":ne=P=L=ee=null;for(A in s)if(F=s[A],s.hasOwnProperty(A)&&F!=null)switch(A){case"value":break;case"multiple":ne=F;default:u.hasOwnProperty(A)||Et(t,a,A,null,u,F)}for(m in u)if(A=u[m],F=s[m],u.hasOwnProperty(m)&&(A!=null||F!=null))switch(m){case"value":ee=A;break;case"defaultValue":L=A;break;case"multiple":P=A;default:A!==F&&Et(t,a,m,A,u,F)}a=L,s=P,u=ne,ee!=null?ca(t,!!s,ee,!1):!!u!=!!s&&(a!=null?ca(t,!!s,a,!0):ca(t,!!s,s?[]:"",!1));return;case"textarea":ne=ee=null;for(L in s)if(m=s[L],s.hasOwnProperty(L)&&m!=null&&!u.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Et(t,a,L,null,u,m)}for(P in u)if(m=u[P],A=s[P],u.hasOwnProperty(P)&&(m!=null||A!=null))switch(P){case"value":ee=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==A&&Et(t,a,P,m,u,A)}_t(t,ee,ne);return;case"option":for(var $e in s)if(ee=s[$e],s.hasOwnProperty($e)&&ee!=null&&!u.hasOwnProperty($e))switch($e){case"selected":t.selected=!1;break;default:Et(t,a,$e,null,u,ee)}for(F in u)if(ee=u[F],ne=s[F],u.hasOwnProperty(F)&&ee!==ne&&(ee!=null||ne!=null))switch(F){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Et(t,a,F,ee,u,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in s)ee=s[ke],s.hasOwnProperty(ke)&&ee!=null&&!u.hasOwnProperty(ke)&&Et(t,a,ke,null,u,ee);for(J in u)if(ee=u[J],ne=s[J],u.hasOwnProperty(J)&&ee!==ne&&(ee!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:Et(t,a,J,ee,u,ne)}return;default:if(Fo(a)){for(var wt in s)ee=s[wt],s.hasOwnProperty(wt)&&ee!==void 0&&!u.hasOwnProperty(wt)&&jd(t,a,wt,void 0,u,ee);for(ie in u)ee=u[ie],ne=s[ie],!u.hasOwnProperty(ie)||ee===ne||ee===void 0&&ne===void 0||jd(t,a,ie,ee,u,ne);return}}for(var Q in s)ee=s[Q],s.hasOwnProperty(Q)&&ee!=null&&!u.hasOwnProperty(Q)&&Et(t,a,Q,null,u,ee);for(ue in u)ee=u[ue],ne=s[ue],!u.hasOwnProperty(ue)||ee===ne||ee==null&&ne==null||Et(t,a,ue,ee,u,ne)}var Ld=null,Ud=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function u_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c_(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function zd(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var $d=null;function XA(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,ZA=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(t){return h_.resolve(null).then(t).catch(JA)}:f_;function JA(t){setTimeout(function(){throw t})}function li(t){return t==="head"}function d_(t,a){var s=a,u=0,m=0;do{var A=s.nextSibling;if(t.removeChild(s),A&&A.nodeType===8)if(s=A.data,s==="/$"){if(0<u&&8>u){s=u;var P=t.ownerDocument;if(s&1&&Cl(P.documentElement),s&2&&Cl(P.body),s&4)for(s=P.head,Cl(s),P=s.firstChild;P;){var L=P.nextSibling,F=P.nodeName;P[Ve]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&P.rel.toLowerCase()==="stylesheet"||s.removeChild(P),P=L}}if(m===0){t.removeChild(A),Vl(a);return}m--}else s==="$"||s==="$?"||s==="$!"?m++:u=s.charCodeAt(0)-48;else u=0;s=A}while(s);Vl(a)}function Bd(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Bd(s),Re(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function eT(t,a,s,u){for(;t.nodeType===1;){var m=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Ve])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(A=t.getAttribute("rel"),A==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(A!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(A=t.getAttribute("src"),(A!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&A&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var A=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===A)return t}else return t;if(t=Sr(t.nextSibling),t===null)break}return null}function tT(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Sr(t.nextSibling),t===null))return null;return t}function Fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function nT(t,a){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")a();else{var u=function(){a(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Sr(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var qd=null;function m_(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return t;a--}else s==="/$"&&a++}t=t.previousSibling}return null}function p_(t,a,s){switch(a=Sc(s),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Cl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Re(t)}var gr=new Map,g_=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Da=se.d;se.d={f:rT,r:aT,D:iT,C:sT,L:oT,m:lT,X:cT,S:uT,M:fT};function rT(){var t=Da.f(),a=yc();return t||a}function aT(t){var a=Ze(t);a!==null&&a.tag===5&&a.type==="form"?Vy(a):Da.r(t)}var uo=typeof document>"u"?null:document;function y_(t,a,s){var u=uo;if(u&&typeof a=="string"&&a){var m=$t(a);m='link[rel="'+t+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),g_.has(m)||(g_.add(m),t={rel:t,crossOrigin:s,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),fn(a,"link",t),rt(a),u.head.appendChild(a)))}}function iT(t){Da.D(t),y_("dns-prefetch",t,null)}function sT(t,a){Da.C(t,a),y_("preconnect",t,a)}function oT(t,a,s){Da.L(t,a,s);var u=uo;if(u&&t&&a){var m='link[rel="preload"][as="'+$t(a)+'"]';a==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+$t(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+$t(s.imageSizes)+'"]')):m+='[href="'+$t(t)+'"]';var A=m;switch(a){case"style":A=co(t);break;case"script":A=fo(t)}gr.has(A)||(t=_({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),gr.set(A,t),u.querySelector(m)!==null||a==="style"&&u.querySelector(Dl(A))||a==="script"&&u.querySelector(Ol(A))||(a=u.createElement("link"),fn(a,"link",t),rt(a),u.head.appendChild(a)))}}function lT(t,a){Da.m(t,a);var s=uo;if(s&&t){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+$t(u)+'"][href="'+$t(t)+'"]',A=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=fo(t)}if(!gr.has(A)&&(t=_({rel:"modulepreload",href:t},a),gr.set(A,t),s.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ol(A)))return}u=s.createElement("link"),fn(u,"link",t),rt(u),s.head.appendChild(u)}}}function uT(t,a,s){Da.S(t,a,s);var u=uo;if(u&&t){var m=ut(u).hoistableStyles,A=co(t);a=a||"default";var P=m.get(A);if(!P){var L={loading:0,preload:null};if(P=u.querySelector(Dl(A)))L.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":a},s),(s=gr.get(A))&&Hd(t,s);var F=P=u.createElement("link");rt(F),fn(F,"link",t),F._p=new Promise(function(J,ie){F.onload=J,F.onerror=ie}),F.addEventListener("load",function(){L.loading|=1}),F.addEventListener("error",function(){L.loading|=2}),L.loading|=4,xc(P,a,u)}P={type:"stylesheet",instance:P,count:1,state:L},m.set(A,P)}}}function cT(t,a){Da.X(t,a);var s=uo;if(s&&t){var u=ut(s).hoistableScripts,m=fo(t),A=u.get(m);A||(A=s.querySelector(Ol(m)),A||(t=_({src:t,async:!0},a),(a=gr.get(m))&&Gd(t,a),A=s.createElement("script"),rt(A),fn(A,"link",t),s.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},u.set(m,A))}}function fT(t,a){Da.M(t,a);var s=uo;if(s&&t){var u=ut(s).hoistableScripts,m=fo(t),A=u.get(m);A||(A=s.querySelector(Ol(m)),A||(t=_({src:t,async:!0,type:"module"},a),(a=gr.get(m))&&Gd(t,a),A=s.createElement("script"),rt(A),fn(A,"link",t),s.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},u.set(m,A))}}function v_(t,a,s,u){var m=(m=Ce.current)?Rc(m):null;if(!m)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=co(s.href),s=ut(m).hoistableStyles,u=s.get(a),u||(u={type:"style",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=co(s.href);var A=ut(m).hoistableStyles,P=A.get(t);if(P||(m=m.ownerDocument||m,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(t,P),(A=m.querySelector(Dl(t)))&&!A._p&&(P.instance=A,P.state.loading=5),gr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},gr.set(t,s),A||hT(m,t,s,P.state))),a&&u===null)throw Error(i(528,""));return P}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=fo(s),s=ut(m).hoistableScripts,u=s.get(a),u||(u={type:"script",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function co(t){return'href="'+$t(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function __(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function hT(t,a,s,u){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=t.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),fn(a,"link",s),rt(a),t.head.appendChild(a))}function fo(t){return'[src="'+$t(t)+'"]'}function Ol(t){return"script[async]"+t}function b_(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var u=t.querySelector('style[data-href~="'+$t(s.href)+'"]');if(u)return a.instance=u,rt(u),u;var m=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),rt(u),fn(u,"style",m),xc(u,s.precedence,t),a.instance=u;case"stylesheet":m=co(s.href);var A=t.querySelector(Dl(m));if(A)return a.state.loading|=4,a.instance=A,rt(A),A;u=__(s),(m=gr.get(m))&&Hd(u,m),A=(t.ownerDocument||t).createElement("link"),rt(A);var P=A;return P._p=new Promise(function(L,F){P.onload=L,P.onerror=F}),fn(A,"link",u),a.state.loading|=4,xc(A,s.precedence,t),a.instance=A;case"script":return A=fo(s.src),(m=t.querySelector(Ol(A)))?(a.instance=m,rt(m),m):(u=s,(m=gr.get(A))&&(u=_({},s),Gd(u,m)),t=t.ownerDocument||t,m=t.createElement("script"),rt(m),fn(m,"link",u),t.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,xc(u,s.precedence,t));return a.instance}function xc(t,a,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,A=m,P=0;P<u.length;P++){var L=u[P];if(L.dataset.precedence===a)A=L;else if(A!==m)break}A?A.parentNode.insertBefore(t,A.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function Hd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Gd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Cc=null;function E_(t,a,s){if(Cc===null){var u=new Map,m=Cc=new Map;m.set(s,u)}else m=Cc,u=m.get(s),u||(u=new Map,m.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),m=0;m<s.length;m++){var A=s[m];if(!(A[Ve]||A[le]||t==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var P=A.getAttribute(a)||"";P=t+P;var L=u.get(P);L?L.push(A):u.set(P,[A])}}return u}function w_(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function dT(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function A_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function mT(){}function pT(t,a,s){if(Il===null)throw Error(i(475));var u=Il;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=co(s.href),A=t.querySelector(Dl(m));if(A){t=A._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Dc.bind(u),t.then(u,u)),a.state.loading|=4,a.instance=A,rt(A);return}A=t.ownerDocument||t,s=__(s),(m=gr.get(m))&&Hd(s,m),A=A.createElement("link"),rt(A);var P=A;P._p=new Promise(function(L,F){P.onload=L,P.onerror=F}),fn(A,"link",s),a.instance=A}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Dc.bind(u),t.addEventListener("load",a),t.addEventListener("error",a))}}function gT(){if(Il===null)throw Error(i(475));var t=Il;return t.stylesheets&&t.count===0&&Yd(t,t.stylesheets),0<t.count?function(a){var s=setTimeout(function(){if(t.stylesheets&&Yd(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Dc(){if(this.count--,this.count===0){if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Yd(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,a.forEach(yT,t),Oc=null,Dc.call(t))}function yT(t,a){if(!(a.state.loading&4)){var s=Oc.get(t);if(s)var u=s.get(null);else{s=new Map,Oc.set(t,s);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<m.length;A++){var P=m[A];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(s.set(P.dataset.precedence,P),u=P)}u&&s.set(null,u)}m=a.instance,P=m.getAttribute("data-precedence"),A=s.get(P)||u,A===u&&s.set(null,m),s.set(P,m),this.count++,u=Dc.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),A?A.parentNode.insertBefore(m,A.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),a.state.loading|=4}}var Nl={$$typeof:x,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function vT(t,a,s,u,m,A,P,L){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.hiddenUpdates=rr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=A,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function T_(t,a,s,u,m,A,P,L,F,J,ie,ue){return t=new vT(t,a,s,P,L,F,J,ue),a=1,A===!0&&(a|=24),A=Bn(3,null,null,a),t.current=A,A.stateNode=t,a=Ch(),a.refCount++,t.pooledCache=a,a.refCount++,A.memoizedState={element:u,isDehydrated:s,cache:a},Nh(A),t}function S_(t){return t?(t=Bs,t):Bs}function R_(t,a,s,u,m,A){m=S_(m),u.context===null?u.context=m:u.pendingContext=m,u=Ka(a),u.payload={element:s},A=A===void 0?null:A,A!==null&&(u.callback=A),s=Xa(t,u,a),s!==null&&(Yn(s,t,a),ll(s,t,a))}function x_(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function Qd(t,a){x_(t,a),(t=t.alternate)&&x_(t,a)}function C_(t){if(t.tag===13){var a=$s(t,67108864);a!==null&&Yn(a,t,67108864),Qd(t,67108864)}}var Ic=!0;function _T(t,a,s,u){var m=Y.T;Y.T=null;var A=se.p;try{se.p=2,Kd(t,a,s,u)}finally{se.p=A,Y.T=m}}function bT(t,a,s,u){var m=Y.T;Y.T=null;var A=se.p;try{se.p=8,Kd(t,a,s,u)}finally{se.p=A,Y.T=m}}function Kd(t,a,s,u){if(Ic){var m=Xd(u);if(m===null)Vd(t,a,u,Nc,s),O_(t,u);else if(wT(m,t,a,s,u))u.stopPropagation();else if(O_(t,u),a&4&&-1<ET.indexOf(t)){for(;m!==null;){var A=Ze(m);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var P=jn(A.pendingLanes);if(P!==0){var L=A;for(L.pendingLanes|=2,L.entangledLanes|=2;P;){var F=1<<31-Ut(P);L.entanglements[1]|=F,P&=~F}Yr(A),(gt&6)===0&&(pc=Sn()+500,Sl(0))}}break;case 13:L=$s(A,2),L!==null&&Yn(L,A,2),yc(),Qd(A,2)}if(A=Xd(u),A===null&&Vd(t,a,u,Nc,s),A===m)break;m=A}m!==null&&u.stopPropagation()}else Vd(t,a,u,null,s)}}function Xd(t){return t=or(t),Zd(t)}var Nc=null;function Zd(t){if(Nc=null,t=je(t),t!==null){var a=l(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=f(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Nc=t,null}function D_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uo()){case Li:return 2;case La:return 8;case sa:case br:return 32;case er:return 268435456;default:return 32}default:return 32}}var Wd=!1,ui=null,ci=null,fi=null,Ml=new Map,Pl=new Map,hi=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(t,a){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":Ml.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(a.pointerId)}}function kl(t,a,s,u,m,A){return t===null||t.nativeEvent!==A?(t={blockedOn:a,domEventName:s,eventSystemFlags:u,nativeEvent:A,targetContainers:[m]},a!==null&&(a=Ze(a),a!==null&&C_(a)),t):(t.eventSystemFlags|=u,a=t.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),t)}function wT(t,a,s,u,m){switch(a){case"focusin":return ui=kl(ui,t,a,s,u,m),!0;case"dragenter":return ci=kl(ci,t,a,s,u,m),!0;case"mouseover":return fi=kl(fi,t,a,s,u,m),!0;case"pointerover":var A=m.pointerId;return Ml.set(A,kl(Ml.get(A)||null,t,a,s,u,m)),!0;case"gotpointercapture":return A=m.pointerId,Pl.set(A,kl(Pl.get(A)||null,t,a,s,u,m)),!0}return!1}function I_(t){var a=je(t.target);if(a!==null){var s=l(a);if(s!==null){if(a=s.tag,a===13){if(a=f(s),a!==null){t.blockedOn=a,K(t.priority,function(){if(s.tag===13){var u=Gn();u=Mr(u);var m=$s(s,u);m!==null&&Yn(m,s,u),Qd(s,u)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=Xd(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);fa=u,s.target.dispatchEvent(u),fa=null}else return a=Ze(s),a!==null&&C_(a),t.blockedOn=s,!1;a.shift()}return!0}function N_(t,a,s){Mc(t)&&s.delete(a)}function AT(){Wd=!1,ui!==null&&Mc(ui)&&(ui=null),ci!==null&&Mc(ci)&&(ci=null),fi!==null&&Mc(fi)&&(fi=null),Ml.forEach(N_),Pl.forEach(N_)}function Pc(t,a){t.blockedOn===a&&(t.blockedOn=null,Wd||(Wd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,AT)))}var kc=null;function M_(t){kc!==t&&(kc=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var a=0;a<t.length;a+=3){var s=t[a],u=t[a+1],m=t[a+2];if(typeof u!="function"){if(Zd(u||s)===null)continue;break}var A=Ze(s);A!==null&&(t.splice(a,3),a-=3,Zh(A,{pending:!0,data:m,method:s.method,action:u},u,m))}}))}function Vl(t){function a(F){return Pc(F,t)}ui!==null&&Pc(ui,t),ci!==null&&Pc(ci,t),fi!==null&&Pc(fi,t),Ml.forEach(a),Pl.forEach(a);for(var s=0;s<hi.length;s++){var u=hi[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<hi.length&&(s=hi[0],s.blockedOn===null);)I_(s),s.blockedOn===null&&hi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var m=s[u],A=s[u+1],P=m[ge]||null;if(typeof A=="function")P||M_(s);else if(P){var L=null;if(A&&A.hasAttribute("formAction")){if(m=A,P=A[ge]||null)L=P.formAction;else if(Zd(m)!==null)continue}else L=P.action;typeof L=="function"?s[u+1]=L:(s.splice(u,3),u-=3),M_(s)}}}function Jd(t){this._internalRoot=t}Vc.prototype.render=Jd.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,u=Gn();R_(s,u,t,a,null,null)},Vc.prototype.unmount=Jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;R_(t.current,2,null,t,null,null),yc(),a[we]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var a=q();t={blockedOn:null,target:t,priority:a};for(var s=0;s<hi.length&&a!==0&&a<hi[s].priority;s++);hi.splice(s,0,t),s===0&&I_(t)}};var P_=e.version;if(P_!=="19.1.0")throw Error(i(527,P_,"19.1.0"));se.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(a),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var TT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{ft=jc.inject(TT),Ge=jc}catch{}}return Ll.createRoot=function(t,a){if(!o(t))throw Error(i(299));var s=!1,u="",m=Xy,A=Zy,P=Wy,L=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(L=a.unstable_transitionCallbacks)),a=T_(t,1,!1,null,null,s,u,m,A,P,L,null),t[we]=a.current,kd(t),new Jd(a)},Ll.hydrateRoot=function(t,a,s){if(!o(t))throw Error(i(299));var u=!1,m="",A=Xy,P=Zy,L=Wy,F=null,J=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(A=s.onUncaughtError),s.onCaughtError!==void 0&&(P=s.onCaughtError),s.onRecoverableError!==void 0&&(L=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(F=s.unstable_transitionCallbacks),s.formState!==void 0&&(J=s.formState)),a=T_(t,1,!0,a,s??null,u,m,A,P,L,F,J),a.context=S_(null),s=a.current,u=Gn(),u=Mr(u),m=Ka(u),m.callback=null,Xa(s,m,u),s=u,a.current.lanes=s,Er(a,s),Yr(a),t[we]=a.current,kd(t),new Vc(a)},Ll.version="19.1.0",Ll}var q_;function PT(){if(q_)return nm.exports;q_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nm.exports=MT(),nm.exports}var kT=PT(),Ul={},H_;function VT(){if(H_)return Ul;H_=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=f,Ul.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function f(y,E){const v=new l,b=y.length;if(b<2)return v;const R=(E==null?void 0:E.decode)||_;let w=0;do{const S=y.indexOf("=",w);if(S===-1)break;const x=y.indexOf(";",w),M=x===-1?b:x;if(S>M){w=y.lastIndexOf(";",S-1)+1;continue}const k=c(y,w,S),V=p(y,S,k),I=y.slice(k,V);if(v[I]===void 0){let T=c(y,S+1,M),C=p(y,M,T);const O=R(y.slice(T,C));v[I]=O}w=M+1}while(w<b);return v}function c(y,E,v){do{const b=y.charCodeAt(E);if(b!==32&&b!==9)return E}while(++E<v);return v}function p(y,E,v){for(;E>v;){const b=y.charCodeAt(--E);if(b!==32&&b!==9)return E+1}return v}function g(y,E,v){const b=(v==null?void 0:v.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const R=b(E);if(!e.test(R))throw new TypeError(`argument val is invalid: ${E}`);let w=y+"="+R;if(!v)return w;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);w+="; Max-Age="+v.maxAge}if(v.domain){if(!r.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);w+="; Domain="+v.domain}if(v.path){if(!i.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);w+="; Path="+v.path}if(v.expires){if(!d(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);w+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(w+="; HttpOnly"),v.secure&&(w+="; Secure"),v.partitioned&&(w+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return w}function _(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function d(y){return o.call(y)==="[object Date]"}return Ul}VT();/**
 * react-router v7.5.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var s1=n=>{throw TypeError(n)},jT=(n,e,r)=>e.has(n)||s1("Cannot "+r),sm=(n,e,r)=>(jT(n,e,"read from private field"),r?r.call(n):e.get(n)),LT=(n,e,r)=>e.has(n)?s1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,r),G_="popstate";function UT(n={}){function e(o,l){let{pathname:f="/",search:c="",hash:p=""}=Va(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),tu("",{pathname:f,search:c,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(o,l){let f=o.document.querySelector("base"),c="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");c=g===-1?p:p.slice(0,g)}return c+"#"+(typeof l=="string"?l:Ti(l))}function i(o,l){Lt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return $T(e,r,i,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Lt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zT(){return Math.random().toString(36).substring(2,10)}function Y_(n,e){return{usr:n.state,key:n.key,idx:e}}function tu(n,e,r=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Va(e):e,state:r,key:e&&e.key||i||zT()}}function Ti({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Va(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function $T(n,e,r,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,f=o.history,c="POP",p=null,g=_();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function _(){return(f.state||{idx:null}).idx}function d(){c="POP";let R=_(),w=R==null?null:R-g;g=R,p&&p({action:c,location:b.location,delta:w})}function y(R,w){c="PUSH";let S=tu(b.location,R,w);r&&r(S,R),g=_()+1;let x=Y_(S,g),M=b.createHref(S);try{f.pushState(x,"",M)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(M)}l&&p&&p({action:c,location:b.location,delta:1})}function E(R,w){c="REPLACE";let S=tu(b.location,R,w);r&&r(S,R),g=_();let x=Y_(S,g),M=b.createHref(S);f.replaceState(x,"",M),l&&p&&p({action:c,location:b.location,delta:0})}function v(R){let w=o.location.origin!=="null"?o.location.origin:o.location.href,S=typeof R=="string"?R:Ti(R);return S=S.replace(/ $/,"%20"),tt(w,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,w)}let b={get action(){return c},get location(){return n(o,f)},listen(R){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(G_,d),p=R,()=>{o.removeEventListener(G_,d),p=null}},createHref(R){return e(o,R)},createURL:v,encodeLocation(R){let w=v(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:E,go(R){return f.go(R)}};return b}var Fl,Q_=class{constructor(n){if(LT(this,Fl,new Map),n)for(let[e,r]of n)this.set(e,r)}get(n){if(sm(this,Fl).has(n))return sm(this,Fl).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){sm(this,Fl).set(n,e)}};Fl=new WeakMap;var BT=new Set(["lazy","caseSensitive","path","id","index","children"]);function FT(n){return BT.has(n)}var qT=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function HT(n){return qT.has(n)}function GT(n){return n.index===!0}function sf(n,e,r=[],i={}){return n.map((o,l)=>{let f=[...r,String(l)],c=typeof o.id=="string"?o.id:f.join("-");if(tt(o.index!==!0||!o.children,"Cannot specify children on an index route"),tt(!i[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),GT(o)){let p={...o,...e(o),id:c};return i[c]=p,p}else{let p={...o,...e(o),id:c,children:void 0};return i[c]=p,o.children&&(p.children=sf(o.children,e,f,i)),p}})}function gi(n,e,r="/"){return Qc(n,e,r,!1)}function Qc(n,e,r,i){let o=typeof e=="string"?Va(e):e,l=_r(o.pathname||"/",r);if(l==null)return null;let f=o1(n);QT(f);let c=null;for(let p=0;c==null&&p<f.length;++p){let g=i2(l);c=r2(f[p],g,i)}return c}function YT(n,e){let{route:r,pathname:i,params:o}=n;return{id:r.id,pathname:i,params:o,data:e[r.id],handle:r.handle}}function o1(n,e=[],r=[],i=""){let o=(l,f,c)=>{let p={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=Wr([i,p.relativePath]),_=r.concat(p);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),o1(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:t2(g,l.index),routesMeta:_})};return n.forEach((l,f)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))o(l,f);else for(let p of l1(l.path))o(l,f,p)}),e}function l1(n){let e=n.split("/");if(e.length===0)return[];let[r,...i]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let f=l1(i.join("/")),c=[];return c.push(...f.map(p=>p===""?l:[l,p].join("/"))),o&&c.push(...f),c.map(p=>n.startsWith("/")&&p===""?"/":p)}function QT(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:n2(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var KT=/^:[\w-]+$/,XT=3,ZT=2,WT=1,JT=10,e2=-2,K_=n=>n==="*";function t2(n,e){let r=n.split("/"),i=r.length;return r.some(K_)&&(i+=e2),e&&(i+=ZT),r.filter(o=>!K_(o)).reduce((o,l)=>o+(KT.test(l)?XT:l===""?WT:JT),i)}function n2(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function r2(n,e,r=!1){let{routesMeta:i}=n,o={},l="/",f=[];for(let c=0;c<i.length;++c){let p=i[c],g=c===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",d=of({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),y=p.route;if(!d&&g&&r&&!i[i.length-1].route.index&&(d=of({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!d)return null;Object.assign(o,d.params),f.push({params:o,pathname:Wr([l,d.pathname]),pathnameBase:l2(Wr([l,d.pathnameBase])),route:y}),d.pathnameBase!=="/"&&(l=Wr([l,d.pathnameBase]))}return f}function of(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,i]=a2(n.path,n.caseSensitive,n.end),o=e.match(r);if(!o)return null;let l=o[0],f=l.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:d},y)=>{if(_==="*"){let v=c[y]||"";f=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const E=c[y];return d&&!E?g[_]=void 0:g[_]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:f,pattern:n}}function a2(n,e=!1,r=!0){Lt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,c,p)=>(i.push({paramName:c,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function i2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _r(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=n.charAt(r);return i&&i!=="/"?null:n.slice(r)||"/"}function s2(n,e="/"){let{pathname:r,search:i="",hash:o=""}=typeof n=="string"?Va(n):n;return{pathname:r?r.startsWith("/")?r:o2(r,e):e,search:u2(i),hash:c2(o)}}function o2(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function om(n,e,r,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u1(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wp(n){let e=u1(n);return e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase)}function Ap(n,e,r,i=!1){let o;typeof n=="string"?o=Va(n):(o={...n},tt(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let l=n===""||o.pathname==="",f=l?"/":o.pathname,c;if(f==null)c=r;else{let d=e.length-1;if(!i&&f.startsWith("..")){let y=f.split("/");for(;y[0]==="..";)y.shift(),d-=1;o.pathname=y.join("/")}c=d>=0?e[d]:"/"}let p=s2(o,c),g=f&&f!=="/"&&f.endsWith("/"),_=(l||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Wr=n=>n.join("/").replace(/\/\/+/g,"/"),l2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),u2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,c2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,lf=class{constructor(n,e,r,i=!1){this.status=n,this.statusText=e||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function nu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var c1=["POST","PUT","PATCH","DELETE"],f2=new Set(c1),h2=["GET",...c1],d2=new Set(h2),m2=new Set([301,302,303,307,308]),p2=new Set([307,308]),lm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},g2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Tp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y2=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),f1="remix-router-transitions",h1=Symbol("ResetLoaderData");function v2(n){const e=n.window?n.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";tt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],o=n.mapRouteProperties||y2,l={},f=sf(n.routes,o,void 0,l),c,p=n.basename||"/",g=n.dataStrategy||A2,_={unstable_middleware:!1,...n.future},d=null,y=new Set,E=null,v=null,b=null,R=n.hydrationData!=null,w=gi(f,n.history.location,p),S=!1,x=null;if(w==null&&!n.patchRoutesOnNavigation){let q=yr(404,{pathname:n.history.location.pathname}),{matches:K,route:W}=o0(f);w=K,x={[W.id]:q}}w&&!n.hydrationData&&Rn(w,f,n.history.location.pathname).active&&(w=null);let M;if(w)if(w.some(q=>q.route.lazy))M=!1;else if(!w.some(q=>q.route.loader))M=!0;else{let q=n.hydrationData?n.hydrationData.loaderData:null,K=n.hydrationData?n.hydrationData.errors:null;if(K){let W=w.findIndex(le=>K[le.route.id]!==void 0);M=w.slice(0,W+1).every(le=>!Om(le.route,q,K))}else M=w.every(W=>!Om(W.route,q,K))}else{M=!1,w=[];let q=Rn(null,f,n.history.location.pathname);q.active&&q.matches&&(S=!0,w=q.matches)}let k,V={historyAction:n.history.action,location:n.history.location,matches:w,initialized:M,navigation:lm,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||x,fetchers:new Map,blockers:new Map},I="POP",T=!1,C,O=!1,j=new Map,$=null,U=!1,he=!1,pe=new Set,Y=new Map,se=0,ve=-1,xe=new Map,B=new Set,re=new Map,me=new Map,ce=new Set,be=new Map,Ue,Ce=null;function St(){if(d=n.history.listen(({action:q,location:K,delta:W})=>{if(Ue){Ue(),Ue=void 0;return}Lt(be.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=$a({currentLocation:V.location,nextLocation:K,historyAction:q});if(le&&W!=null){let ge=new Promise(we=>{Ue=we});n.history.go(W*-1),nr(le,{state:"blocked",location:K,proceed(){nr(le,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),ge.then(()=>n.history.go(W))},reset(){let we=new Map(V.blockers);we.set(le,zl),Ct({blockers:we})}});return}return Tn(q,K)}),r){P2(e,j);let q=()=>k2(e,j);e.addEventListener("pagehide",q),$=()=>e.removeEventListener("pagehide",q)}return V.initialized||Tn("POP",V.location,{initialHydration:!0}),k}function vt(){d&&d(),$&&$(),y.clear(),C&&C.abort(),V.fetchers.forEach((q,K)=>Ut(K)),V.blockers.forEach((q,K)=>oa(K))}function Jn(q){return y.add(q),()=>y.delete(q)}function Ct(q,K={}){V={...V,...q};let W=[],le=[];V.fetchers.forEach((ge,we)=>{ge.state==="idle"&&(ce.has(we)?W.push(we):le.push(we))}),ce.forEach(ge=>{!V.fetchers.has(ge)&&!Y.has(ge)&&W.push(ge)}),[...y].forEach(ge=>ge(V,{deletedFetchers:W,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),W.forEach(ge=>Ut(ge)),le.forEach(ge=>V.fetchers.delete(ge))}function pn(q,K,{flushSync:W}={}){var Oe,Ve;let le=V.actionData!=null&&V.navigation.formMethod!=null&&Kn(V.navigation.formMethod)&&V.navigation.state==="loading"&&((Oe=q.state)==null?void 0:Oe._isRedirect)!==!0,ge;K.actionData?Object.keys(K.actionData).length>0?ge=K.actionData:ge=null:le?ge=V.actionData:ge=null;let we=K.loaderData?i0(V.loaderData,K.loaderData,K.matches||[],K.errors):V.loaderData,Me=V.blockers;Me.size>0&&(Me=new Map(Me),Me.forEach((Re,je)=>Me.set(je,zl)));let Ae=T===!0||V.navigation.formMethod!=null&&Kn(V.navigation.formMethod)&&((Ve=q.state)==null?void 0:Ve._isRedirect)!==!0;c&&(f=c,c=void 0),U||I==="POP"||(I==="PUSH"?n.history.push(q,q.state):I==="REPLACE"&&n.history.replace(q,q.state));let Se;if(I==="POP"){let Re=j.get(V.location.pathname);Re&&Re.has(q.pathname)?Se={currentLocation:V.location,nextLocation:q}:j.has(q.pathname)&&(Se={currentLocation:q,nextLocation:V.location})}else if(O){let Re=j.get(V.location.pathname);Re?Re.add(q.pathname):(Re=new Set([q.pathname]),j.set(V.location.pathname,Re)),Se={currentLocation:V.location,nextLocation:q}}Ct({...K,actionData:ge,loaderData:we,historyAction:I,location:q,initialized:!0,navigation:lm,revalidation:"idle",restoreScrollPosition:Ba(q,K.matches||V.matches),preventScrollReset:Ae,blockers:Me},{viewTransitionOpts:Se,flushSync:W===!0}),I="POP",T=!1,O=!1,U=!1,he=!1,Ce==null||Ce.resolve(),Ce=null}async function Cr(q,K){if(typeof q=="number"){n.history.go(q);return}let W=Dm(V.location,V.matches,p,q,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:le,submission:ge,error:we}=X_(!1,W,K),Me=V.location,Ae=tu(V.location,le,K&&K.state);Ae={...Ae,...n.history.encodeLocation(Ae)};let Se=K&&K.replace!=null?K.replace:void 0,Oe="PUSH";Se===!0?Oe="REPLACE":Se===!1||ge!=null&&Kn(ge.formMethod)&&ge.formAction===V.location.pathname+V.location.search&&(Oe="REPLACE");let Ve=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,Re=(K&&K.flushSync)===!0,je=$a({currentLocation:Me,nextLocation:Ae,historyAction:Oe});if(je){nr(je,{state:"blocked",location:Ae,proceed(){nr(je,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),Cr(q,K)},reset(){let Ze=new Map(V.blockers);Ze.set(je,zl),Ct({blockers:Ze})}});return}await Tn(Oe,Ae,{submission:ge,pendingError:we,preventScrollReset:Ve,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:Re})}function ia(){Ce||(Ce=V2()),za(),Ct({revalidation:"loading"});let q=Ce.promise;return V.navigation.state==="submitting"?q:V.navigation.state==="idle"?(Tn(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),q):(Tn(I||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:O===!0}),q)}async function Tn(q,K,W){C&&C.abort(),C=null,I=q,U=(W&&W.startUninterruptedRevalidation)===!0,Er(V.location,V.matches),T=(W&&W.preventScrollReset)===!0,O=(W&&W.enableViewTransition)===!0;let le=c||f,ge=W&&W.overrideNavigation,we=W!=null&&W.initialHydration&&V.matches&&V.matches.length>0&&!S?V.matches:gi(le,K,p),Me=(W&&W.flushSync)===!0;if(we&&V.initialized&&!he&&D2(V.location,K)&&!(W&&W.submission&&Kn(W.submission.formMethod))){pn(K,{matches:we},{flushSync:Me});return}let Ae=Rn(we,le,K.pathname);if(Ae.active&&Ae.matches&&(we=Ae.matches),!we){let{error:ut,notFoundMatches:rt,route:Ke}=la(K.pathname);pn(K,{matches:rt,loaderData:{},errors:{[Ke.id]:ut}},{flushSync:Me});return}C=new AbortController;let Se=ho(n.history,K,C.signal,W&&W.submission),Oe=new Q_(n.unstable_getContext?await n.unstable_getContext():void 0),Ve;if(W&&W.pendingError)Ve=[ds(we).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&Kn(W.submission.formMethod)){let ut=await ji(Se,K,W.submission,we,Oe,Ae.active,W&&W.initialHydration===!0,{replace:W.replace,flushSync:Me});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[rt,Ke]=ut.pendingActionResult;if(Qn(Ke)&&nu(Ke.error)&&Ke.error.status===404){C=null,pn(K,{matches:ut.matches,loaderData:{},errors:{[rt]:Ke.error}});return}}we=ut.matches||we,Ve=ut.pendingActionResult,ge=um(K,W.submission),Me=!1,Ae.active=!1,Se=ho(n.history,Se.url,Se.signal)}let{shortCircuited:Re,matches:je,loaderData:Ze,errors:dt}=await Rs(Se,K,we,Oe,Ae.active,ge,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Me,Ve);Re||(C=null,pn(K,{matches:je||we,...s0(Ve),loaderData:Ze,errors:dt}))}async function ji(q,K,W,le,ge,we,Me,Ae={}){za();let Se=N2(K,W);if(Ct({navigation:Se},{flushSync:Ae.flushSync===!0}),we){let Re=await Nr(le,K.pathname,q.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let je=ds(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[je,{type:"error",error:Re.error}]}}else if(Re.matches)le=Re.matches;else{let{notFoundMatches:je,error:Ze,route:dt}=la(K.pathname);return{matches:je,pendingActionResult:[dt.id,{type:"error",error:Ze}]}}}let Oe,Ve=ql(le,K);if(!Ve.route.action&&!Ve.route.lazy)Oe={type:"error",error:yr(405,{method:q.method,pathname:K.pathname,routeId:Ve.route.id})};else{let Re=bo(o,l,q,le,Ve,Me?[]:i,ge),je=await er(q,Re,ge,null);if(Oe=je[Ve.route.id],!Oe){for(let Ze of le)if(je[Ze.route.id]){Oe=je[Ze.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(ms(Oe)){let Re;return Ae&&Ae.replace!=null?Re=Ae.replace:Re=n0(Oe.response.headers.get("Location"),new URL(q.url),p)===V.location.pathname+V.location.search,await br(q,Oe,!0,{submission:W,replace:Re}),{shortCircuited:!0}}if(Qn(Oe)){let Re=ds(le,Ve.route.id);return(Ae&&Ae.replace)!==!0&&(I="PUSH"),{matches:le,pendingActionResult:[Re.route.id,Oe]}}return{matches:le,pendingActionResult:[Ve.route.id,Oe]}}async function Rs(q,K,W,le,ge,we,Me,Ae,Se,Oe,Ve,Re){let je=we||um(K,Me),Ze=Me||Ae||u0(je),dt=!U&&!Oe;if(ge){if(dt){let zt=Sn(Re);Ct({navigation:je,...zt!==void 0?{actionData:zt}:{}},{flushSync:Ve})}let Be=await Nr(W,K.pathname,q.signal);if(Be.type==="aborted")return{shortCircuited:!0};if(Be.type==="error"){let zt=ds(Be.partialMatches).route.id;return{matches:Be.partialMatches,loaderData:{},errors:{[zt]:Be.error}}}else if(Be.matches)W=Be.matches;else{let{error:zt,notFoundMatches:Un,route:In}=la(K.pathname);return{matches:Un,loaderData:{},errors:{[In.id]:zt}}}}let ut=c||f,{dsMatches:rt,revalidatingFetchers:Ke}=Z_(q,le,o,l,n.history,V,W,Ze,K,Oe?[]:i,Oe===!0,he,pe,ce,re,B,ut,p,Re);if(ve=++se,!n.dataStrategy&&!rt.some(Be=>Be.shouldLoad)&&Ke.length===0){let Be=Or();return pn(K,{matches:W,loaderData:{},errors:Re&&Qn(Re[1])?{[Re[0]]:Re[1].error}:null,...s0(Re),...Be?{fetchers:new Map(V.fetchers)}:{}},{flushSync:Ve}),{shortCircuited:!0}}if(dt){let Be={};if(!ge){Be.navigation=je;let zt=Sn(Re);zt!==void 0&&(Be.actionData=zt)}Ke.length>0&&(Be.fetchers=Uo(Ke)),Ct(Be,{flushSync:Ve})}Ke.forEach(Be=>{tr(Be.key),Be.controller&&Y.set(Be.key,Be.controller)});let ar=()=>Ke.forEach(Be=>tr(Be.key));C&&C.signal.addEventListener("abort",ar);let{loaderResults:Ht,fetcherResults:xn}=await Ua(rt,Ke,q,le);if(q.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",ar),Ke.forEach(Be=>Y.delete(Be.key));let sn=Lc(Ht);if(sn)return await br(q,sn.result,!0,{replace:Se}),{shortCircuited:!0};if(sn=Lc(xn),sn)return B.add(sn.key),await br(q,sn.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:Pr,errors:Ln}=a0(V,W,Ht,Re,Ke,xn);Oe&&V.errors&&(Ln={...V.errors,...Ln});let qa=Or(),yn=Ir(ve),Cn=qa||yn||Ke.length>0;return{matches:W,loaderData:Pr,errors:Ln,...Cn?{fetchers:new Map(V.fetchers)}:{}}}function Sn(q){if(q&&!Qn(q[1]))return{[q[0]]:q[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function Uo(q){return q.forEach(K=>{let W=V.fetchers.get(K.key),le=$l(void 0,W?W.data:void 0);V.fetchers.set(K.key,le)}),new Map(V.fetchers)}async function Li(q,K,W,le){tr(q);let ge=(le&&le.flushSync)===!0,we=c||f,Me=Dm(V.location,V.matches,p,W,K,le==null?void 0:le.relative),Ae=gi(we,Me,p),Se=Rn(Ae,we,Me);if(Se.active&&Se.matches&&(Ae=Se.matches),!Ae){Ge(q,K,yr(404,{pathname:Me}),{flushSync:ge});return}let{path:Oe,submission:Ve,error:Re}=X_(!0,Me,le);if(Re){Ge(q,K,Re,{flushSync:ge});return}let je=ql(Ae,Oe),Ze=new Q_(n.unstable_getContext?await n.unstable_getContext():void 0),dt=(le&&le.preventScrollReset)===!0;if(Ve&&Kn(Ve.formMethod)){await La(q,K,Oe,je,Ae,Ze,Se.active,ge,dt,Ve);return}re.set(q,{routeId:K,path:Oe}),await sa(q,K,Oe,je,Ae,Ze,Se.active,ge,dt,Ve)}async function La(q,K,W,le,ge,we,Me,Ae,Se,Oe){za(),re.delete(q);function Ve(At){if(!At.route.action&&!At.route.lazy){let ir=yr(405,{method:Oe.formMethod,pathname:W,routeId:K});return Ge(q,K,ir,{flushSync:Ae}),!0}return!1}if(!Me&&Ve(le))return;let Re=V.fetchers.get(q);ft(q,M2(Oe,Re),{flushSync:Ae});let je=new AbortController,Ze=ho(n.history,W,je.signal,Oe);if(Me){let At=await Nr(ge,W,Ze.signal,q);if(At.type==="aborted")return;if(At.type==="error"){Ge(q,K,At.error,{flushSync:Ae});return}else if(At.matches){if(ge=At.matches,le=ql(ge,W),Ve(le))return}else{Ge(q,K,yr(404,{pathname:W}),{flushSync:Ae});return}}Y.set(q,je);let dt=se,ut=bo(o,l,Ze,ge,le,i,we),Ke=(await er(Ze,ut,we,q))[le.route.id];if(Ze.signal.aborted){Y.get(q)===je&&Y.delete(q);return}if(ce.has(q)){if(ms(Ke)||Qn(Ke)){ft(q,pi(void 0));return}}else{if(ms(Ke))if(Y.delete(q),ve>dt){ft(q,pi(void 0));return}else return B.add(q),ft(q,$l(Oe)),br(Ze,Ke,!1,{fetcherSubmission:Oe,preventScrollReset:Se});if(Qn(Ke)){Ge(q,K,Ke.error);return}}let ar=V.navigation.location||V.location,Ht=ho(n.history,ar,je.signal),xn=c||f,sn=V.navigation.state!=="idle"?gi(xn,V.navigation.location,p):V.matches;tt(sn,"Didn't find any matches after fetcher action");let Pr=++se;xe.set(q,Pr);let Ln=$l(Oe,Ke.data);V.fetchers.set(q,Ln);let{dsMatches:qa,revalidatingFetchers:yn}=Z_(Ht,we,o,l,n.history,V,sn,Oe,ar,i,!1,he,pe,ce,re,B,xn,p,[le.route.id,Ke]);yn.filter(At=>At.key!==q).forEach(At=>{let ir=At.key,ua=V.fetchers.get(ir),on=$l(void 0,ua?ua.data:void 0);V.fetchers.set(ir,on),tr(ir),At.controller&&Y.set(ir,At.controller)}),Ct({fetchers:new Map(V.fetchers)});let Cn=()=>yn.forEach(At=>tr(At.key));je.signal.addEventListener("abort",Cn);let{loaderResults:Be,fetcherResults:zt}=await Ua(qa,yn,Ht,we);if(je.signal.aborted)return;je.signal.removeEventListener("abort",Cn),xe.delete(q),Y.delete(q),yn.forEach(At=>Y.delete(At.key));let Un=Lc(Be);if(Un)return br(Ht,Un.result,!1,{preventScrollReset:Se});if(Un=Lc(zt),Un)return B.add(Un.key),br(Ht,Un.result,!1,{preventScrollReset:Se});let{loaderData:In,errors:kr}=a0(V,sn,Be,void 0,yn,zt);if(V.fetchers.has(q)){let At=pi(Ke.data);V.fetchers.set(q,At)}Ir(Pr),V.navigation.state==="loading"&&Pr>ve?(tt(I,"Expected pending action"),C&&C.abort(),pn(V.navigation.location,{matches:sn,loaderData:In,errors:kr,fetchers:new Map(V.fetchers)})):(Ct({errors:kr,loaderData:i0(V.loaderData,In,sn,kr),fetchers:new Map(V.fetchers)}),he=!1)}async function sa(q,K,W,le,ge,we,Me,Ae,Se,Oe){let Ve=V.fetchers.get(q);ft(q,$l(Oe,Ve?Ve.data:void 0),{flushSync:Ae});let Re=new AbortController,je=ho(n.history,W,Re.signal);if(Me){let Ke=await Nr(ge,W,je.signal,q);if(Ke.type==="aborted")return;if(Ke.type==="error"){Ge(q,K,Ke.error,{flushSync:Ae});return}else if(Ke.matches)ge=Ke.matches,le=ql(ge,W);else{Ge(q,K,yr(404,{pathname:W}),{flushSync:Ae});return}}Y.set(q,Re);let Ze=se,dt=bo(o,l,je,ge,le,i,we),rt=(await er(je,dt,we,q))[le.route.id];if(Y.get(q)===Re&&Y.delete(q),!je.signal.aborted){if(ce.has(q)){ft(q,pi(void 0));return}if(ms(rt))if(ve>Ze){ft(q,pi(void 0));return}else{B.add(q),await br(je,rt,!1,{preventScrollReset:Se});return}if(Qn(rt)){Ge(q,K,rt.error);return}ft(q,pi(rt.data))}}async function br(q,K,W,{submission:le,fetcherSubmission:ge,preventScrollReset:we,replace:Me}={}){K.response.headers.has("X-Remix-Revalidate")&&(he=!0);let Ae=K.response.headers.get("Location");tt(Ae,"Expected a Location header on the redirect Response"),Ae=n0(Ae,new URL(q.url),p);let Se=tu(V.location,Ae,{_isRedirect:!0});if(r){let dt=!1;if(K.response.headers.has("X-Remix-Reload-Document"))dt=!0;else if(Tp.test(Ae)){const ut=n.history.createURL(Ae);dt=ut.origin!==e.location.origin||_r(ut.pathname,p)==null}if(dt){Me?e.location.replace(Ae):e.location.assign(Ae);return}}C=null;let Oe=Me===!0||K.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ve,formAction:Re,formEncType:je}=V.navigation;!le&&!ge&&Ve&&Re&&je&&(le=u0(V.navigation));let Ze=le||ge;if(p2.has(K.response.status)&&Ze&&Kn(Ze.formMethod))await Tn(Oe,Se,{submission:{...Ze,formAction:Ae},preventScrollReset:we||T,enableViewTransition:W?O:void 0});else{let dt=um(Se,le);await Tn(Oe,Se,{overrideNavigation:dt,fetcherSubmission:ge,preventScrollReset:we||T,enableViewTransition:W?O:void 0})}}async function er(q,K,W,le){let ge,we={};try{ge=await T2(g,q,K,le,W,!1)}catch(Me){return K.filter(Ae=>Ae.shouldLoad).forEach(Ae=>{we[Ae.route.id]={type:"error",error:Me}}),we}for(let[Me,Ae]of Object.entries(ge))if(O2(Ae)){let Se=Ae.result;we[Me]={type:"redirect",response:x2(Se,q,Me,K,p)}}else we[Me]=await R2(Ae);return we}async function Ua(q,K,W,le){let ge=er(W,q,le,null),we=Promise.all(K.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let Ve=(await er(Se.request,Se.matches,le,Se.key))[Se.match.route.id];return{[Se.key]:Ve}}else return Promise.resolve({[Se.key]:{type:"error",error:yr(404,{pathname:Se.path})}})})),Me=await ge,Ae=(await we).reduce((Se,Oe)=>Object.assign(Se,Oe),{});return{loaderResults:Me,fetcherResults:Ae}}function za(){he=!0,re.forEach((q,K)=>{Y.has(K)&&pe.add(K),tr(K)})}function ft(q,K,W={}){V.fetchers.set(q,K),Ct({fetchers:new Map(V.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function Ge(q,K,W,le={}){let ge=ds(V.matches,K);Ut(q),Ct({errors:{[ge.route.id]:W},fetchers:new Map(V.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function gn(q){return me.set(q,(me.get(q)||0)+1),ce.has(q)&&ce.delete(q),V.fetchers.get(q)||g2}function Ut(q){let K=V.fetchers.get(q);Y.has(q)&&!(K&&K.state==="loading"&&xe.has(q))&&tr(q),re.delete(q),xe.delete(q),B.delete(q),ce.delete(q),pe.delete(q),V.fetchers.delete(q)}function xs(q){let K=(me.get(q)||0)-1;K<=0?(me.delete(q),ce.add(q)):me.set(q,K),Ct({fetchers:new Map(V.fetchers)})}function tr(q){let K=Y.get(q);K&&(K.abort(),Y.delete(q))}function Dr(q){for(let K of q){let W=gn(K),le=pi(W.data);V.fetchers.set(K,le)}}function Or(){let q=[],K=!1;for(let W of B){let le=V.fetchers.get(W);tt(le,`Expected fetcher: ${W}`),le.state==="loading"&&(B.delete(W),q.push(W),K=!0)}return Dr(q),K}function Ir(q){let K=[];for(let[W,le]of xe)if(le<q){let ge=V.fetchers.get(W);tt(ge,`Expected fetcher: ${W}`),ge.state==="loading"&&(tr(W),xe.delete(W),K.push(W))}return Dr(K),K.length>0}function jn(q,K){let W=V.blockers.get(q)||zl;return be.get(q)!==K&&be.set(q,K),W}function oa(q){V.blockers.delete(q),be.delete(q)}function nr(q,K){let W=V.blockers.get(q)||zl;tt(W.state==="unblocked"&&K.state==="blocked"||W.state==="blocked"&&K.state==="blocked"||W.state==="blocked"&&K.state==="proceeding"||W.state==="blocked"&&K.state==="unblocked"||W.state==="proceeding"&&K.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${K.state}`);let le=new Map(V.blockers);le.set(q,K),Ct({blockers:le})}function $a({currentLocation:q,nextLocation:K,historyAction:W}){if(be.size===0)return;be.size>1&&Lt(!1,"A router only supports one blocker at a time");let le=Array.from(be.entries()),[ge,we]=le[le.length-1],Me=V.blockers.get(ge);if(!(Me&&Me.state==="proceeding")&&we({currentLocation:q,nextLocation:K,historyAction:W}))return ge}function la(q){let K=yr(404,{pathname:q}),W=c||f,{matches:le,route:ge}=o0(W);return{notFoundMatches:le,route:ge,error:K}}function Ui(q,K,W){if(E=q,b=K,v=W||null,!R&&V.navigation===lm){R=!0;let le=Ba(V.location,V.matches);le!=null&&Ct({restoreScrollPosition:le})}return()=>{E=null,b=null,v=null}}function rr(q,K){return v&&v(q,K.map(le=>YT(le,V.loaderData)))||q.key}function Er(q,K){if(E&&b){let W=rr(q,K);E[W]=b()}}function Ba(q,K){if(E){let W=rr(q,K),le=E[W];if(typeof le=="number")return le}return null}function Rn(q,K,W){if(n.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:Qc(K,W,p,!0)}}else return{active:!0,matches:Qc(K,W,p,!0)||[]};return{active:!1,matches:null}}async function Nr(q,K,W,le){if(!n.patchRoutesOnNavigation)return{type:"success",matches:q};let ge=q;for(;;){let we=c==null,Me=c||f,Ae=l;try{await n.patchRoutesOnNavigation({signal:W,path:K,matches:ge,fetcherKey:le,patch:(Ve,Re)=>{W.aborted||W_(Ve,Re,Me,Ae,o)}})}catch(Ve){return{type:"error",error:Ve,partialMatches:ge}}finally{we&&!W.aborted&&(f=[...f])}if(W.aborted)return{type:"aborted"};let Se=gi(Me,K,p);if(Se)return{type:"success",matches:Se};let Oe=Qc(Me,K,p,!0);if(!Oe||ge.length===Oe.length&&ge.every((Ve,Re)=>Ve.route.id===Oe[Re].route.id))return{type:"success",matches:null};ge=Oe}}function Mr(q){l={},c=sf(q,o,void 0,l)}function Fa(q,K){let W=c==null;W_(q,K,c||f,l,o),W&&(f=[...f],Ct({}))}return k={get basename(){return p},get future(){return _},get state(){return V},get routes(){return f},get window(){return e},initialize:St,subscribe:Jn,enableScrollRestoration:Ui,navigate:Cr,fetch:Li,revalidate:ia,createHref:q=>n.history.createHref(q),encodeLocation:q=>n.history.encodeLocation(q),getFetcher:gn,deleteFetcher:xs,dispose:vt,getBlocker:jn,deleteBlocker:oa,patchRoutes:Fa,_internalFetchControllers:Y,_internalSetRoutes:Mr},k}function _2(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Dm(n,e,r,i,o,l){let f,c;if(o){f=[];for(let g of e)if(f.push(g),g.route.id===o){c=g;break}}else f=e,c=e[e.length-1];let p=Ap(i||".",wp(f),_r(n.pathname,r)||n.pathname,l==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&c){let g=Sp(p.search);if(c.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&g){let _=new URLSearchParams(p.search),d=_.getAll("index");_.delete("index"),d.filter(E=>E).forEach(E=>_.append("index",E));let y=_.toString();p.search=y?`?${y}`:""}}return r!=="/"&&(p.pathname=p.pathname==="/"?r:Wr([r,p.pathname])),Ti(p)}function X_(n,e,r){if(!r||!_2(r))return{path:e};if(r.formMethod&&!I2(r.formMethod))return{path:e,error:yr(405,{method:r.formMethod})};let i=()=>({path:e,error:yr(400,{type:"invalid-body"})}),l=(r.formMethod||"get").toUpperCase(),f=v1(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Kn(l))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,[E,v])=>`${y}${E}=${v}
`,""):String(r.body);return{path:e,submission:{formMethod:l,formAction:f,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Kn(l))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:l,formAction:f,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}tt(typeof FormData=="function","FormData is not available in this environment");let c,p;if(r.formData)c=Nm(r.formData),p=r.formData;else if(r.body instanceof FormData)c=Nm(r.body),p=r.body;else if(r.body instanceof URLSearchParams)c=r.body,p=r0(c);else if(r.body==null)c=new URLSearchParams,p=new FormData;else try{c=new URLSearchParams(r.body),p=r0(c)}catch{return i()}let g={formMethod:l,formAction:f,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Kn(g.formMethod))return{path:e,submission:g};let _=Va(e);return n&&_.search&&Sp(_.search)&&c.append("index",""),_.search=`?${c}`,{path:Ti(_),submission:g}}function Z_(n,e,r,i,o,l,f,c,p,g,_,d,y,E,v,b,R,w,S){var $;let x=S?Qn(S[1])?S[1].error:S[1].data:void 0,M=o.createURL(l.location),k=o.createURL(p),V;if(_&&l.errors){let U=Object.keys(l.errors)[0];V=f.findIndex(he=>he.route.id===U)}else if(S&&Qn(S[1])){let U=S[0];V=f.findIndex(he=>he.route.id===U)-1}let I=S?S[1].statusCode:void 0,T=I&&I>=400,C={currentUrl:M,currentParams:(($=l.matches[0])==null?void 0:$.params)||{},nextUrl:k,nextParams:f[0].params,...c,actionResult:x,actionStatus:I},O=f.map((U,he)=>{let{route:pe}=U,Y=null;if(V!=null&&he>V?Y=!1:pe.lazy?Y=!0:pe.loader==null?Y=!1:_?Y=Om(pe,l.loaderData,l.errors):b2(l.loaderData,l.matches[he],U)&&(Y=!0),Y!==null)return Im(r,i,n,U,g,e,Y);let se=T?!1:d||M.pathname+M.search===k.pathname+k.search||M.search!==k.search||E2(l.matches[he],U),ve={...C,defaultShouldRevalidate:se},xe=uf(U,ve);return Im(r,i,n,U,g,e,xe,ve)}),j=[];return v.forEach((U,he)=>{if(_||!f.some(re=>re.route.id===U.routeId)||E.has(he))return;let pe=gi(R,U.path,w);if(!pe){j.push({key:he,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(b.has(he))return;let Y=l.fetchers.get(he),se=ql(pe,U.path),ve=new AbortController,xe=ho(o,U.path,ve.signal),B=null;if(y.has(he))y.delete(he),B=bo(r,i,xe,pe,se,g,e);else if(Y&&Y.state!=="idle"&&Y.data===void 0)d&&(B=bo(r,i,xe,pe,se,g,e));else{let re={...C,defaultShouldRevalidate:T?!1:d};uf(se,re)&&(B=bo(r,i,xe,pe,se,g,e,re))}B&&j.push({key:he,routeId:U.routeId,path:U.path,matches:B,match:se,request:xe,controller:ve})}),{dsMatches:O,revalidatingFetchers:j}}function Om(n,e,r){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=r!=null&&r[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function b2(n,e,r){let i=!e||r.route.id!==e.route.id,o=!n.hasOwnProperty(r.route.id);return i||o}function E2(n,e){let r=n.route.path;return n.pathname!==e.pathname||r!=null&&r.endsWith("*")&&n.params["*"]!==e.params["*"]}function uf(n,e){if(n.route.shouldRevalidate){let r=n.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function W_(n,e,r,i,o){let l;if(n){let p=i[n];tt(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=r;let f=e.filter(p=>!l.some(g=>d1(p,g))),c=sf(f,o,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...c)}function d1(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((r,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>d1(r,l))}):!1}var J_=new WeakMap,m1=({key:n,route:e,manifest:r,mapRouteProperties:i})=>{let o=r[e.id];if(tt(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[n];if(!l)return;let f=J_.get(o);f||(f={},J_.set(o,f));let c=f[n];if(c)return c;let p=(async()=>{let g=FT(n),d=o[n]!==void 0&&n!=="hasErrorBoundary";if(g)Lt(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),f[n]=Promise.resolve();else if(d)Lt(!1,`Route "${o.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let y=await l();y!=null&&(Object.assign(o,{[n]:y}),Object.assign(o,i(o)))}typeof o.lazy=="object"&&(o.lazy[n]=void 0,Object.values(o.lazy).every(y=>y===void 0)&&(o.lazy=void 0))})();return f[n]=p,p},e0=new WeakMap;function w2(n,e,r,i,o){let l=r[n.id];if(tt(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let _=e0.get(l);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let d=(async()=>{tt(typeof n.lazy=="function","No lazy route function found");let y=await n.lazy(),E={};for(let v in y){let b=y[v];if(b===void 0)continue;let R=HT(v),S=l[v]!==void 0&&v!=="hasErrorBoundary";R?Lt(!R,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):S?Lt(!S,`Route "${l.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):E[v]=b}Object.assign(l,E),Object.assign(l,{...i(l),lazy:void 0})})();return e0.set(l,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let f=Object.keys(n.lazy),c=[],p;for(let _ of f){if(o&&o.includes(_))continue;let d=m1({key:_,route:n,manifest:r,mapRouteProperties:i});d&&(c.push(d),_===e&&(p=d))}let g=c.length>0?Promise.all(c).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function t0(n){let e=n.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,l)=>{r[e[l].route.id]=o}),r}async function A2(n){return n.matches.some(e=>e.route.unstable_middleware)?p1(n,!1,()=>t0(n),(e,r)=>({[r]:{type:"error",result:e}})):t0(n)}async function p1(n,e,r,i){let{matches:o,request:l,params:f,context:c}=n,p={handlerResult:void 0};try{let g=o.flatMap(d=>d.route.unstable_middleware?d.route.unstable_middleware.map(y=>[d.route.id,y]):[]),_=await g1({request:l,params:f,context:c},g,e,p,r);return e?_:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let _=await i(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,_):_}}async function g1(n,e,r,i,o,l=0){let{request:f}=n;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let c=e[l];if(!c)return i.handlerResult=await o(),i.handlerResult;let[p,g]=c,_=!1,d,y=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0,await g1(n,e,r,i,o,l+1)};try{let E=await g({request:n.request,params:n.params,context:n.context},y);return _?E===void 0?d:E:y()}catch(E){throw i.middlewareError?i.middlewareError.error!==E&&(i.middlewareError={routeId:p,error:E}):i.middlewareError={routeId:p,error:E},E}}function y1(n,e,r,i,o){let l=m1({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:n}),f=w2(i.route,Kn(r.method)?"action":"loader",e,n,o);return{middleware:l,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function Im(n,e,r,i,o,l,f,c=null){let p=!1,g=y1(n,e,r,i,o);return{...i,_lazyPromises:g,shouldLoad:f,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(_){return p=!0,c?typeof _=="boolean"?uf(i,{...c,defaultShouldRevalidate:_}):uf(i,c):f},resolve(_){return p||f||_&&r.method==="GET"&&(i.route.lazy||i.route.loader)?S2({request:r,match:i,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:_,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function bo(n,e,r,i,o,l,f,c=null){return i.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:y1(n,e,r,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Im(n,e,r,p,l,f,!0,c))}async function T2(n,e,r,i,o,l){r.some(g=>{var _;return(_=g._lazyPromises)==null?void 0:_.middleware})&&await Promise.all(r.map(g=>{var _;return(_=g._lazyPromises)==null?void 0:_.middleware}));let f={request:e,params:r[0].params,context:o,matches:r},p=await n({...f,fetcherKey:i,unstable_runClientMiddleware:g=>{let _=f;return p1(_,!1,()=>g({..._,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(d,y)=>({[y]:{type:"error",result:d}}))}});try{await Promise.all(r.flatMap(g=>{var _,d;return[(_=g._lazyPromises)==null?void 0:_.handler,(d=g._lazyPromises)==null?void 0:d.route]}))}catch{}return p}async function S2({request:n,match:e,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:o,scopedContext:l}){let f,c,p=Kn(n.method),g=p?"action":"loader",_=d=>{let y,E=new Promise((R,w)=>y=w);c=()=>y(),n.signal.addEventListener("abort",c);let v=R=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):d({request:n,params:e.params,context:l},...R!==void 0?[R]:[]),b=(async()=>{try{return{type:"data",result:await(o?o(w=>v(w)):v())}}catch(R){return{type:"error",result:R}}})();return Promise.race([b,E])};try{let d=p?e.route.action:e.route.loader;if(r||i)if(d){let y,[E]=await Promise.all([_(d).catch(v=>{y=v}),r,i]);if(y!==void 0)throw y;f=E}else{await r;let y=p?e.route.action:e.route.loader;if(y)[f]=await Promise.all([_(y),i]);else if(g==="action"){let E=new URL(n.url),v=E.pathname+E.search;throw yr(405,{method:n.method,pathname:v,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(d)f=await _(d);else{let y=new URL(n.url),E=y.pathname+y.search;throw yr(404,{pathname:E})}}catch(d){return{type:"error",result:d}}finally{c&&n.signal.removeEventListener("abort",c)}return f}async function R2(n){var i,o,l,f,c,p;let{result:e,type:r}=n;if(_1(e)){let g;try{let _=e.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(_){return{type:"error",error:_}}return r==="error"?{type:"error",error:new lf(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return r==="error"?l0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new lf(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:nu(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:nu(e)?e.status:void 0}:l0(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function x2(n,e,r,i,o){let l=n.headers.get("Location");if(tt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Tp.test(l)){let f=i.slice(0,i.findIndex(c=>c.route.id===r)+1);l=Dm(new URL(e.url),f,o,l),n.headers.set("Location",l)}return n}function n0(n,e,r){if(Tp.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=_r(o.pathname,r)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function ho(n,e,r,i){let o=n.createURL(v1(e)).toString(),l={signal:r};if(i&&Kn(i.formMethod)){let{formMethod:f,formEncType:c}=i;l.method=f.toUpperCase(),c==="application/json"?(l.headers=new Headers({"Content-Type":c}),l.body=JSON.stringify(i.json)):c==="text/plain"?l.body=i.text:c==="application/x-www-form-urlencoded"&&i.formData?l.body=Nm(i.formData):l.body=i.formData}return new Request(o,l)}function Nm(n){let e=new URLSearchParams;for(let[r,i]of n.entries())e.append(r,typeof i=="string"?i:i.name);return e}function r0(n){let e=new FormData;for(let[r,i]of n.entries())e.append(r,i);return e}function C2(n,e,r,i=!1,o=!1){let l={},f=null,c,p=!1,g={},_=r&&Qn(r[1])?r[1].error:void 0;return n.forEach(d=>{if(!(d.route.id in e))return;let y=d.route.id,E=e[y];if(tt(!ms(E),"Cannot handle redirect results in processLoaderData"),Qn(E)){let v=E.error;if(_!==void 0&&(v=_,_=void 0),f=f||{},o)f[y]=v;else{let b=ds(n,y);f[b.route.id]==null&&(f[b.route.id]=v)}i||(l[y]=h1),p||(p=!0,c=nu(E.error)?E.error.status:500),E.headers&&(g[y]=E.headers)}else l[y]=E.data,E.statusCode&&E.statusCode!==200&&!p&&(c=E.statusCode),E.headers&&(g[y]=E.headers)}),_!==void 0&&r&&(f={[r[0]]:_},l[r[0]]=void 0),{loaderData:l,errors:f,statusCode:c||200,loaderHeaders:g}}function a0(n,e,r,i,o,l){let{loaderData:f,errors:c}=C2(e,r,i);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:_,controller:d}=p,y=l[g];if(tt(y,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Qn(y)){let E=ds(n.matches,_==null?void 0:_.route.id);c&&c[E.route.id]||(c={...c,[E.route.id]:y.error}),n.fetchers.delete(g)}else if(ms(y))tt(!1,"Unhandled fetcher revalidation redirect");else{let E=pi(y.data);n.fetchers.set(g,E)}}),{loaderData:f,errors:c}}function i0(n,e,r,i){let o=Object.entries(e).filter(([,l])=>l!==h1).reduce((l,[f,c])=>(l[f]=c,l),{});for(let l of r){let f=l.route.id;if(!e.hasOwnProperty(f)&&n.hasOwnProperty(f)&&l.route.loader&&(o[f]=n[f]),i&&i.hasOwnProperty(f))break}return o}function s0(n){return n?Qn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ds(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function o0(n){let e=n.length===1?n[0]:n.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function yr(n,{pathname:e,routeId:r,method:i,type:o,message:l}={}){let f="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(f="Bad Request",i&&e&&r?c=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(c="Unable to encode submission body")):n===403?(f="Forbidden",c=`Route "${r}" does not match URL "${e}"`):n===404?(f="Not Found",c=`No route matches URL "${e}"`):n===405&&(f="Method Not Allowed",i&&e&&r?c=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:i&&(c=`Invalid request method "${i.toUpperCase()}"`)),new lf(n||500,f,new Error(c),!0)}function Lc(n){let e=Object.entries(n);for(let r=e.length-1;r>=0;r--){let[i,o]=e[r];if(ms(o))return{key:i,result:o}}}function v1(n){let e=typeof n=="string"?Va(n):n;return Ti({...e,hash:""})}function D2(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function O2(n){return _1(n.result)&&m2.has(n.result.status)}function Qn(n){return n.type==="error"}function ms(n){return(n&&n.type)==="redirect"}function l0(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function _1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function I2(n){return d2.has(n.toUpperCase())}function Kn(n){return f2.has(n.toUpperCase())}function Sp(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function ql(n,e){let r=typeof e=="string"?Va(e).search:e.search;if(n[n.length-1].route.index&&Sp(r||""))return n[n.length-1];let i=u1(n);return i[i.length-1]}function u0(n){let{formMethod:e,formAction:r,formEncType:i,text:o,formData:l,json:f}=n;if(!(!e||!r||!i)){if(o!=null)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:r,formEncType:i,formData:l,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:f,text:void 0}}}function um(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function N2(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $l(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function M2(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function pi(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function P2(n,e){try{let r=n.sessionStorage.getItem(f1);if(r){let i=JSON.parse(r);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function k2(n,e){if(e.size>0){let r={};for(let[i,o]of e)r[i]=[...o];try{n.sessionStorage.setItem(f1,JSON.stringify(r))}catch(i){Lt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function V2(){let n,e,r=new Promise((i,o)=>{n=async l=>{i(l);try{await r}catch{}},e=async l=>{o(l);try{await r}catch{}}});return{promise:r,resolve:n,reject:e}}var ws=te.createContext(null);ws.displayName="DataRouter";var du=te.createContext(null);du.displayName="DataRouterState";var Rp=te.createContext({isTransitioning:!1});Rp.displayName="ViewTransition";var b1=te.createContext(new Map);b1.displayName="Fetchers";var j2=te.createContext(null);j2.displayName="Await";var ra=te.createContext(null);ra.displayName="Navigation";var Nf=te.createContext(null);Nf.displayName="Location";var aa=te.createContext({outlet:null,matches:[],isDataRoute:!1});aa.displayName="Route";var xp=te.createContext(null);xp.displayName="RouteError";function L2(n,{relative:e}={}){tt(mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=te.useContext(ra),{hash:o,pathname:l,search:f}=pu(n,{relative:e}),c=l;return r!=="/"&&(c=l==="/"?r:Wr([r,l])),i.createHref({pathname:c,search:f,hash:o})}function mu(){return te.useContext(Nf)!=null}function As(){return tt(mu(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(Nf).location}var E1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w1(n){te.useContext(ra).static||te.useLayoutEffect(n)}function A1(){let{isDataRoute:n}=te.useContext(aa);return n?J2():U2()}function U2(){tt(mu(),"useNavigate() may be used only in the context of a <Router> component.");let n=te.useContext(ws),{basename:e,navigator:r}=te.useContext(ra),{matches:i}=te.useContext(aa),{pathname:o}=As(),l=JSON.stringify(wp(i)),f=te.useRef(!1);return w1(()=>{f.current=!0}),te.useCallback((p,g={})=>{if(Lt(f.current,E1),!f.current)return;if(typeof p=="number"){r.go(p);return}let _=Ap(p,JSON.parse(l),o,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Wr([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,l,o,n])}var z2=te.createContext(null);function $2(n){let e=te.useContext(aa).outlet;return e&&te.createElement(z2.Provider,{value:n},e)}function pu(n,{relative:e}={}){let{matches:r}=te.useContext(aa),{pathname:i}=As(),o=JSON.stringify(wp(r));return te.useMemo(()=>Ap(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function B2(n,e,r,i){tt(mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=te.useContext(ra),{matches:f}=te.useContext(aa),c=f[f.length-1],p=c?c.params:{},g=c?c.pathname:"/",_=c?c.pathnameBase:"/",d=c&&c.route;{let S=d&&d.path||"";T1(g,!d||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=As(),E;E=y;let v=E.pathname||"/",b=v;if(_!=="/"){let S=_.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let R=!l&&r&&r.matches&&r.matches.length>0?r.matches:gi(n,{pathname:b});return Lt(d||R!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Lt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Y2(R&&R.map(S=>Object.assign({},S,{params:Object.assign({},p,S.params),pathname:Wr([_,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?_:Wr([_,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),f,r,i)}function F2(){let n=W2(),e=nu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=te.createElement(te.Fragment,null,te.createElement("p",null,"💿 Hey developer 👋"),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:l},"ErrorBoundary")," or"," ",te.createElement("code",{style:l},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),r?te.createElement("pre",{style:o},r):null,f)}var q2=te.createElement(F2,null),H2=class extends te.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?te.createElement(aa.Provider,{value:this.props.routeContext},te.createElement(xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function G2({routeContext:n,match:e,children:r}){let i=te.useContext(ws);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),te.createElement(aa.Provider,{value:n},r)}function Y2(n,e=[],r=null,i=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let o=n,l=r==null?void 0:r.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,c=-1;if(r)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=p),g.route.id){let{loaderData:_,errors:d}=r,y=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!d||d[g.route.id]===void 0);if(g.route.lazy||y){f=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let d,y=!1,E=null,v=null;r&&(d=l&&g.route.id?l[g.route.id]:void 0,E=g.route.errorElement||q2,f&&(c<0&&_===0?(T1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):c===_&&(y=!0,v=g.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,_+1)),R=()=>{let w;return d?w=E:y?w=v:g.route.Component?w=te.createElement(g.route.Component,null):g.route.element?w=g.route.element:w=p,te.createElement(G2,{match:g,routeContext:{outlet:p,matches:b,isDataRoute:r!=null},children:w})};return r&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?te.createElement(H2,{location:r.location,revalidation:r.revalidation,component:E,error:d,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):R()},null)}function Cp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q2(n){let e=te.useContext(ws);return tt(e,Cp(n)),e}function K2(n){let e=te.useContext(du);return tt(e,Cp(n)),e}function X2(n){let e=te.useContext(aa);return tt(e,Cp(n)),e}function Dp(n){let e=X2(n),r=e.matches[e.matches.length-1];return tt(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function Z2(){return Dp("useRouteId")}function W2(){var i;let n=te.useContext(xp),e=K2("useRouteError"),r=Dp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[r]}function J2(){let{router:n}=Q2("useNavigate"),e=Dp("useNavigate"),r=te.useRef(!1);return w1(()=>{r.current=!0}),te.useCallback(async(o,l={})=>{Lt(r.current,E1),r.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var c0={};function T1(n,e,r){!e&&!c0[n]&&(c0[n]=!0,Lt(!1,r))}var f0={};function h0(n,e){!n&&!f0[e]&&(f0[e]=!0,console.warn(e))}function eS(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Lt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:te.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Lt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:te.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Lt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:te.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var tS=["HydrateFallback","hydrateFallbackElement"],nS=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",r(i))}})}};function rS({router:n,flushSync:e}){let[r,i]=te.useState(n.state),[o,l]=te.useState(),[f,c]=te.useState({isTransitioning:!1}),[p,g]=te.useState(),[_,d]=te.useState(),[y,E]=te.useState(),v=te.useRef(new Map),b=te.useCallback((x,{deletedFetchers:M,flushSync:k,viewTransitionOpts:V})=>{x.fetchers.forEach((T,C)=>{T.data!==void 0&&v.current.set(C,T.data)}),M.forEach(T=>v.current.delete(T)),h0(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(h0(V==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!I){e&&k?e(()=>i(x)):te.startTransition(()=>i(x));return}if(e&&k){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let T=n.window.document.startViewTransition(()=>{e(()=>i(x))});T.finished.finally(()=>{e(()=>{g(void 0),d(void 0),l(void 0),c({isTransitioning:!1})})}),e(()=>d(T));return}_?(p&&p.resolve(),_.skipTransition(),E({state:x,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(l(x),c({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,e,_,p]);te.useLayoutEffect(()=>n.subscribe(b),[n,b]),te.useEffect(()=>{f.isTransitioning&&!f.flushSync&&g(new nS)},[f]),te.useEffect(()=>{if(p&&o&&n.window){let x=o,M=p.promise,k=n.window.document.startViewTransition(async()=>{te.startTransition(()=>i(x)),await M});k.finished.finally(()=>{g(void 0),d(void 0),l(void 0),c({isTransitioning:!1})}),d(k)}},[o,p,n.window]),te.useEffect(()=>{p&&o&&r.location.key===o.location.key&&p.resolve()},[p,_,r.location,o]),te.useEffect(()=>{!f.isTransitioning&&y&&(l(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),E(void 0))},[f.isTransitioning,y]);let R=te.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:x=>n.navigate(x),push:(x,M,k)=>n.navigate(x,{state:M,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(x,M,k)=>n.navigate(x,{replace:!0,state:M,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[n]),w=n.basename||"/",S=te.useMemo(()=>({router:n,navigator:R,static:!1,basename:w}),[n,R,w]);return te.createElement(te.Fragment,null,te.createElement(ws.Provider,{value:S},te.createElement(du.Provider,{value:r},te.createElement(b1.Provider,{value:v.current},te.createElement(Rp.Provider,{value:f},te.createElement(oS,{basename:w,location:r.location,navigationType:r.historyAction,navigator:R},te.createElement(aS,{routes:n.routes,future:n.future,state:r})))))),null)}var aS=te.memo(iS);function iS({routes:n,future:e,state:r}){return B2(n,void 0,r,e)}function sS(n){return $2(n.context)}function oS({basename:n="/",children:e=null,location:r,navigationType:i="POP",navigator:o,static:l=!1}){tt(!mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),c=te.useMemo(()=>({basename:f,navigator:o,static:l,future:{}}),[f,o,l]);typeof r=="string"&&(r=Va(r));let{pathname:p="/",search:g="",hash:_="",state:d=null,key:y="default"}=r,E=te.useMemo(()=>{let v=_r(p,f);return v==null?null:{location:{pathname:v,search:g,hash:_,state:d,key:y},navigationType:i}},[f,p,g,_,d,y,i]);return Lt(E!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:te.createElement(ra.Provider,{value:c},te.createElement(Nf.Provider,{children:e,value:E}))}var Kc="get",Xc="application/x-www-form-urlencoded";function Mf(n){return n!=null&&typeof n.tagName=="string"}function lS(n){return Mf(n)&&n.tagName.toLowerCase()==="button"}function uS(n){return Mf(n)&&n.tagName.toLowerCase()==="form"}function cS(n){return Mf(n)&&n.tagName.toLowerCase()==="input"}function fS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hS(n,e){return n.button===0&&(!e||e==="_self")&&!fS(n)}var Uc=null;function dS(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var mS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(n){return n!=null&&!mS.has(n)?(Lt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):n}function pS(n,e){let r,i,o,l,f;if(uS(n)){let c=n.getAttribute("action");i=c?_r(c,e):null,r=n.getAttribute("method")||Kc,o=cm(n.getAttribute("enctype"))||Xc,l=new FormData(n)}else if(lS(n)||cS(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||c.getAttribute("action");if(i=p?_r(p,e):null,r=n.getAttribute("formmethod")||c.getAttribute("method")||Kc,o=cm(n.getAttribute("formenctype"))||cm(c.getAttribute("enctype"))||Xc,l=new FormData(c,n),!dS()){let{name:g,type:_,value:d}=n;if(_==="image"){let y=g?`${g}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else g&&l.append(g,d)}}else{if(Mf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Kc,i=null,o=Xc,f=n}return l&&o==="text/plain"&&(f=l,l=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:l,body:f}}function Op(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function gS(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vS(n,e,r){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let f=await gS(l,r);return f.links?f.links():[]}return[]}));return wS(i.flat(1).filter(yS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function d0(n,e,r,i,o,l){let f=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,c=(p,g)=>{var _;return r[g].pathname!==p.pathname||((_=r[g].route.path)==null?void 0:_.endsWith("*"))&&r[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>f(p,g)||c(p,g)):l==="data"?e.filter((p,g)=>{var d;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,g)||c(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function _S(n,e,{includeHydrateFallback:r}={}){return bS(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function bS(n){return[...new Set(n)]}function ES(n){let e={},r=Object.keys(n).sort();for(let i of r)e[i]=n[i];return e}function wS(n,e){let r=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(ES(o));return r.has(l)||(r.add(l),i.push({key:l,link:o})),i},[])}var AS=new Set([100,101,204,205]);function TS(n,e){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname="_root.data":e&&_r(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function S1(){let n=te.useContext(ws);return Op(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function SS(){let n=te.useContext(du);return Op(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ip=te.createContext(void 0);Ip.displayName="FrameworkContext";function R1(){let n=te.useContext(Ip);return Op(n,"You must render this element inside a <HydratedRouter> element"),n}function RS(n,e){let r=te.useContext(Ip),[i,o]=te.useState(!1),[l,f]=te.useState(!1),{onFocus:c,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:d}=e,y=te.useRef(null);te.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let b=w=>{w.forEach(S=>{f(S.isIntersecting)})},R=new IntersectionObserver(b,{threshold:.5});return y.current&&R.observe(y.current),()=>{R.disconnect()}}},[n]),te.useEffect(()=>{if(i){let b=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(b)}}},[i]);let E=()=>{o(!0)},v=()=>{o(!1),f(!1)};return r?n!=="intent"?[l,y,{}]:[l,y,{onFocus:Bl(c,E),onBlur:Bl(p,v),onMouseEnter:Bl(g,E),onMouseLeave:Bl(_,v),onTouchStart:Bl(d,E)}]:[!1,y,{}]}function Bl(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function xS({page:n,...e}){let{router:r}=S1(),i=te.useMemo(()=>gi(r.routes,n,r.basename),[r.routes,n,r.basename]);return i?te.createElement(DS,{page:n,matches:i,...e}):null}function CS(n){let{manifest:e,routeModules:r}=R1(),[i,o]=te.useState([]);return te.useEffect(()=>{let l=!1;return vS(n,e,r).then(f=>{l||o(f)}),()=>{l=!0}},[n,e,r]),i}function DS({page:n,matches:e,...r}){let i=As(),{manifest:o,routeModules:l}=R1(),{basename:f}=S1(),{loaderData:c,matches:p}=SS(),g=te.useMemo(()=>d0(n,e,p,o,i,"data"),[n,e,p,o,i]),_=te.useMemo(()=>d0(n,e,p,o,i,"assets"),[n,e,p,o,i]),d=te.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let v=new Set,b=!1;if(e.forEach(w=>{var x;let S=o.routes[w.route.id];!S||!S.hasLoader||(!g.some(M=>M.route.id===w.route.id)&&w.route.id in c&&((x=l[w.route.id])!=null&&x.shouldRevalidate)||S.hasClientLoader?b=!0:v.add(w.route.id))}),v.size===0)return[];let R=TS(n,f);return b&&v.size>0&&R.searchParams.set("_routes",e.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[R.pathname+R.search]},[f,c,i,o,g,e,n,l]),y=te.useMemo(()=>_S(_,o),[_,o]),E=CS(_);return te.createElement(te.Fragment,null,d.map(v=>te.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),y.map(v=>te.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),E.map(({key:v,link:b})=>te.createElement("link",{key:v,...b})))}function OS(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var x1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x1&&(window.__reactRouterVersion="7.5.2")}catch{}function IS(n,e){return v2({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:UT({window:e==null?void 0:e.window}),hydrationData:NS(),routes:n,mapRouteProperties:eS,hydrationRouteProperties:tS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function NS(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:MS(n.errors)}),n}function MS(n){if(!n)return null;let e=Object.entries(n),r={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")r[i]=new lf(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let f=new l(o.message);f.stack="",r[i]=f}catch{}}if(r[i]==null){let l=new Error(o.message);l.stack="",r[i]=l}}else r[i]=o;return r}var C1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Np=te.forwardRef(function({onClick:e,discover:r="render",prefetch:i="none",relative:o,reloadDocument:l,replace:f,state:c,target:p,to:g,preventScrollReset:_,viewTransition:d,...y},E){let{basename:v}=te.useContext(ra),b=typeof g=="string"&&C1.test(g),R,w=!1;if(typeof g=="string"&&b&&(R=g,x1))try{let C=new URL(window.location.href),O=g.startsWith("//")?new URL(C.protocol+g):new URL(g),j=_r(O.pathname,v);O.origin===C.origin&&j!=null?g=j+O.search+O.hash:w=!0}catch{Lt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=L2(g,{relative:o}),[x,M,k]=RS(i,y),V=VS(g,{replace:f,state:c,target:p,preventScrollReset:_,relative:o,viewTransition:d});function I(C){e&&e(C),C.defaultPrevented||V(C)}let T=te.createElement("a",{...y,...k,href:R||S,onClick:w||l?e:I,ref:OS(E,M),target:p,"data-discover":!b&&r==="render"?"true":void 0});return x&&!b?te.createElement(te.Fragment,null,T,te.createElement(xS,{page:S})):T});Np.displayName="Link";var Eo=te.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:i="",end:o=!1,style:l,to:f,viewTransition:c,children:p,...g},_){let d=pu(f,{relative:g.relative}),y=As(),E=te.useContext(du),{navigator:v,basename:b}=te.useContext(ra),R=E!=null&&$S(d)&&c===!0,w=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,S=y.pathname,x=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;r||(S=S.toLowerCase(),x=x?x.toLowerCase():null,w=w.toLowerCase()),x&&b&&(x=_r(x,b)||x);const M=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let k=S===w||!o&&S.startsWith(w)&&S.charAt(M)==="/",V=x!=null&&(x===w||!o&&x.startsWith(w)&&x.charAt(w.length)==="/"),I={isActive:k,isPending:V,isTransitioning:R},T=k?e:void 0,C;typeof i=="function"?C=i(I):C=[i,k?"active":null,V?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(I):l;return te.createElement(Np,{...g,"aria-current":T,className:C,ref:_,style:O,to:f,viewTransition:c},typeof p=="function"?p(I):p)});Eo.displayName="NavLink";var PS=te.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:o,state:l,method:f=Kc,action:c,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:d,...y},E)=>{let v=US(),b=zS(c,{relative:g}),R=f.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&C1.test(c),S=x=>{if(p&&p(x),x.defaultPrevented)return;x.preventDefault();let M=x.nativeEvent.submitter,k=(M==null?void 0:M.getAttribute("formmethod"))||f;v(M||x.currentTarget,{fetcherKey:e,method:k,navigate:r,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:d})};return te.createElement("form",{ref:E,method:R,action:b,onSubmit:i?p:S,...y,"data-discover":!w&&n==="render"?"true":void 0})});PS.displayName="Form";function kS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D1(n){let e=te.useContext(ws);return tt(e,kS(n)),e}function VS(n,{target:e,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:f}={}){let c=A1(),p=As(),g=pu(n,{relative:l});return te.useCallback(_=>{if(hS(_,e)){_.preventDefault();let d=r!==void 0?r:Ti(p)===Ti(g);c(n,{replace:d,state:i,preventScrollReset:o,relative:l,viewTransition:f})}},[p,c,g,r,i,e,n,o,l,f])}var jS=0,LS=()=>`__${String(++jS)}__`;function US(){let{router:n}=D1("useSubmit"),{basename:e}=te.useContext(ra),r=Z2();return te.useCallback(async(i,o={})=>{let{action:l,method:f,encType:c,formData:p,body:g}=pS(i,e);if(o.navigate===!1){let _=o.fetcherKey||LS();await n.fetch(_,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||c,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,r])}function zS(n,{relative:e}={}){let{basename:r}=te.useContext(ra),i=te.useContext(aa);tt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...pu(n||".",{relative:e})},f=As();if(n==null){l.search=f.search;let c=new URLSearchParams(l.search),p=c.getAll("index");if(p.some(_=>_==="")){c.delete("index"),p.filter(d=>d).forEach(d=>c.append("index",d));let _=c.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Wr([r,l.pathname])),Ti(l)}function $S(n,e={}){let r=te.useContext(Rp);tt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=D1("useViewTransitionState"),o=pu(n,{relative:e.relative});if(!r.isTransitioning)return!1;let l=_r(r.currentLocation.pathname,i)||r.currentLocation.pathname,f=_r(r.nextLocation.pathname,i)||r.nextLocation.pathname;return of(o.pathname,f)!=null||of(o.pathname,l)!=null}new TextEncoder;[...AS];/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function BS(n,e,r){return(e=qS(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function m0(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function ye(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m0(Object(r),!0).forEach(function(i){BS(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):m0(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function FS(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qS(n){var e=FS(n,"string");return typeof e=="symbol"?e:e+""}const p0=()=>{};let Mp={},O1={},I1=null,N1={mark:p0,measure:p0};try{typeof window<"u"&&(Mp=window),typeof document<"u"&&(O1=document),typeof MutationObserver<"u"&&(I1=MutationObserver),typeof performance<"u"&&(N1=performance)}catch{}const{userAgent:g0=""}=Mp.navigator||{},Si=Mp,xt=O1,y0=I1,zc=N1;Si.document;const ja=!!xt.documentElement&&!!xt.head&&typeof xt.addEventListener=="function"&&typeof xt.createElement=="function",M1=~g0.indexOf("MSIE")||~g0.indexOf("Trident/");var HS=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,GS=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,P1={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},YS={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},k1=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],An="classic",Pf="duotone",QS="sharp",KS="sharp-duotone",V1=[An,Pf,QS,KS],XS={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},ZS={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},WS=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),JS={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},eR=["fak","fa-kit","fakd","fa-kit-duotone"],v0={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},tR=["kit"],nR={kit:{"fa-kit":"fak"}},rR=["fak","fakd"],aR={kit:{fak:"fa-kit"}},_0={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},$c={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},iR=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],sR=["fak","fa-kit","fakd","fa-kit-duotone"],oR={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},lR={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},uR={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Mm={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},cR=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Pm=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...iR,...cR],fR=["solid","regular","light","thin","duotone","brands"],j1=[1,2,3,4,5,6,7,8,9,10],hR=j1.concat([11,12,13,14,15,16,17,18,19,20]),dR=[...Object.keys(uR),...fR,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",$c.GROUP,$c.SWAP_OPACITY,$c.PRIMARY,$c.SECONDARY].concat(j1.map(n=>"".concat(n,"x"))).concat(hR.map(n=>"w-".concat(n))),mR={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Ia="___FONT_AWESOME___",km=16,L1="fa",U1="svg-inline--fa",ys="data-fa-i2svg",Vm="data-fa-pseudo-element",pR="data-fa-pseudo-element-pending",Pp="data-prefix",kp="data-icon",b0="fontawesome-i2svg",gR="async",yR=["HTML","HEAD","STYLE","SCRIPT"],z1=(()=>{try{return!0}catch{return!1}})();function gu(n){return new Proxy(n,{get(e,r){return r in e?e[r]:e[An]}})}const $1=ye({},P1);$1[An]=ye(ye(ye(ye({},{"fa-duotone":"duotone"}),P1[An]),v0.kit),v0["kit-duotone"]);const vR=gu($1),jm=ye({},JS);jm[An]=ye(ye(ye(ye({},{duotone:"fad"}),jm[An]),_0.kit),_0["kit-duotone"]);const E0=gu(jm),Lm=ye({},Mm);Lm[An]=ye(ye({},Lm[An]),aR.kit);const Vp=gu(Lm),Um=ye({},lR);Um[An]=ye(ye({},Um[An]),nR.kit);gu(Um);const _R=HS,B1="fa-layers-text",bR=GS,ER=ye({},XS);gu(ER);const wR=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],fm=YS,AR=[...tR,...dR],Kl=Si.FontAwesomeConfig||{};function TR(n){var e=xt.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function SR(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}xt&&typeof xt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[r,i]=e;const o=SR(TR(r));o!=null&&(Kl[i]=o)});const F1={styleDefault:"solid",familyDefault:An,cssPrefix:L1,replacementClass:U1,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Kl.familyPrefix&&(Kl.cssPrefix=Kl.familyPrefix);const So=ye(ye({},F1),Kl);So.autoReplaceSvg||(So.observeMutations=!1);const De={};Object.keys(F1).forEach(n=>{Object.defineProperty(De,n,{enumerable:!0,set:function(e){So[n]=e,Xl.forEach(r=>r(De))},get:function(){return So[n]}})});Object.defineProperty(De,"familyPrefix",{enumerable:!0,set:function(n){So.cssPrefix=n,Xl.forEach(e=>e(De))},get:function(){return So.cssPrefix}});Si.FontAwesomeConfig=De;const Xl=[];function RR(n){return Xl.push(n),()=>{Xl.splice(Xl.indexOf(n),1)}}const mi=km,Xr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function xR(n){if(!n||!ja)return;const e=xt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;const r=xt.head.childNodes;let i=null;for(let o=r.length-1;o>-1;o--){const l=r[o],f=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(f)>-1&&(i=l)}return xt.head.insertBefore(e,i),n}const CR="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ru(){let n=12,e="";for(;n-- >0;)e+=CR[Math.random()*62|0];return e}function Mo(n){const e=[];for(let r=(n||[]).length>>>0;r--;)e[r]=n[r];return e}function jp(n){return n.classList?Mo(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function q1(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function DR(n){return Object.keys(n||{}).reduce((e,r)=>e+"".concat(r,'="').concat(q1(n[r]),'" '),"").trim()}function kf(n){return Object.keys(n||{}).reduce((e,r)=>e+"".concat(r,": ").concat(n[r].trim(),";"),"")}function Lp(n){return n.size!==Xr.size||n.x!==Xr.x||n.y!==Xr.y||n.rotate!==Xr.rotate||n.flipX||n.flipY}function OR(n){let{transform:e,containerWidth:r,iconWidth:i}=n;const o={transform:"translate(".concat(r/2," 256)")},l="translate(".concat(e.x*32,", ").concat(e.y*32,") "),f="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),p={transform:"".concat(l," ").concat(f," ").concat(c)},g={transform:"translate(".concat(i/2*-1," -256)")};return{outer:o,inner:p,path:g}}function IR(n){let{transform:e,width:r=km,height:i=km,startCentered:o=!1}=n,l="";return o&&M1?l+="translate(".concat(e.x/mi-r/2,"em, ").concat(e.y/mi-i/2,"em) "):o?l+="translate(calc(-50% + ".concat(e.x/mi,"em), calc(-50% + ").concat(e.y/mi,"em)) "):l+="translate(".concat(e.x/mi,"em, ").concat(e.y/mi,"em) "),l+="scale(".concat(e.size/mi*(e.flipX?-1:1),", ").concat(e.size/mi*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var NR=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function H1(){const n=L1,e=U1,r=De.cssPrefix,i=De.replacementClass;let o=NR;if(r!==n||i!==e){const l=new RegExp("\\.".concat(n,"\\-"),"g"),f=new RegExp("\\--".concat(n,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");o=o.replace(l,".".concat(r,"-")).replace(f,"--".concat(r,"-")).replace(c,".".concat(i))}return o}let w0=!1;function hm(){De.autoAddCss&&!w0&&(xR(H1()),w0=!0)}var MR={mixout(){return{dom:{css:H1,insertCss:hm}}},hooks(){return{beforeDOMElementCreation(){hm()},beforeI2svg(){hm()}}}};const Na=Si||{};Na[Ia]||(Na[Ia]={});Na[Ia].styles||(Na[Ia].styles={});Na[Ia].hooks||(Na[Ia].hooks={});Na[Ia].shims||(Na[Ia].shims=[]);var Zr=Na[Ia];const G1=[],Y1=function(){xt.removeEventListener("DOMContentLoaded",Y1),cf=1,G1.map(n=>n())};let cf=!1;ja&&(cf=(xt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(xt.readyState),cf||xt.addEventListener("DOMContentLoaded",Y1));function PR(n){ja&&(cf?setTimeout(n,0):G1.push(n))}function yu(n){const{tag:e,attributes:r={},children:i=[]}=n;return typeof n=="string"?q1(n):"<".concat(e," ").concat(DR(r),">").concat(i.map(yu).join(""),"</").concat(e,">")}function A0(n,e,r){if(n&&n[e]&&n[e][r])return{prefix:e,iconName:r,icon:n[e][r]}}var dm=function(e,r,i,o){var l=Object.keys(e),f=l.length,c=r,p,g,_;for(i===void 0?(p=1,_=e[l[0]]):(p=0,_=i);p<f;p++)g=l[p],_=c(_,e[g],g,e);return _};function kR(n){const e=[];let r=0;const i=n.length;for(;r<i;){const o=n.charCodeAt(r++);if(o>=55296&&o<=56319&&r<i){const l=n.charCodeAt(r++);(l&64512)==56320?e.push(((o&1023)<<10)+(l&1023)+65536):(e.push(o),r--)}else e.push(o)}return e}function zm(n){const e=kR(n);return e.length===1?e[0].toString(16):null}function VR(n,e){const r=n.length;let i=n.charCodeAt(e),o;return i>=55296&&i<=56319&&r>e+1&&(o=n.charCodeAt(e+1),o>=56320&&o<=57343)?(i-55296)*1024+o-56320+65536:i}function T0(n){return Object.keys(n).reduce((e,r)=>{const i=n[r];return!!i.icon?e[i.iconName]=i.icon:e[r]=i,e},{})}function $m(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:i=!1}=r,o=T0(e);typeof Zr.hooks.addPack=="function"&&!i?Zr.hooks.addPack(n,T0(e)):Zr.styles[n]=ye(ye({},Zr.styles[n]||{}),o),n==="fas"&&$m("fa",e)}const{styles:au,shims:jR}=Zr,Q1=Object.keys(Vp),LR=Q1.reduce((n,e)=>(n[e]=Object.keys(Vp[e]),n),{});let Up=null,K1={},X1={},Z1={},W1={},J1={};function UR(n){return~AR.indexOf(n)}function zR(n,e){const r=e.split("-"),i=r[0],o=r.slice(1).join("-");return i===n&&o!==""&&!UR(o)?o:null}const eE=()=>{const n=i=>dm(au,(o,l,f)=>(o[f]=dm(l,i,{}),o),{});K1=n((i,o,l)=>(o[3]&&(i[o[3]]=l),o[2]&&o[2].filter(c=>typeof c=="number").forEach(c=>{i[c.toString(16)]=l}),i)),X1=n((i,o,l)=>(i[l]=l,o[2]&&o[2].filter(c=>typeof c=="string").forEach(c=>{i[c]=l}),i)),J1=n((i,o,l)=>{const f=o[2];return i[l]=l,f.forEach(c=>{i[c]=l}),i});const e="far"in au||De.autoFetchSvg,r=dm(jR,(i,o)=>{const l=o[0];let f=o[1];const c=o[2];return f==="far"&&!e&&(f="fas"),typeof l=="string"&&(i.names[l]={prefix:f,iconName:c}),typeof l=="number"&&(i.unicodes[l.toString(16)]={prefix:f,iconName:c}),i},{names:{},unicodes:{}});Z1=r.names,W1=r.unicodes,Up=Vf(De.styleDefault,{family:De.familyDefault})};RR(n=>{Up=Vf(n.styleDefault,{family:De.familyDefault})});eE();function zp(n,e){return(K1[n]||{})[e]}function $R(n,e){return(X1[n]||{})[e]}function ps(n,e){return(J1[n]||{})[e]}function tE(n){return Z1[n]||{prefix:null,iconName:null}}function BR(n){const e=W1[n],r=zp("fas",n);return e||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function Ri(){return Up}const nE=()=>({prefix:null,iconName:null,rest:[]});function FR(n){let e=An;const r=Q1.reduce((i,o)=>(i[o]="".concat(De.cssPrefix,"-").concat(o),i),{});return V1.forEach(i=>{(n.includes(r[i])||n.some(o=>LR[i].includes(o)))&&(e=i)}),e}function Vf(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:r=An}=e,i=vR[r][n];if(r===Pf&&!n)return"fad";const o=E0[r][n]||E0[r][i],l=n in Zr.styles?n:null;return o||l||null}function qR(n){let e=[],r=null;return n.forEach(i=>{const o=zR(De.cssPrefix,i);o?r=o:i&&e.push(i)}),{iconName:r,rest:e}}function S0(n){return n.sort().filter((e,r,i)=>i.indexOf(e)===r)}function jf(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:r=!1}=e;let i=null;const o=Pm.concat(sR),l=S0(n.filter(d=>o.includes(d))),f=S0(n.filter(d=>!Pm.includes(d))),c=l.filter(d=>(i=d,!k1.includes(d))),[p=null]=c,g=FR(l),_=ye(ye({},qR(f)),{},{prefix:Vf(p,{family:g})});return ye(ye(ye({},_),QR({values:n,family:g,styles:au,config:De,canonical:_,givenPrefix:i})),HR(r,i,_))}function HR(n,e,r){let{prefix:i,iconName:o}=r;if(n||!i||!o)return{prefix:i,iconName:o};const l=e==="fa"?tE(o):{},f=ps(i,o);return o=l.iconName||f||o,i=l.prefix||i,i==="far"&&!au.far&&au.fas&&!De.autoFetchSvg&&(i="fas"),{prefix:i,iconName:o}}const GR=V1.filter(n=>n!==An||n!==Pf),YR=Object.keys(Mm).filter(n=>n!==An).map(n=>Object.keys(Mm[n])).flat();function QR(n){const{values:e,family:r,canonical:i,givenPrefix:o="",styles:l={},config:f={}}=n,c=r===Pf,p=e.includes("fa-duotone")||e.includes("fad"),g=f.familyDefault==="duotone",_=i.prefix==="fad"||i.prefix==="fa-duotone";if(!c&&(p||g||_)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&GR.includes(r)&&(Object.keys(l).find(y=>YR.includes(y))||f.autoFetchSvg)){const y=WS.get(r).defaultShortPrefixId;i.prefix=y,i.iconName=ps(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||o==="fa")&&(i.prefix=Ri()||"fas"),i}class KR{constructor(){this.definitions={}}add(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];const o=r.reduce(this._pullDefinitions,{});Object.keys(o).forEach(l=>{this.definitions[l]=ye(ye({},this.definitions[l]||{}),o[l]),$m(l,o[l]);const f=Vp[An][l];f&&$m(f,o[l]),eE()})}reset(){this.definitions={}}_pullDefinitions(e,r){const i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(o=>{const{prefix:l,iconName:f,icon:c}=i[o],p=c[2];e[l]||(e[l]={}),p.length>0&&p.forEach(g=>{typeof g=="string"&&(e[l][g]=c)}),e[l][f]=c}),e}}let R0=[],vo={};const wo={},XR=Object.keys(wo);function ZR(n,e){let{mixoutsTo:r}=e;return R0=n,vo={},Object.keys(wo).forEach(i=>{XR.indexOf(i)===-1&&delete wo[i]}),R0.forEach(i=>{const o=i.mixout?i.mixout():{};if(Object.keys(o).forEach(l=>{typeof o[l]=="function"&&(r[l]=o[l]),typeof o[l]=="object"&&Object.keys(o[l]).forEach(f=>{r[l]||(r[l]={}),r[l][f]=o[l][f]})}),i.hooks){const l=i.hooks();Object.keys(l).forEach(f=>{vo[f]||(vo[f]=[]),vo[f].push(l[f])})}i.provides&&i.provides(wo)}),r}function Bm(n,e){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return(vo[n]||[]).forEach(f=>{e=f.apply(null,[e,...i])}),e}function vs(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];(vo[n]||[]).forEach(l=>{l.apply(null,r)})}function xi(){const n=arguments[0],e=Array.prototype.slice.call(arguments,1);return wo[n]?wo[n].apply(null,e):void 0}function Fm(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n;const r=n.prefix||Ri();if(e)return e=ps(r,e)||e,A0(rE.definitions,r,e)||A0(Zr.styles,r,e)}const rE=new KR,WR=()=>{De.autoReplaceSvg=!1,De.observeMutations=!1,vs("noAuto")},JR={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ja?(vs("beforeI2svg",n),xi("pseudoElements2svg",n),xi("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=n;De.autoReplaceSvg===!1&&(De.autoReplaceSvg=!0),De.observeMutations=!0,PR(()=>{tx({autoReplaceSvgRoot:e}),vs("watch",n)})}},ex={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:ps(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],r=Vf(n[0]);return{prefix:r,iconName:ps(r,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(De.cssPrefix,"-"))>-1||n.match(_R))){const e=jf(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||Ri(),iconName:ps(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){const e=Ri();return{prefix:e,iconName:ps(e,n)||n}}}},Wn={noAuto:WR,config:De,dom:JR,parse:ex,library:rE,findIconDefinition:Fm,toHtml:yu},tx=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=xt}=n;(Object.keys(Zr.styles).length>0||De.autoFetchSvg)&&ja&&De.autoReplaceSvg&&Wn.dom.i2svg({node:e})};function Lf(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(r=>yu(r))}}),Object.defineProperty(n,"node",{get:function(){if(!ja)return;const r=xt.createElement("div");return r.innerHTML=n.html,r.children}}),n}function nx(n){let{children:e,main:r,mask:i,attributes:o,styles:l,transform:f}=n;if(Lp(f)&&r.found&&!i.found){const{width:c,height:p}=r,g={x:c/p/2,y:.5};o.style=kf(ye(ye({},l),{},{"transform-origin":"".concat(g.x+f.x/16,"em ").concat(g.y+f.y/16,"em")}))}return[{tag:"svg",attributes:o,children:e}]}function rx(n){let{prefix:e,iconName:r,children:i,attributes:o,symbol:l}=n;const f=l===!0?"".concat(e,"-").concat(De.cssPrefix,"-").concat(r):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ye(ye({},o),{},{id:f}),children:i}]}]}function $p(n){const{icons:{main:e,mask:r},prefix:i,iconName:o,transform:l,symbol:f,title:c,maskId:p,titleId:g,extra:_,watchable:d=!1}=n,{width:y,height:E}=r.found?r:e,v=rR.includes(i),b=[De.replacementClass,o?"".concat(De.cssPrefix,"-").concat(o):""].filter(k=>_.classes.indexOf(k)===-1).filter(k=>k!==""||!!k).concat(_.classes).join(" ");let R={children:[],attributes:ye(ye({},_.attributes),{},{"data-prefix":i,"data-icon":o,class:b,role:_.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(E)})};const w=v&&!~_.classes.indexOf("fa-fw")?{width:"".concat(y/E*16*.0625,"em")}:{};d&&(R.attributes[ys]=""),c&&(R.children.push({tag:"title",attributes:{id:R.attributes["aria-labelledby"]||"title-".concat(g||ru())},children:[c]}),delete R.attributes.title);const S=ye(ye({},R),{},{prefix:i,iconName:o,main:e,mask:r,maskId:p,transform:l,symbol:f,styles:ye(ye({},w),_.styles)}),{children:x,attributes:M}=r.found&&e.found?xi("generateAbstractMask",S)||{children:[],attributes:{}}:xi("generateAbstractIcon",S)||{children:[],attributes:{}};return S.children=x,S.attributes=M,f?rx(S):nx(S)}function x0(n){const{content:e,width:r,height:i,transform:o,title:l,extra:f,watchable:c=!1}=n,p=ye(ye(ye({},f.attributes),l?{title:l}:{}),{},{class:f.classes.join(" ")});c&&(p[ys]="");const g=ye({},f.styles);Lp(o)&&(g.transform=IR({transform:o,startCentered:!0,width:r,height:i}),g["-webkit-transform"]=g.transform);const _=kf(g);_.length>0&&(p.style=_);const d=[];return d.push({tag:"span",attributes:p,children:[e]}),l&&d.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),d}function ax(n){const{content:e,title:r,extra:i}=n,o=ye(ye(ye({},i.attributes),r?{title:r}:{}),{},{class:i.classes.join(" ")}),l=kf(i.styles);l.length>0&&(o.style=l);const f=[];return f.push({tag:"span",attributes:o,children:[e]}),r&&f.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),f}const{styles:mm}=Zr;function qm(n){const e=n[0],r=n[1],[i]=n.slice(4);let o=null;return Array.isArray(i)?o={tag:"g",attributes:{class:"".concat(De.cssPrefix,"-").concat(fm.GROUP)},children:[{tag:"path",attributes:{class:"".concat(De.cssPrefix,"-").concat(fm.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(De.cssPrefix,"-").concat(fm.PRIMARY),fill:"currentColor",d:i[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:r,icon:o}}const ix={found:!1,width:512,height:512};function sx(n,e){!z1&&!De.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function Hm(n,e){let r=e;return e==="fa"&&De.styleDefault!==null&&(e=Ri()),new Promise((i,o)=>{if(r==="fa"){const l=tE(n)||{};n=l.iconName||n,e=l.prefix||e}if(n&&e&&mm[e]&&mm[e][n]){const l=mm[e][n];return i(qm(l))}sx(n,e),i(ye(ye({},ix),{},{icon:De.showMissingIcons&&n?xi("missingIconAbstract")||{}:{}}))})}const C0=()=>{},Gm=De.measurePerformance&&zc&&zc.mark&&zc.measure?zc:{mark:C0,measure:C0},Hl='FA "6.7.2"',ox=n=>(Gm.mark("".concat(Hl," ").concat(n," begins")),()=>aE(n)),aE=n=>{Gm.mark("".concat(Hl," ").concat(n," ends")),Gm.measure("".concat(Hl," ").concat(n),"".concat(Hl," ").concat(n," begins"),"".concat(Hl," ").concat(n," ends"))};var Bp={begin:ox,end:aE};const Zc=()=>{};function D0(n){return typeof(n.getAttribute?n.getAttribute(ys):null)=="string"}function lx(n){const e=n.getAttribute?n.getAttribute(Pp):null,r=n.getAttribute?n.getAttribute(kp):null;return e&&r}function ux(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(De.replacementClass)}function cx(){return De.autoReplaceSvg===!0?Wc.replace:Wc[De.autoReplaceSvg]||Wc.replace}function fx(n){return xt.createElementNS("http://www.w3.org/2000/svg",n)}function hx(n){return xt.createElement(n)}function iE(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:r=n.tag==="svg"?fx:hx}=e;if(typeof n=="string")return xt.createTextNode(n);const i=r(n.tag);return Object.keys(n.attributes||[]).forEach(function(l){i.setAttribute(l,n.attributes[l])}),(n.children||[]).forEach(function(l){i.appendChild(iE(l,{ceFn:r}))}),i}function dx(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Wc={replace:function(n){const e=n[0];if(e.parentNode)if(n[1].forEach(r=>{e.parentNode.insertBefore(iE(r),e)}),e.getAttribute(ys)===null&&De.keepOriginalSource){let r=xt.createComment(dx(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(n){const e=n[0],r=n[1];if(~jp(e).indexOf(De.replacementClass))return Wc.replace(n);const i=new RegExp("".concat(De.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){const l=r[0].attributes.class.split(" ").reduce((f,c)=>(c===De.replacementClass||c.match(i)?f.toSvg.push(c):f.toNode.push(c),f),{toNode:[],toSvg:[]});r[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",l.toNode.join(" "))}const o=r.map(l=>yu(l)).join(`
`);e.setAttribute(ys,""),e.innerHTML=o}};function O0(n){n()}function sE(n,e){const r=typeof e=="function"?e:Zc;if(n.length===0)r();else{let i=O0;De.mutateApproach===gR&&(i=Si.requestAnimationFrame||O0),i(()=>{const o=cx(),l=Bp.begin("mutate");n.map(o),l(),r()})}}let Fp=!1;function oE(){Fp=!0}function Ym(){Fp=!1}let ff=null;function I0(n){if(!y0||!De.observeMutations)return;const{treeCallback:e=Zc,nodeCallback:r=Zc,pseudoElementsCallback:i=Zc,observeMutationsRoot:o=xt}=n;ff=new y0(l=>{if(Fp)return;const f=Ri();Mo(l).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!D0(c.addedNodes[0])&&(De.searchPseudoElements&&i(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&De.searchPseudoElements&&i(c.target.parentNode),c.type==="attributes"&&D0(c.target)&&~wR.indexOf(c.attributeName))if(c.attributeName==="class"&&lx(c.target)){const{prefix:p,iconName:g}=jf(jp(c.target));c.target.setAttribute(Pp,p||f),g&&c.target.setAttribute(kp,g)}else ux(c.target)&&r(c.target)})}),ja&&ff.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function mx(){ff&&ff.disconnect()}function px(n){const e=n.getAttribute("style");let r=[];return e&&(r=e.split(";").reduce((i,o)=>{const l=o.split(":"),f=l[0],c=l.slice(1);return f&&c.length>0&&(i[f]=c.join(":").trim()),i},{})),r}function gx(n){const e=n.getAttribute("data-prefix"),r=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"";let o=jf(jp(n));return o.prefix||(o.prefix=Ri()),e&&r&&(o.prefix=e,o.iconName=r),o.iconName&&o.prefix||(o.prefix&&i.length>0&&(o.iconName=$R(o.prefix,n.innerText)||zp(o.prefix,zm(n.innerText))),!o.iconName&&De.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=n.firstChild.data)),o}function yx(n){const e=Mo(n.attributes).reduce((o,l)=>(o.name!=="class"&&o.name!=="style"&&(o[l.name]=l.value),o),{}),r=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return De.autoA11y&&(r?e["aria-labelledby"]="".concat(De.replacementClass,"-title-").concat(i||ru()):(e["aria-hidden"]="true",e.focusable="false")),e}function vx(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Xr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function N0(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:r,prefix:i,rest:o}=gx(n),l=yx(n),f=Bm("parseNodeAttributes",{},n);let c=e.styleParser?px(n):[];return ye({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:Xr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:c,attributes:l}},f)}const{styles:_x}=Zr;function lE(n){const e=De.autoReplaceSvg==="nest"?N0(n,{styleParser:!1}):N0(n);return~e.extra.classes.indexOf(B1)?xi("generateLayersText",n,e):xi("generateSvgReplacementMutation",n,e)}function bx(){return[...eR,...Pm]}function M0(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ja)return Promise.resolve();const r=xt.documentElement.classList,i=_=>r.add("".concat(b0,"-").concat(_)),o=_=>r.remove("".concat(b0,"-").concat(_)),l=De.autoFetchSvg?bx():k1.concat(Object.keys(_x));l.includes("fa")||l.push("fa");const f=[".".concat(B1,":not([").concat(ys,"])")].concat(l.map(_=>".".concat(_,":not([").concat(ys,"])"))).join(", ");if(f.length===0)return Promise.resolve();let c=[];try{c=Mo(n.querySelectorAll(f))}catch{}if(c.length>0)i("pending"),o("complete");else return Promise.resolve();const p=Bp.begin("onTree"),g=c.reduce((_,d)=>{try{const y=lE(d);y&&_.push(y)}catch(y){z1||y.name==="MissingIcon"&&console.error(y)}return _},[]);return new Promise((_,d)=>{Promise.all(g).then(y=>{sE(y,()=>{i("active"),i("complete"),o("pending"),typeof e=="function"&&e(),p(),_()})}).catch(y=>{p(),d(y)})})}function Ex(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;lE(n).then(r=>{r&&sE([r],e)})}function wx(n){return function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(e||{}).icon?e:Fm(e||{});let{mask:o}=r;return o&&(o=(o||{}).icon?o:Fm(o||{})),n(i,ye(ye({},r),{},{mask:o}))}}const Ax=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=Xr,symbol:i=!1,mask:o=null,maskId:l=null,title:f=null,titleId:c=null,classes:p=[],attributes:g={},styles:_={}}=e;if(!n)return;const{prefix:d,iconName:y,icon:E}=n;return Lf(ye({type:"icon"},n),()=>(vs("beforeDOMElementCreation",{iconDefinition:n,params:e}),De.autoA11y&&(f?g["aria-labelledby"]="".concat(De.replacementClass,"-title-").concat(c||ru()):(g["aria-hidden"]="true",g.focusable="false")),$p({icons:{main:qm(E),mask:o?qm(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:y,transform:ye(ye({},Xr),r),symbol:i,title:f,maskId:l,titleId:c,extra:{attributes:g,styles:_,classes:p}})))};var Tx={mixout(){return{icon:wx(Ax)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=M0,n.nodeCallback=Ex,n}}},provides(n){n.i2svg=function(e){const{node:r=xt,callback:i=()=>{}}=e;return M0(r,i)},n.generateSvgReplacementMutation=function(e,r){const{iconName:i,title:o,titleId:l,prefix:f,transform:c,symbol:p,mask:g,maskId:_,extra:d}=r;return new Promise((y,E)=>{Promise.all([Hm(i,f),g.iconName?Hm(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(v=>{let[b,R]=v;y([e,$p({icons:{main:b,mask:R},prefix:f,iconName:i,transform:c,symbol:p,maskId:_,title:o,titleId:l,extra:d,watchable:!0})])}).catch(E)})},n.generateAbstractIcon=function(e){let{children:r,attributes:i,main:o,transform:l,styles:f}=e;const c=kf(f);c.length>0&&(i.style=c);let p;return Lp(l)&&(p=xi("generateAbstractTransformGrouping",{main:o,transform:l,containerWidth:o.width,iconWidth:o.width})),r.push(p||o.icon),{children:r,attributes:i}}}},Sx={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:r=[]}=e;return Lf({type:"layer"},()=>{vs("beforeDOMElementCreation",{assembler:n,params:e});let i=[];return n(o=>{Array.isArray(o)?o.map(l=>{i=i.concat(l.abstract)}):i=i.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(De.cssPrefix,"-layers"),...r].join(" ")},children:i}]})}}}},Rx={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:r=null,classes:i=[],attributes:o={},styles:l={}}=e;return Lf({type:"counter",content:n},()=>(vs("beforeDOMElementCreation",{content:n,params:e}),ax({content:n.toString(),title:r,extra:{attributes:o,styles:l,classes:["".concat(De.cssPrefix,"-layers-counter"),...i]}})))}}}},xx={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=Xr,title:i=null,classes:o=[],attributes:l={},styles:f={}}=e;return Lf({type:"text",content:n},()=>(vs("beforeDOMElementCreation",{content:n,params:e}),x0({content:n,transform:ye(ye({},Xr),r),title:i,extra:{attributes:l,styles:f,classes:["".concat(De.cssPrefix,"-layers-text"),...o]}})))}}},provides(n){n.generateLayersText=function(e,r){const{title:i,transform:o,extra:l}=r;let f=null,c=null;if(M1){const p=parseInt(getComputedStyle(e).fontSize,10),g=e.getBoundingClientRect();f=g.width/p,c=g.height/p}return De.autoA11y&&!i&&(l.attributes["aria-hidden"]="true"),Promise.resolve([e,x0({content:e.innerHTML,width:f,height:c,transform:o,title:i,extra:l,watchable:!0})])}}};const Cx=new RegExp('"',"ug"),P0=[1105920,1112319],k0=ye(ye(ye(ye({},{FontAwesome:{normal:"fas",400:"fas"}}),ZS),mR),oR),Qm=Object.keys(k0).reduce((n,e)=>(n[e.toLowerCase()]=k0[e],n),{}),Dx=Object.keys(Qm).reduce((n,e)=>{const r=Qm[e];return n[e]=r[900]||[...Object.entries(r)][0][1],n},{});function Ox(n){const e=n.replace(Cx,""),r=VR(e,0),i=r>=P0[0]&&r<=P0[1],o=e.length===2?e[0]===e[1]:!1;return{value:zm(o?e[0]:e),isSecondary:i||o}}function Ix(n,e){const r=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),o=isNaN(i)?"normal":i;return(Qm[r]||{})[o]||Dx[r]}function V0(n,e){const r="".concat(pR).concat(e.replace(":","-"));return new Promise((i,o)=>{if(n.getAttribute(r)!==null)return i();const f=Mo(n.children).filter(y=>y.getAttribute(Vm)===e)[0],c=Si.getComputedStyle(n,e),p=c.getPropertyValue("font-family"),g=p.match(bR),_=c.getPropertyValue("font-weight"),d=c.getPropertyValue("content");if(f&&!g)return n.removeChild(f),i();if(g&&d!=="none"&&d!==""){const y=c.getPropertyValue("content");let E=Ix(p,_);const{value:v,isSecondary:b}=Ox(y),R=g[0].startsWith("FontAwesome");let w=zp(E,v),S=w;if(R){const x=BR(v);x.iconName&&x.prefix&&(w=x.iconName,E=x.prefix)}if(w&&!b&&(!f||f.getAttribute(Pp)!==E||f.getAttribute(kp)!==S)){n.setAttribute(r,S),f&&n.removeChild(f);const x=vx(),{extra:M}=x;M.attributes[Vm]=e,Hm(w,E).then(k=>{const V=$p(ye(ye({},x),{},{icons:{main:k,mask:nE()},prefix:E,iconName:S,extra:M,watchable:!0})),I=xt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(I,n.firstChild):n.appendChild(I),I.outerHTML=V.map(T=>yu(T)).join(`
`),n.removeAttribute(r),i()}).catch(o)}else i()}else i()})}function Nx(n){return Promise.all([V0(n,"::before"),V0(n,"::after")])}function Mx(n){return n.parentNode!==document.head&&!~yR.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(Vm)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function j0(n){if(ja)return new Promise((e,r)=>{const i=Mo(n.querySelectorAll("*")).filter(Mx).map(Nx),o=Bp.begin("searchPseudoElements");oE(),Promise.all(i).then(()=>{o(),Ym(),e()}).catch(()=>{o(),Ym(),r()})})}var Px={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=j0,n}}},provides(n){n.pseudoElements2svg=function(e){const{node:r=xt}=e;De.searchPseudoElements&&j0(r)}}};let L0=!1;var kx={mixout(){return{dom:{unwatch(){oE(),L0=!0}}}},hooks(){return{bootstrap(){I0(Bm("mutationObserverCallbacks",{}))},noAuto(){mx()},watch(n){const{observeMutationsRoot:e}=n;L0?Ym():I0(Bm("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const U0=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((r,i)=>{const o=i.toLowerCase().split("-"),l=o[0];let f=o.slice(1).join("-");if(l&&f==="h")return r.flipX=!0,r;if(l&&f==="v")return r.flipY=!0,r;if(f=parseFloat(f),isNaN(f))return r;switch(l){case"grow":r.size=r.size+f;break;case"shrink":r.size=r.size-f;break;case"left":r.x=r.x-f;break;case"right":r.x=r.x+f;break;case"up":r.y=r.y-f;break;case"down":r.y=r.y+f;break;case"rotate":r.rotate=r.rotate+f;break}return r},e)};var Vx={mixout(){return{parse:{transform:n=>U0(n)}}},hooks(){return{parseNodeAttributes(n,e){const r=e.getAttribute("data-fa-transform");return r&&(n.transform=U0(r)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:r,transform:i,containerWidth:o,iconWidth:l}=e;const f={transform:"translate(".concat(o/2," 256)")},c="translate(".concat(i.x*32,", ").concat(i.y*32,") "),p="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),g="rotate(".concat(i.rotate," 0 0)"),_={transform:"".concat(c," ").concat(p," ").concat(g)},d={transform:"translate(".concat(l/2*-1," -256)")},y={outer:f,inner:_,path:d};return{tag:"g",attributes:ye({},y.outer),children:[{tag:"g",attributes:ye({},y.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ye(ye({},r.icon.attributes),y.path)}]}]}}}};const pm={x:0,y:0,width:"100%",height:"100%"};function z0(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function jx(n){return n.tag==="g"?n.children:[n]}var Lx={hooks(){return{parseNodeAttributes(n,e){const r=e.getAttribute("data-fa-mask"),i=r?jf(r.split(" ").map(o=>o.trim())):nE();return i.prefix||(i.prefix=Ri()),n.mask=i,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:r,attributes:i,main:o,mask:l,maskId:f,transform:c}=e;const{width:p,icon:g}=o,{width:_,icon:d}=l,y=OR({transform:c,containerWidth:_,iconWidth:p}),E={tag:"rect",attributes:ye(ye({},pm),{},{fill:"white"})},v=g.children?{children:g.children.map(z0)}:{},b={tag:"g",attributes:ye({},y.inner),children:[z0(ye({tag:g.tag,attributes:ye(ye({},g.attributes),y.path)},v))]},R={tag:"g",attributes:ye({},y.outer),children:[b]},w="mask-".concat(f||ru()),S="clip-".concat(f||ru()),x={tag:"mask",attributes:ye(ye({},pm),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[E,R]},M={tag:"defs",children:[{tag:"clipPath",attributes:{id:S},children:jx(d)},x]};return r.push(M,{tag:"rect",attributes:ye({fill:"currentColor","clip-path":"url(#".concat(S,")"),mask:"url(#".concat(w,")")},pm)}),{children:r,attributes:i}}}},Ux={provides(n){let e=!1;Si.matchMedia&&(e=Si.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ye(ye({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const l=ye(ye({},o),{},{attributeName:"opacity"}),f={tag:"circle",attributes:ye(ye({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||f.children.push({tag:"animate",attributes:ye(ye({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ye(ye({},l),{},{values:"1;0;1;1;0;1;"})}),r.push(f),r.push({tag:"path",attributes:ye(ye({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ye(ye({},l),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:ye(ye({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ye(ye({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},zx={hooks(){return{parseNodeAttributes(n,e){const r=e.getAttribute("data-fa-symbol"),i=r===null?!1:r===""?!0:r;return n.symbol=i,n}}}},$x=[MR,Tx,Sx,Rx,xx,Px,kx,Vx,Lx,Ux,zx];ZR($x,{mixoutsTo:Wn});Wn.noAuto;Wn.config;Wn.library;Wn.dom;const Km=Wn.parse;Wn.findIconDefinition;Wn.toHtml;const Bx=Wn.icon;Wn.layer;Wn.text;Wn.counter;var gm={exports:{}},ym,$0;function Fx(){if($0)return ym;$0=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ym=n,ym}var vm,B0;function qx(){if(B0)return vm;B0=1;var n=Fx();function e(){}function r(){}return r.resetWarningCache=e,vm=function(){function i(f,c,p,g,_,d){if(d!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function o(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:e};return l.PropTypes=l,l},vm}var F0;function Hx(){return F0||(F0=1,gm.exports=qx()()),gm.exports}var Gx=Hx();const et=bp(Gx);function q0(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Kr(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q0(Object(r),!0).forEach(function(i){_o(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):q0(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function hf(n){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(n)}function _o(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Yx(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function Qx(n,e){if(n==null)return{};var r=Yx(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function Xm(n){return Kx(n)||Xx(n)||Zx(n)||Wx()}function Kx(n){if(Array.isArray(n))return Zm(n)}function Xx(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Zx(n,e){if(n){if(typeof n=="string")return Zm(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zm(n,e)}}function Zm(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function Wx(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jx(n){var e,r=n.beat,i=n.fade,o=n.beatFade,l=n.bounce,f=n.shake,c=n.flash,p=n.spin,g=n.spinPulse,_=n.spinReverse,d=n.pulse,y=n.fixedWidth,E=n.inverse,v=n.border,b=n.listItem,R=n.flip,w=n.size,S=n.rotation,x=n.pull,M=(e={"fa-beat":r,"fa-fade":i,"fa-beat-fade":o,"fa-bounce":l,"fa-shake":f,"fa-flash":c,"fa-spin":p,"fa-spin-reverse":_,"fa-spin-pulse":g,"fa-pulse":d,"fa-fw":y,"fa-inverse":E,"fa-border":v,"fa-li":b,"fa-flip":R===!0,"fa-flip-horizontal":R==="horizontal"||R==="both","fa-flip-vertical":R==="vertical"||R==="both"},_o(e,"fa-".concat(w),typeof w<"u"&&w!==null),_o(e,"fa-rotate-".concat(S),typeof S<"u"&&S!==null&&S!==0),_o(e,"fa-pull-".concat(x),typeof x<"u"&&x!==null),_o(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(M).map(function(k){return M[k]?k:null}).filter(function(k){return k})}function eC(n){return n=n-0,n===n}function uE(n){return eC(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var tC=["style"];function nC(n){return n.charAt(0).toUpperCase()+n.slice(1)}function rC(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,r){var i=r.indexOf(":"),o=uE(r.slice(0,i)),l=r.slice(i+1).trim();return o.startsWith("webkit")?e[nC(o)]=l:e[o]=l,e},{})}function cE(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(p){return cE(n,p)}),o=Object.keys(e.attributes||{}).reduce(function(p,g){var _=e.attributes[g];switch(g){case"class":p.attrs.className=_,delete e.attributes.class;break;case"style":p.attrs.style=rC(_);break;default:g.indexOf("aria-")===0||g.indexOf("data-")===0?p.attrs[g.toLowerCase()]=_:p.attrs[uE(g)]=_}return p},{attrs:{}}),l=r.style,f=l===void 0?{}:l,c=Qx(r,tC);return o.attrs.style=Kr(Kr({},o.attrs.style),f),n.apply(void 0,[e.tag,Kr(Kr({},o.attrs),c)].concat(Xm(i)))}var fE=!1;try{fE=!0}catch{}function aC(){if(!fE&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function H0(n){if(n&&hf(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(Km.icon)return Km.icon(n);if(n===null)return null;if(n&&hf(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function _m(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?_o({},n,e):{}}var G0={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},yi=Rr.forwardRef(function(n,e){var r=Kr(Kr({},G0),n),i=r.icon,o=r.mask,l=r.symbol,f=r.className,c=r.title,p=r.titleId,g=r.maskId,_=H0(i),d=_m("classes",[].concat(Xm(Jx(r)),Xm((f||"").split(" ")))),y=_m("transform",typeof r.transform=="string"?Km.transform(r.transform):r.transform),E=_m("mask",H0(o)),v=Bx(_,Kr(Kr(Kr(Kr({},d),y),E),{},{symbol:l,title:c,titleId:p,maskId:g}));if(!v)return aC("Could not find icon",_),null;var b=v.abstract,R={ref:e};return Object.keys(r).forEach(function(w){G0.hasOwnProperty(w)||(R[w]=r[w])}),iC(b[0],R)});yi.displayName="FontAwesomeIcon";yi.propTypes={beat:et.bool,border:et.bool,beatFade:et.bool,bounce:et.bool,className:et.string,fade:et.bool,flash:et.bool,mask:et.oneOfType([et.object,et.array,et.string]),maskId:et.string,fixedWidth:et.bool,inverse:et.bool,flip:et.oneOf([!0,!1,"horizontal","vertical","both"]),icon:et.oneOfType([et.object,et.array,et.string]),listItem:et.bool,pull:et.oneOf(["right","left"]),pulse:et.bool,rotation:et.oneOf([0,90,180,270]),shake:et.bool,size:et.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:et.bool,spinPulse:et.bool,spinReverse:et.bool,symbol:et.oneOfType([et.bool,et.string]),title:et.string,titleId:et.string,transform:et.oneOfType([et.string,et.object]),swapOpacity:et.bool};var iC=cE.bind(null,Rr.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const sC={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},oC={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"]},lC={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const uC={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"]},cC={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},fC={prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"]},hC={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},dC=()=>G.jsx("footer",{className:"footer",children:G.jsxs("div",{className:"footer-container",children:[G.jsxs("section",{className:"footer-section",children:[G.jsxs("div",{className:"footer-heading1",children:[G.jsx("h4",{children:"Summer Toys Heaven"}),G.jsx("p",{className:"footer-text",children:"Your Paradise of Playful Possibilities."})]}),G.jsxs("div",{className:"footer-heading1",children:[G.jsx("h4",{children:"Contact"}),G.jsx("p",{className:"footer-text",children:" summertoys@gmail.se "}),G.jsx("p",{className:"footer-text",children:" 031-123000 "}),G.jsxs("section",{className:"footer-font",children:[G.jsx(yi,{icon:sC,fontSize:"20",className:"fonts"}),G.jsx(yi,{icon:lC,className:"fonts"}),G.jsx(yi,{icon:oC,className:"fonts"})]})]})]}),G.jsxs("section",{className:"footer-section",children:[G.jsxs("div",{className:"footer-heading1",children:[G.jsx("h4",{children:"Address"}),G.jsx("p",{className:"footer-text",children:"Sörredsvägen 112"}),G.jsx("p",{className:"footer-text",children:" 418 78 Göteborg"})]}),G.jsxs("div",{className:"footer-heading1",children:[G.jsx("h4",{children:"Find us"}),G.jsx("p",{className:"footer-text",children:"You can find us 50meters from the bus stop"})]})]}),G.jsxs("section",{className:"footer-source",children:[G.jsxs(Eo,{className:"lock-button",to:"/signin",children:[G.jsx(yi,{icon:fC,className:"lock"}),G.jsx("span",{className:"hover-text",children:"Admin"})]}),G.jsx("p",{className:"source",children:" Developed by Shweta "})]})]})}),mC="/shweta/assets/image-CS7Ui7_2.png",Y0=n=>{let e;const r=new Set,i=(g,_)=>{const d=typeof g=="function"?g(e):g;if(!Object.is(d,e)){const y=e;e=_??(typeof d!="object"||d===null)?d:Object.assign({},e,d),r.forEach(E=>E(e,y))}},o=()=>e,c={setState:i,getState:o,getInitialState:()=>p,subscribe:g=>(r.add(g),()=>r.delete(g))},p=e=n(i,o,c);return c},pC=n=>n?Y0(n):Y0,gC=n=>n;function yC(n,e=gC){const r=Rr.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return Rr.useDebugValue(r),r}const Q0=n=>{const e=pC(n),r=i=>yC(e,i);return Object.assign(r,e),r},Uf=n=>n?Q0(n):Q0,df=Uf(n=>({isOpen:!1,toggleMenu:()=>n(e=>({isOpen:!e.isOpen})),closeMenu:()=>n({isOpen:!1})})),vC=()=>{const n=df(r=>r.isOpen),e=df(r=>r.toggleMenu);return G.jsxs("header",{className:"header-container",children:[G.jsx("div",{className:"logo-container",children:G.jsx(Np,{to:"/",children:G.jsx("img",{src:mC,alt:"Logo",className:"logo"})})}),G.jsx(yi,{icon:n?hC:cC,className:"menu-icon",onClick:e,style:{color:"black",transition:"color 0.3s ease"}})]})},_C=()=>{const n=df(r=>r.isOpen),e=df(r=>r.closeMenu);return n?G.jsxs("div",{className:"nav-links",onClick:e,children:[G.jsx(Eo,{to:"/",children:"Home"}),G.jsx(Eo,{to:"/menu",children:"Products"}),G.jsx(Eo,{to:"/contact",children:"Contact Us"})]}):null};function bC(){return G.jsxs(G.Fragment,{children:[G.jsxs("header",{children:[G.jsx(_C,{}),G.jsx(vC,{})]}),G.jsxs("main",{children:[G.jsx(sS,{})," "]}),G.jsx(dC,{})]})}function EC(){return G.jsxs("section",{className:"home-page",children:[G.jsx("img",{src:"https://media.istockphoto.com/id/509423868/sv/foto/sand-castle-on-tropical-beach-family-vacation.jpg?s=612x612&w=0&k=20&c=ncZPz-Xh_7n209ys3Q8iGGmqf5CxagDEE7_P5Kdc2Mc=",alt:""}),G.jsxs("div",{className:"welcome-text",children:[G.jsx("h1",{children:"Welcome to Summer Toys Heaven"}),G.jsx("p",{children:"Brighten your summer with fun! Beach toys, water games, kites & more – safe, colorful, and ready to play. We deliver fast with great quality."}),G.jsx(Eo,{className:"primary-button",to:"/menu",children:"Go to products"})]})]})}const wC="/shweta/assets/mapImage-qdgiakHW.jpg",AC=()=>G.jsxs("div",{className:"info-container",children:[G.jsxs("div",{className:"left-section",children:[G.jsxs("div",{className:"left-box",children:[G.jsx("h2",{className:"oppet",children:"Opening hours"}),G.jsxs("div",{className:"date",children:[G.jsx("p",{children:"Weekdays: 10:00-20:00"}),G.jsx("p",{children:"Saturday-Sunday: 11:00-18:00"})]})]}),G.jsxs("div",{className:"left-box2",children:[G.jsx("h2",{className:"besok",children:"Address"}),G.jsxs("div",{className:"address",children:[G.jsx("p",{children:"Sörredsvägen 112 2"}),G.jsx("p",{children:"418 78 Göteborg"})]})]})]}),G.jsx("div",{className:"right-box",children:G.jsx("img",{src:wC,alt:"map",className:"map-img"})})]});function TC(){return G.jsx(AC,{})}const hE="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%2010H15M18.125%2010C18.125%2012.1549%2017.269%2014.2215%2015.7452%2015.7452C14.2215%2017.269%2012.1549%2018.125%2010%2018.125C7.84512%2018.125%205.77849%2017.269%204.25476%2015.7452C2.73102%2014.2215%201.875%2012.1549%201.875%2010C1.875%207.84512%202.73102%205.77849%204.25476%204.25476C5.77849%202.73102%207.84512%201.875%2010%201.875C12.1549%201.875%2014.2215%202.73102%2015.7452%204.25476C17.269%205.77849%2018.125%207.84512%2018.125%2010Z'%20stroke='black'/%3e%3c/svg%3e",dE="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%201.875C5.52%201.875%201.875%205.52%201.875%2010C1.875%2014.48%205.52%2018.125%2010%2018.125C14.48%2018.125%2018.125%2014.48%2018.125%2010C18.125%205.52%2014.48%201.875%2010%201.875ZM10%203.125C13.8044%203.125%2016.875%206.19563%2016.875%2010C16.875%2013.8044%2013.8044%2016.875%2010%2016.875C6.19563%2016.875%203.125%2013.8044%203.125%2010C3.125%206.19563%206.19563%203.125%2010%203.125ZM9.375%206.25V9.375H6.25V10.625H9.375V13.75H10.625V10.625H13.75V9.375H10.625V6.25H9.375Z'%20fill='black'/%3e%3c/svg%3e",SC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACySURBVHgBzZPRDcIwDEQviAEYgRHYKDMwAekm2Qw2aDcwtoglK01CcfnoSZGdSPd0J7UgoshnJr+ewgiyALhinxYBkWyBBYfUf8Kf5AJxiFvrkTTeRkgslof1/5RIIDxyuQZXIpNElFb+GtTq34N0QdK7XOMWiAWdq3ftnU3IXObEn1rCoHtdLdFa6au/BjVgXQgG1T79uIKyh3WsR9Mc5l+TRDPPC/bpJYnussCvhc/0Bj0NPiP2GPfHAAAAAElFTkSuQmCC",RC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC5SURBVHgBrZRRDoMwCIbZ4vv0BHKzXcUjeEPZCdxOwFqDCcOSQfRLDKEU+FsbABow87N8Kx9ZagyiSILHmim0EV2v3OEibvUYxSKcgy5TtKEuFxM5uP/J6u+K3mJ7iINiSRcisSP8qlw839KJ/YgdGh3/+aQVnTnaSxciE0xjFT0gDoISYQsNEGdsFSITTNMZRfqyyey1Ph7Wy/vosyPCnQRqkGGgCLqNy+LEeWav08ztEWupeyad+wUNuhgEZrcRJQAAAABJRU5ErkJggg==",Oa=Uf((n,e)=>({cart:[],totalPrice:0,productDataList:[],addProductVisible:!1,isLoggedIn:!1,setLoginStatus:r=>{localStorage.setItem("isLoggedIn",r?"true":"false"),n({isLoggedIn:r})},switchAddProductVisible:r=>{n({addProductVisible:!!r})},setProductData:r=>n({productDataList:r}),addToCart:r=>{const{cart:i,totalPrice:o}=e();let l=i.find(f=>f.id===r.id);if(l!=null){const f=i.map(c=>c.id===l.id?{...c,price:c.price+r.price,quantity:c.quantity+1}:c);n(()=>({cart:f}))}else n(f=>({cart:[...f.cart,{id:r.id,price:r.price,quantity:1}]}));n(()=>({totalPrice:K0(o,"+",r.price)}))},removeFromCart:r=>{const{cart:i,totalPrice:o}=e();let l=i.find(f=>f.id===r.id);if(l){if(l.quantity>1){const f=i.map(c=>c.id===l.id?{...c,price:c.price-r.price,quantity:c.quantity-1}:c);n(()=>({cart:f}))}else{const f=i.filter(c=>c.id!==r.id);n(()=>({cart:f}))}n(()=>({totalPrice:K0(o,"-",r.price)}))}},removeProductItem:async r=>{const{productDataList:i}=e();n(o=>({productDataList:o.productDataList.filter(l=>l.id!==r)}))},updateProductItem:async(r,i)=>{const{productDataList:o}=e();n(l=>({productDataList:l.productDataList.map(f=>f.id===r?{...f,...i}:f)}))},addProductItem:async r=>{const{productDataList:i}=e();n(o=>({productDataList:[...o.productDataList,{...r,active:!1}]}))},toggleItemActive:async r=>n(i=>({productDataList:i.productDataList.map(o=>o.id===r?{...o,active:!o.active}:o)}))}));function K0(n,e,r){let i=n;return e==="-"?i-=Number(r):i+=Number(r),i}Uf(n=>({isOpen:!1,toggleMenu:()=>n(e=>({isOpen:!e.isOpen})),closeMenu:()=>n({isOpen:!1})}));Uf(n=>({name:"",description:"",price:"",img:"",setName:e=>n({name:e}),setDescription:e=>n({description:e}),setPrice:e=>n({price:e}),setImg:e=>n({img:e})}));var bm={exports:{}},X0;function xC(){return X0||(X0=1,function(n,e){(function(r,i){n.exports=i()})(self,()=>{return r={7629:(o,l,f)=>{const c=f(375),p=f(8571),g=f(9474),_=f(1687),d=f(8652),y=f(8160),E=f(3292),v=f(6354),b=f(8901),R=f(9708),w=f(6914),S=f(2294),x=f(6133),M=f(1152),k=f(8863),V=f(2036),I={Base:class{constructor(T){this.type=T,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new S.Ids,this._preferences=null,this._refs=new x.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return c(typeof R.describe=="function","Manifest functionality disabled"),R.describe(this)}allow(...T){return y.verifyFlat(T,"allow"),this._values(T,"_valids")}alter(T){c(T&&typeof T=="object"&&!Array.isArray(T),"Invalid targets argument"),c(!this._inRuleset(),"Cannot set alterations inside a ruleset");const C=this.clone();C.$_terms.alterations=C.$_terms.alterations||[];for(const O in T){const j=T[O];c(typeof j=="function","Alteration adjuster for",O,"must be a function"),C.$_terms.alterations.push({target:O,adjuster:j})}return C.$_temp.ruleset=!1,C}artifact(T){return c(T!==void 0,"Artifact cannot be undefined"),c(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",T)}cast(T){return c(T===!1||typeof T=="string","Invalid to value"),c(T===!1||this._definition.cast[T],"Type",this.type,"does not support casting to",T),this.$_setFlag("cast",T===!1?void 0:T)}default(T,C){return this._default("default",T,C)}description(T){return c(T&&typeof T=="string","Description must be a non-empty string"),this.$_setFlag("description",T)}empty(T){const C=this.clone();return T!==void 0&&(T=C.$_compile(T,{override:!1})),C.$_setFlag("empty",T,{clone:!1})}error(T){return c(T,"Missing error"),c(T instanceof Error||typeof T=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",T)}example(T,C={}){return c(T!==void 0,"Missing example"),y.assertOptions(C,["override"]),this._inner("examples",T,{single:!0,override:C.override})}external(T,C){return typeof T=="object"&&(c(!C,"Cannot combine options with description"),C=T.description,T=T.method),c(typeof T=="function","Method must be a function"),c(C===void 0||C&&typeof C=="string","Description must be a non-empty string"),this._inner("externals",{method:T,description:C},{single:!0})}failover(T,C){return this._default("failover",T,C)}forbidden(){return this.presence("forbidden")}id(T){return T?(c(typeof T=="string","id must be a non-empty string"),c(/^[^\.]+$/.test(T),"id cannot contain period character"),this.$_setFlag("id",T)):this.$_setFlag("id",void 0)}invalid(...T){return this._values(T,"_invalids")}label(T){return c(T&&typeof T=="string","Label name must be a non-empty string"),this.$_setFlag("label",T)}meta(T){return c(T!==void 0,"Meta cannot be undefined"),this._inner("metas",T,{single:!0})}note(...T){c(T.length,"Missing notes");for(const C of T)c(C&&typeof C=="string","Notes must be non-empty strings");return this._inner("notes",T)}only(T=!0){return c(typeof T=="boolean","Invalid mode:",T),this.$_setFlag("only",T)}optional(){return this.presence("optional")}prefs(T){c(T,"Missing preferences"),c(T.context===void 0,"Cannot override context"),c(T.externals===void 0,"Cannot override externals"),c(T.warnings===void 0,"Cannot override warnings"),c(T.debug===void 0,"Cannot override debug"),y.checkPreferences(T);const C=this.clone();return C._preferences=y.preferences(C._preferences,T),C}presence(T){return c(["optional","required","forbidden"].includes(T),"Unknown presence mode",T),this.$_setFlag("presence",T)}raw(T=!0){return this.$_setFlag("result",T?"raw":void 0)}result(T){return c(["raw","strip"].includes(T),"Unknown result mode",T),this.$_setFlag("result",T)}required(){return this.presence("required")}strict(T){const C=this.clone(),O=T!==void 0&&!T;return C._preferences=y.preferences(C._preferences,{convert:O}),C}strip(T=!0){return this.$_setFlag("result",T?"strip":void 0)}tag(...T){c(T.length,"Missing tags");for(const C of T)c(C&&typeof C=="string","Tags must be non-empty strings");return this._inner("tags",T)}unit(T){return c(T&&typeof T=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",T)}valid(...T){y.verifyFlat(T,"valid");const C=this.allow(...T);return C.$_setFlag("only",!!C._valids,{clone:!1}),C}when(T,C){const O=this.clone();O.$_terms.whens||(O.$_terms.whens=[]);const j=E.when(O,T,C);if(!["any","link"].includes(O.type)){const $=j.is?[j]:j.switch;for(const U of $)c(!U.then||U.then.type==="any"||U.then.type===O.type,"Cannot combine",O.type,"with",U.then&&U.then.type),c(!U.otherwise||U.otherwise.type==="any"||U.otherwise.type===O.type,"Cannot combine",O.type,"with",U.otherwise&&U.otherwise.type)}return O.$_terms.whens.push(j),O.$_mutateRebuild()}cache(T){c(!this._inRuleset(),"Cannot set caching inside a ruleset"),c(!this._cache,"Cannot override schema cache"),c(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const C=this.clone();return C._cache=T||d.provider.provision(),C.$_temp.ruleset=!1,C}clone(){const T=Object.create(Object.getPrototypeOf(this));return this._assign(T)}concat(T){c(y.isSchema(T),"Invalid schema object"),c(this.type==="any"||T.type==="any"||T.type===this.type,"Cannot merge type",this.type,"with another type:",T.type),c(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),c(!T._inRuleset(),"Cannot concatenate a schema with open ruleset");let C=this.clone();if(this.type==="any"&&T.type!=="any"){const O=T.clone();for(const j of Object.keys(C))j!=="type"&&(O[j]=C[j]);C=O}C._ids.concat(T._ids),C._refs.register(T,x.toSibling),C._preferences=C._preferences?y.preferences(C._preferences,T._preferences):T._preferences,C._valids=V.merge(C._valids,T._valids,T._invalids),C._invalids=V.merge(C._invalids,T._invalids,T._valids);for(const O of T._singleRules.keys())C._singleRules.has(O)&&(C._rules=C._rules.filter(j=>j.keep||j.name!==O),C._singleRules.delete(O));for(const O of T._rules)T._definition.rules[O.method].multi||C._singleRules.set(O.name,O),C._rules.push(O);if(C._flags.empty&&T._flags.empty){C._flags.empty=C._flags.empty.concat(T._flags.empty);const O=Object.assign({},T._flags);delete O.empty,_(C._flags,O)}else if(T._flags.empty){C._flags.empty=T._flags.empty;const O=Object.assign({},T._flags);delete O.empty,_(C._flags,O)}else _(C._flags,T._flags);for(const O in T.$_terms){const j=T.$_terms[O];j?C.$_terms[O]?C.$_terms[O]=C.$_terms[O].concat(j):C.$_terms[O]=j.slice():C.$_terms[O]||(C.$_terms[O]=j)}return this.$_root._tracer&&this.$_root._tracer._combine(C,[this,T]),C.$_mutateRebuild()}extend(T){return c(!T.base,"Cannot extend type with another base"),b.type(this,T)}extract(T){return T=Array.isArray(T)?T:T.split("."),this._ids.reach(T)}fork(T,C){c(!this._inRuleset(),"Cannot fork inside a ruleset");let O=this;for(let j of[].concat(T))j=Array.isArray(j)?j:j.split("."),O=O._ids.fork(j,C,O);return O.$_temp.ruleset=!1,O}rule(T){const C=this._definition;y.assertOptions(T,Object.keys(C.modifiers)),c(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const O=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;c(O>=0&&O<this._rules.length,"Cannot apply rules to empty ruleset");const j=this.clone();for(let $=O;$<j._rules.length;++$){const U=j._rules[$],he=p(U);for(const pe in T)C.modifiers[pe](he,T[pe]),c(he.name===U.name,"Cannot change rule name");j._rules[$]=he,j._singleRules.get(he.name)===U&&j._singleRules.set(he.name,he)}return j.$_temp.ruleset=!1,j.$_mutateRebuild()}get ruleset(){c(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const T=this.clone();return T.$_temp.ruleset=T._rules.length,T}get $(){return this.ruleset}tailor(T){T=[].concat(T),c(!this._inRuleset(),"Cannot tailor inside a ruleset");let C=this;if(this.$_terms.alterations)for(const{target:O,adjuster:j}of this.$_terms.alterations)T.includes(O)&&(C=j(C),c(y.isSchema(C),"Alteration adjuster for",O,"failed to return a schema object"));return C=C.$_modify({each:O=>O.tailor(T),ref:!1}),C.$_temp.ruleset=!1,C.$_mutateRebuild()}tracer(){return M.location?M.location(this):this}validate(T,C){return k.entry(T,this,C)}validateAsync(T,C){return k.entryAsync(T,this,C)}$_addRule(T){typeof T=="string"&&(T={name:T}),c(T&&typeof T=="object","Invalid options"),c(T.name&&typeof T.name=="string","Invalid rule name");for(const U in T)c(U[0]!=="_","Cannot set private rule properties");const C=Object.assign({},T);C._resolve=[],C.method=C.method||C.name;const O=this._definition.rules[C.method],j=C.args;c(O,"Unknown rule",C.method);const $=this.clone();if(j){c(Object.keys(j).length===1||Object.keys(j).length===this._definition.rules[C.name].args.length,"Invalid rule definition for",this.type,C.name);for(const U in j){let he=j[U];if(O.argsByName){const pe=O.argsByName.get(U);if(pe.ref&&y.isResolvable(he))C._resolve.push(U),$.$_mutateRegister(he);else if(pe.normalize&&(he=pe.normalize(he),j[U]=he),pe.assert){const Y=y.validateArg(he,U,pe);c(!Y,Y,"or reference")}}he!==void 0?j[U]=he:delete j[U]}}return O.multi||($._ruleRemove(C.name,{clone:!1}),$._singleRules.set(C.name,C)),$.$_temp.ruleset===!1&&($.$_temp.ruleset=null),O.priority?$._rules.unshift(C):$._rules.push(C),$}$_compile(T,C){return E.schema(this.$_root,T,C)}$_createError(T,C,O,j,$,U={}){const he=U.flags!==!1?this._flags:{},pe=U.messages?w.merge(this._definition.messages,U.messages):this._definition.messages;return new v.Report(T,C,O,he,pe,j,$)}$_getFlag(T){return this._flags[T]}$_getRule(T){return this._singleRules.get(T)}$_mapLabels(T){return T=Array.isArray(T)?T:T.split("."),this._ids.labels(T)}$_match(T,C,O,j){(O=Object.assign({},O)).abortEarly=!0,O._externals=!1,C.snapshot();const $=!k.validate(T,this,C,O,j).errors;return C.restore(),$}$_modify(T){return y.assertOptions(T,["each","once","ref","schema"]),S.schema(this,T)||this}$_mutateRebuild(){return c(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(T,{source:C,name:O,path:j,key:$})=>{const U=this._definition[C][O]&&this._definition[C][O].register;U!==!1&&this.$_mutateRegister(T,{family:U,key:$})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(T,{family:C,key:O}={}){this._refs.register(T,C),this._ids.register(T,{key:O})}$_property(T){return this._definition.properties[T]}$_reach(T){return this._ids.reach(T)}$_rootReferences(){return this._refs.roots()}$_setFlag(T,C,O={}){c(T[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const j=this._definition.flags[T]||{};if(g(C,j.default)&&(C=void 0),g(C,this._flags[T]))return this;const $=O.clone!==!1?this.clone():this;return C!==void 0?($._flags[T]=C,$.$_mutateRegister(C)):delete $._flags[T],T[0]!=="_"&&($.$_temp.ruleset=!1),$}$_parent(T,...C){return this[T][y.symbols.parent].call(this,...C)}$_validate(T,C,O){return k.validate(T,this,C,O)}_assign(T){T.type=this.type,T.$_root=this.$_root,T.$_temp=Object.assign({},this.$_temp),T.$_temp.whens={},T._ids=this._ids.clone(),T._preferences=this._preferences,T._valids=this._valids&&this._valids.clone(),T._invalids=this._invalids&&this._invalids.clone(),T._rules=this._rules.slice(),T._singleRules=p(this._singleRules,{shallow:!0}),T._refs=this._refs.clone(),T._flags=Object.assign({},this._flags),T._cache=null,T.$_terms={};for(const C in this.$_terms)T.$_terms[C]=this.$_terms[C]?this.$_terms[C].slice():null;T.$_super={};for(const C in this.$_super)T.$_super[C]=this._super[C].bind(T);return T}_bare(){const T=this.clone();T._reset();const C=T._definition.terms;for(const O in C){const j=C[O];T.$_terms[O]=j.init}return T.$_mutateRebuild()}_default(T,C,O={}){return y.assertOptions(O,"literal"),c(C!==void 0,"Missing",T,"value"),c(typeof C=="function"||!O.literal,"Only function value supports literal option"),typeof C=="function"&&O.literal&&(C={[y.symbols.literal]:!0,literal:C}),this.$_setFlag(T,C)}_generate(T,C,O){if(!this.$_terms.whens)return{schema:this};const j=[],$=[];for(let pe=0;pe<this.$_terms.whens.length;++pe){const Y=this.$_terms.whens[pe];if(Y.concat){j.push(Y.concat),$.push(`${pe}.concat`);continue}const se=Y.ref?Y.ref.resolve(T,C,O):T,ve=Y.is?[Y]:Y.switch,xe=$.length;for(let B=0;B<ve.length;++B){const{is:re,then:me,otherwise:ce}=ve[B],be=`${pe}${Y.switch?"."+B:""}`;if(re.$_match(se,C.nest(re,`${be}.is`),O)){if(me){const Ue=C.localize([...C.path,`${be}.then`],C.ancestors,C.schemas),{schema:Ce,id:St}=me._generate(T,Ue,O);j.push(Ce),$.push(`${be}.then${St?`(${St})`:""}`);break}}else if(ce){const Ue=C.localize([...C.path,`${be}.otherwise`],C.ancestors,C.schemas),{schema:Ce,id:St}=ce._generate(T,Ue,O);j.push(Ce),$.push(`${be}.otherwise${St?`(${St})`:""}`);break}}if(Y.break&&$.length>xe)break}const U=$.join(", ");if(C.mainstay.tracer.debug(C,"rule","when",U),!U)return{schema:this};if(!C.mainstay.tracer.active&&this.$_temp.whens[U])return{schema:this.$_temp.whens[U],id:U};let he=this;this._definition.generate&&(he=this._definition.generate(this,T,C,O));for(const pe of j)he=he.concat(pe);return this.$_root._tracer&&this.$_root._tracer._combine(he,[this,...j]),this.$_temp.whens[U]=he,{schema:he,id:U}}_inner(T,C,O={}){c(!this._inRuleset(),`Cannot set ${T} inside a ruleset`);const j=this.clone();return j.$_terms[T]&&!O.override||(j.$_terms[T]=[]),O.single?j.$_terms[T].push(C):j.$_terms[T].push(...C),j.$_temp.ruleset=!1,j}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(T,C={}){if(!this._singleRules.has(T))return this;const O=C.clone!==!1?this.clone():this;O._singleRules.delete(T);const j=[];for(let $=0;$<O._rules.length;++$){const U=O._rules[$];U.name!==T||U.keep?j.push(U):O._inRuleset()&&$<O.$_temp.ruleset&&--O.$_temp.ruleset}return O._rules=j,O}_values(T,C){y.verifyFlat(T,C.slice(1,-1));const O=this.clone(),j=T[0]===y.symbols.override;if(j&&(T=T.slice(1)),!O[C]&&T.length?O[C]=new V:j&&(O[C]=T.length?new V:null,O.$_mutateRebuild()),!O[C])return O;j&&O[C].override();for(const $ of T){c($!==void 0,"Cannot call allow/valid/invalid with undefined"),c($!==y.symbols.override,"Override must be the first value");const U=C==="_invalids"?"_valids":"_invalids";O[U]&&(O[U].remove($),O[U].length||(c(C==="_valids"||!O._flags.only,"Setting invalid value",$,"leaves schema rejecting all values due to previous valid rule"),O[U]=null)),O[C].add($,O._refs)}return O}}};I.Base.prototype[y.symbols.any]={version:y.version,compile:E.compile,root:"$_root"},I.Base.prototype.isImmutable=!0,I.Base.prototype.deny=I.Base.prototype.invalid,I.Base.prototype.disallow=I.Base.prototype.invalid,I.Base.prototype.equal=I.Base.prototype.valid,I.Base.prototype.exist=I.Base.prototype.required,I.Base.prototype.not=I.Base.prototype.invalid,I.Base.prototype.options=I.Base.prototype.prefs,I.Base.prototype.preferences=I.Base.prototype.prefs,o.exports=new I.Base},8652:(o,l,f)=>{const c=f(375),p=f(8571),g=f(8160),_={max:1e3,supported:new Set(["undefined","boolean","number","string"])};l.provider={provision:d=>new _.Cache(d)},_.Cache=class{constructor(d={}){g.assertOptions(d,["max"]),c(d.max===void 0||d.max&&d.max>0&&isFinite(d.max),"Invalid max cache size"),this._max=d.max||_.max,this._map=new Map,this._list=new _.List}get length(){return this._map.size}set(d,y){if(d!==null&&!_.supported.has(typeof d))return;let E=this._map.get(d);if(E)return E.value=y,void this._list.first(E);E=this._list.unshift({key:d,value:y}),this._map.set(d,E),this._compact()}get(d){const y=this._map.get(d);if(y)return this._list.first(y),p(y.value)}_compact(){if(this._map.size>this._max){const d=this._list.pop();this._map.delete(d.key)}}},_.List=class{constructor(){this.tail=null,this.head=null}unshift(d){return d.next=null,d.prev=this.head,this.head&&(this.head.next=d),this.head=d,this.tail||(this.tail=d),d}first(d){d!==this.head&&(this._remove(d),this.unshift(d))}pop(){return this._remove(this.tail)}_remove(d){const{next:y,prev:E}=d;return y.prev=E,E&&(E.next=y),d===this.tail&&(this.tail=y),d.prev=null,d.next=null,d}}},8160:(o,l,f)=>{const c=f(375),p=f(7916),g=f(5934);let _,d;const y={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};l.version=g.version,l.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},l.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},l.assertOptions=function(E,v,b="Options"){c(E&&typeof E=="object"&&!Array.isArray(E),"Options must be of type object");const R=Object.keys(E).filter(w=>!v.includes(w));c(R.length===0,`${b} contain unknown keys: ${R}`)},l.checkPreferences=function(E){d=d||f(3378);const v=d.preferences.validate(E);if(v.error)throw new p([v.error.details[0].message])},l.compare=function(E,v,b){switch(b){case"=":return E===v;case">":return E>v;case"<":return E<v;case">=":return E>=v;case"<=":return E<=v}},l.default=function(E,v){return E===void 0?v:E},l.isIsoDate=function(E){return y.isoDate.test(E)},l.isNumber=function(E){return typeof E=="number"&&!isNaN(E)},l.isResolvable=function(E){return!!E&&(E[l.symbols.ref]||E[l.symbols.template])},l.isSchema=function(E,v={}){const b=E&&E[l.symbols.any];return!!b&&(c(v.legacy||b.version===l.version,"Cannot mix different versions of joi schemas"),!0)},l.isValues=function(E){return E[l.symbols.values]},l.limit=function(E){return Number.isSafeInteger(E)&&E>=0},l.preferences=function(E,v){_=_||f(6914),E=E||{},v=v||{};const b=Object.assign({},E,v);return v.errors&&E.errors&&(b.errors=Object.assign({},E.errors,v.errors),b.errors.wrap=Object.assign({},E.errors.wrap,v.errors.wrap)),v.messages&&(b.messages=_.compile(v.messages,E.messages)),delete b[l.symbols.prefs],b},l.tryWithPath=function(E,v,b={}){try{return E()}catch(R){throw R.path!==void 0?R.path=v+"."+R.path:R.path=v,b.append&&(R.message=`${R.message} (${R.path})`),R}},l.validateArg=function(E,v,{assert:b,message:R}){if(l.isSchema(b)){const w=b.validate(E);return w.error?w.error.message:void 0}if(!b(E))return v?`${v} ${R}`:R},l.verifyFlat=function(E,v){for(const b of E)c(!Array.isArray(b),"Method no longer accepts array arguments:",v)}},3292:(o,l,f)=>{const c=f(375),p=f(8160),g=f(6133),_={};l.schema=function(d,y,E={}){p.assertOptions(E,["appendPath","override"]);try{return _.schema(d,y,E)}catch(v){throw E.appendPath&&v.path!==void 0&&(v.message=`${v.message} (${v.path})`),v}},_.schema=function(d,y,E){c(y!==void 0,"Invalid undefined schema"),Array.isArray(y)&&(c(y.length,"Invalid empty array schema"),y.length===1&&(y=y[0]));const v=(b,...R)=>E.override!==!1?b.valid(d.override,...R):b.valid(...R);if(_.simple(y))return v(d,y);if(typeof y=="function")return d.custom(y);if(c(typeof y=="object","Invalid schema content:",typeof y),p.isResolvable(y))return v(d,y);if(p.isSchema(y))return y;if(Array.isArray(y)){for(const b of y)if(!_.simple(b))return d.alternatives().try(...y);return v(d,...y)}return y instanceof RegExp?d.string().regex(y):y instanceof Date?v(d.date(),y):(c(Object.getPrototypeOf(y)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),d.object().keys(y))},l.ref=function(d,y){return g.isRef(d)?d:g.create(d,y)},l.compile=function(d,y,E={}){p.assertOptions(E,["legacy"]);const v=y&&y[p.symbols.any];if(v)return c(E.legacy||v.version===p.version,"Cannot mix different versions of joi schemas:",v.version,p.version),y;if(typeof y!="object"||!E.legacy)return l.schema(d,y,{appendPath:!0});const b=_.walk(y);return b?b.compile(b.root,y):l.schema(d,y,{appendPath:!0})},_.walk=function(d){if(typeof d!="object")return null;if(Array.isArray(d)){for(const E of d){const v=_.walk(E);if(v)return v}return null}const y=d[p.symbols.any];if(y)return{root:d[y.root],compile:y.compile};c(Object.getPrototypeOf(d)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const E in d){const v=_.walk(d[E]);if(v)return v}return null},_.simple=function(d){return d===null||["boolean","string","number"].includes(typeof d)},l.when=function(d,y,E){if(E===void 0&&(c(y&&typeof y=="object","Missing options"),E=y,y=g.create(".")),Array.isArray(E)&&(E={switch:E}),p.assertOptions(E,["is","not","then","otherwise","switch","break"]),p.isSchema(y))return c(E.is===void 0,'"is" can not be used with a schema condition'),c(E.not===void 0,'"not" can not be used with a schema condition'),c(E.switch===void 0,'"switch" can not be used with a schema condition'),_.condition(d,{is:y,then:E.then,otherwise:E.otherwise,break:E.break});if(c(g.isRef(y)||typeof y=="string","Invalid condition:",y),c(E.not===void 0||E.is===void 0,'Cannot combine "is" with "not"'),E.switch===void 0){let b=E;E.not!==void 0&&(b={is:E.not,then:E.otherwise,otherwise:E.then,break:E.break});let R=b.is!==void 0?d.$_compile(b.is):d.$_root.invalid(null,!1,0,"").required();return c(b.then!==void 0||b.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),c(b.break===void 0||b.then===void 0||b.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),E.is===void 0||g.isRef(E.is)||p.isSchema(E.is)||(R=R.required()),_.condition(d,{ref:l.ref(y),is:R,then:b.then,otherwise:b.otherwise,break:b.break})}c(Array.isArray(E.switch),'"switch" must be an array'),c(E.is===void 0,'Cannot combine "switch" with "is"'),c(E.not===void 0,'Cannot combine "switch" with "not"'),c(E.then===void 0,'Cannot combine "switch" with "then"');const v={ref:l.ref(y),switch:[],break:E.break};for(let b=0;b<E.switch.length;++b){const R=E.switch[b],w=b===E.switch.length-1;p.assertOptions(R,w?["is","then","otherwise"]:["is","then"]),c(R.is!==void 0,'Switch statement missing "is"'),c(R.then!==void 0,'Switch statement missing "then"');const S={is:d.$_compile(R.is),then:d.$_compile(R.then)};if(g.isRef(R.is)||p.isSchema(R.is)||(S.is=S.is.required()),w){c(E.otherwise===void 0||R.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const x=E.otherwise!==void 0?E.otherwise:R.otherwise;x!==void 0&&(c(v.break===void 0,"Cannot specify both otherwise and break"),S.otherwise=d.$_compile(x))}v.switch.push(S)}return v},_.condition=function(d,y){for(const E of["then","otherwise"])y[E]===void 0?delete y[E]:y[E]=d.$_compile(y[E]);return y}},6354:(o,l,f)=>{const c=f(5688),p=f(8160),g=f(3328);l.Report=class{constructor(_,d,y,E,v,b,R){if(this.code=_,this.flags=E,this.messages=v,this.path=b.path,this.prefs=R,this.state=b,this.value=d,this.message=null,this.template=null,this.local=y||{},this.local.label=l.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const w=this.path[this.path.length-1];typeof w!="object"&&(this.local.key=w)}}_setTemplate(_){if(this.template=_,!this.flags.label&&this.path.length===0){const d=this._template(this.template,"root");d&&(this.local.label=d)}}toString(){if(this.message)return this.message;const _=this.code;if(!this.prefs.errors.render)return this.code;const d=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return d===void 0?`Error code "${_}" is not defined, your custom type is missing the correct messages definition`:(this.message=d.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(_,d){return l.template(this.value,_,d||this.code,this.state,this.prefs)}},l.path=function(_){let d="";for(const y of _)typeof y!="object"&&(typeof y=="string"?(d&&(d+="."),d+=y):d+=`[${y}]`);return d},l.template=function(_,d,y,E,v){if(!d)return;if(g.isTemplate(d))return y!=="root"?d:null;let b=v.errors.language;if(p.isResolvable(b)&&(b=b.resolve(_,E,v)),b&&d[b]){if(d[b][y]!==void 0)return d[b][y];if(d[b]["*"]!==void 0)return d[b]["*"]}return d[y]?d[y]:d["*"]},l.label=function(_,d,y,E){if(!y.errors.label)return"";if(_.label)return _.label;let v=d.path;return y.errors.label==="key"&&d.path.length>1&&(v=d.path.slice(-1)),l.path(v)||l.template(null,y.messages,"root",d,y)||E&&l.template(null,E,"root",d,y)||"value"},l.process=function(_,d,y){if(!_)return null;const{override:E,message:v,details:b}=l.details(_);if(E)return E;if(y.errors.stack)return new l.ValidationError(v,b,d);const R=Error.stackTraceLimit;Error.stackTraceLimit=0;const w=new l.ValidationError(v,b,d);return Error.stackTraceLimit=R,w},l.details=function(_,d={}){let y=[];const E=[];for(const v of _){if(v instanceof Error){if(d.override!==!1)return{override:v};const R=v.toString();y.push(R),E.push({message:R,type:"override",context:{error:v}});continue}const b=v.toString();y.push(b),E.push({message:b,path:v.path.filter(R=>typeof R!="object"),type:v.code,context:v.local})}return y.length>1&&(y=[...new Set(y)]),{message:y.join(". "),details:E}},l.ValidationError=class extends Error{constructor(_,d,y){super(_),this._original=y,this.details=d}static isError(_){return _ instanceof l.ValidationError}},l.ValidationError.prototype.isJoi=!0,l.ValidationError.prototype.name="ValidationError",l.ValidationError.prototype.annotate=c.error},8901:(o,l,f)=>{const c=f(375),p=f(8571),g=f(8160),_=f(6914),d={};l.type=function(y,E){const v=Object.getPrototypeOf(y),b=p(v),R=y._assign(Object.create(b)),w=Object.assign({},E);delete w.base,b._definition=w;const S=v._definition||{};w.messages=_.merge(S.messages,w.messages),w.properties=Object.assign({},S.properties,w.properties),R.type=w.type,w.flags=Object.assign({},S.flags,w.flags);const x=Object.assign({},S.terms);if(w.terms)for(const I in w.terms){const T=w.terms[I];c(R.$_terms[I]===void 0,"Invalid term override for",w.type,I),R.$_terms[I]=T.init,x[I]=T}w.terms=x,w.args||(w.args=S.args),w.prepare=d.prepare(w.prepare,S.prepare),w.coerce&&(typeof w.coerce=="function"&&(w.coerce={method:w.coerce}),w.coerce.from&&!Array.isArray(w.coerce.from)&&(w.coerce={method:w.coerce.method,from:[].concat(w.coerce.from)})),w.coerce=d.coerce(w.coerce,S.coerce),w.validate=d.validate(w.validate,S.validate);const M=Object.assign({},S.rules);if(w.rules)for(const I in w.rules){const T=w.rules[I];c(typeof T=="object","Invalid rule definition for",w.type,I);let C=T.method;if(C===void 0&&(C=function(){return this.$_addRule(I)}),C&&(c(!b[I],"Rule conflict in",w.type,I),b[I]=C),c(!M[I],"Rule conflict in",w.type,I),M[I]=T,T.alias){const O=[].concat(T.alias);for(const j of O)b[j]=T.method}T.args&&(T.argsByName=new Map,T.args=T.args.map(O=>(typeof O=="string"&&(O={name:O}),c(!T.argsByName.has(O.name),"Duplicated argument name",O.name),g.isSchema(O.assert)&&(O.assert=O.assert.strict().label(O.name)),T.argsByName.set(O.name,O),O)))}w.rules=M;const k=Object.assign({},S.modifiers);if(w.modifiers)for(const I in w.modifiers){c(!b[I],"Rule conflict in",w.type,I);const T=w.modifiers[I];c(typeof T=="function","Invalid modifier definition for",w.type,I);const C=function(O){return this.rule({[I]:O})};b[I]=C,k[I]=T}if(w.modifiers=k,w.overrides){b._super=v,R.$_super={};for(const I in w.overrides)c(v[I],"Cannot override missing",I),w.overrides[I][g.symbols.parent]=v[I],R.$_super[I]=v[I].bind(R);Object.assign(b,w.overrides)}w.cast=Object.assign({},S.cast,w.cast);const V=Object.assign({},S.manifest,w.manifest);return V.build=d.build(w.manifest&&w.manifest.build,S.manifest&&S.manifest.build),w.manifest=V,w.rebuild=d.rebuild(w.rebuild,S.rebuild),R},d.build=function(y,E){return y&&E?function(v,b){return E(y(v,b),b)}:y||E},d.coerce=function(y,E){return y&&E?{from:y.from&&E.from?[...new Set([...y.from,...E.from])]:null,method(v,b){let R;if((!E.from||E.from.includes(typeof v))&&(R=E.method(v,b),R)){if(R.errors||R.value===void 0)return R;v=R.value}if(!y.from||y.from.includes(typeof v)){const w=y.method(v,b);if(w)return w}return R}}:y||E},d.prepare=function(y,E){return y&&E?function(v,b){const R=y(v,b);if(R){if(R.errors||R.value===void 0)return R;v=R.value}return E(v,b)||R}:y||E},d.rebuild=function(y,E){return y&&E?function(v){E(v),y(v)}:y||E},d.validate=function(y,E){return y&&E?function(v,b){const R=E(v,b);if(R){if(R.errors&&(!Array.isArray(R.errors)||R.errors.length))return R;v=R.value}return y(v,b)||R}:y||E}},5107:(o,l,f)=>{const c=f(375),p=f(8571),g=f(8652),_=f(8160),d=f(3292),y=f(6354),E=f(8901),v=f(9708),b=f(6133),R=f(3328),w=f(1152);let S;const x={types:{alternatives:f(4946),any:f(8068),array:f(546),boolean:f(4937),date:f(7500),function:f(390),link:f(8785),number:f(3832),object:f(8966),string:f(7417),symbol:f(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const M={_types:new Set(Object.keys(x.types))};for(const k of M._types)M[k]=function(...V){return c(!V.length||["alternatives","link","object"].includes(k),"The",k,"type does not allow arguments"),x.generate(this,x.types[k],V)};for(const k of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])M[k]=function(...V){return this.any()[k](...V)};Object.assign(M,x.methods);for(const k in x.aliases){const V=x.aliases[k];M[k]=M[V]}return M.x=M.expression,w.setup&&w.setup(M),M}};x.methods={ValidationError:y.ValidationError,version:_.version,cache:g.provider,assert(M,k,...V){x.assert(M,k,!0,V)},attempt:(M,k,...V)=>x.assert(M,k,!1,V),build(M){return c(typeof v.build=="function","Manifest functionality disabled"),v.build(this,M)},checkPreferences(M){_.checkPreferences(M)},compile(M,k){return d.compile(this,M,k)},defaults(M){c(typeof M=="function","modifier must be a function");const k=Object.assign({},this);for(const V of k._types){const I=M(k[V]());c(_.isSchema(I),"modifier must return a valid schema object"),k[V]=function(...T){return x.generate(this,I,T)}}return k},expression:(...M)=>new R(...M),extend(...M){_.verifyFlat(M,"extend"),S=S||f(3378),c(M.length,"You need to provide at least one extension"),this.assert(M,S.extensions);const k=Object.assign({},this);k._types=new Set(k._types);for(let V of M){typeof V=="function"&&(V=V(k)),this.assert(V,S.extension);const I=x.expandExtension(V,k);for(const T of I){c(k[T.type]===void 0||k._types.has(T.type),"Cannot override name",T.type);const C=T.base||this.any(),O=E.type(C,T);k._types.add(T.type),k[T.type]=function(...j){return x.generate(this,O,j)}}}return k},isError:y.ValidationError.isError,isExpression:R.isTemplate,isRef:b.isRef,isSchema:_.isSchema,in:(...M)=>b.in(...M),override:_.symbols.override,ref:(...M)=>b.create(...M),types(){const M={};for(const k of this._types)M[k]=this[k]();for(const k in x.aliases)M[k]=this[k]();return M}},x.assert=function(M,k,V,I){const T=I[0]instanceof Error||typeof I[0]=="string"?I[0]:null,C=T!==null?I[1]:I[0],O=k.validate(M,_.preferences({errors:{stack:!0}},C||{}));let j=O.error;if(!j)return O.value;if(T instanceof Error)throw T;const $=V&&typeof j.annotate=="function"?j.annotate():j.message;throw j instanceof y.ValidationError==0&&(j=p(j)),j.message=T?`${T} ${$}`:$,j},x.generate=function(M,k,V){return c(M,"Must be invoked on a Joi instance."),k.$_root=M,k._definition.args&&V.length?k._definition.args(k,...V):k},x.expandExtension=function(M,k){if(typeof M.type=="string")return[M];const V=[];for(const I of k._types)if(M.type.test(I)){const T=Object.assign({},M);T.type=I,T.base=k[I](),V.push(T)}return V},o.exports=x.root()},6914:(o,l,f)=>{const c=f(375),p=f(8571),g=f(3328);l.compile=function(_,d){if(typeof _=="string")return c(!d,"Cannot set single message string"),new g(_);if(g.isTemplate(_))return c(!d,"Cannot set single message template"),_;c(typeof _=="object"&&!Array.isArray(_),"Invalid message options"),d=d?p(d):{};for(let y in _){const E=_[y];if(y==="root"||g.isTemplate(E)){d[y]=E;continue}if(typeof E=="string"){d[y]=new g(E);continue}c(typeof E=="object"&&!Array.isArray(E),"Invalid message for",y);const v=y;for(y in d[v]=d[v]||{},E){const b=E[y];y==="root"||g.isTemplate(b)?d[v][y]=b:(c(typeof b=="string","Invalid message for",y,"in",v),d[v][y]=new g(b))}}return d},l.decompile=function(_){const d={};for(let y in _){const E=_[y];if(y==="root"){d.root=E;continue}if(g.isTemplate(E)){d[y]=E.describe({compact:!0});continue}const v=y;for(y in d[v]={},E){const b=E[y];y!=="root"?d[v][y]=b.describe({compact:!0}):d[v].root=b}}return d},l.merge=function(_,d){if(!_)return l.compile(d);if(!d)return _;if(typeof d=="string")return new g(d);if(g.isTemplate(d))return d;const y=p(_);for(let E in d){const v=d[E];if(E==="root"||g.isTemplate(v)){y[E]=v;continue}if(typeof v=="string"){y[E]=new g(v);continue}c(typeof v=="object"&&!Array.isArray(v),"Invalid message for",E);const b=E;for(E in y[b]=y[b]||{},v){const R=v[E];E==="root"||g.isTemplate(R)?y[b][E]=R:(c(typeof R=="string","Invalid message for",E,"in",b),y[b][E]=new g(R))}}return y}},2294:(o,l,f)=>{const c=f(375),p=f(8160),g=f(6133),_={};l.Ids=_.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const d=new _.Ids;return d._byId=new Map(this._byId),d._byKey=new Map(this._byKey),d._schemaChain=this._schemaChain,d}concat(d){d._schemaChain&&(this._schemaChain=!0);for(const[y,E]of d._byId.entries())c(!this._byKey.has(y),"Schema id conflicts with existing key:",y),this._byId.set(y,E);for(const[y,E]of d._byKey.entries())c(!this._byId.has(y),"Schema key conflicts with existing id:",y),this._byKey.set(y,E)}fork(d,y,E){const v=this._collect(d);v.push({schema:E});const b=v.shift();let R={id:b.id,schema:y(b.schema)};c(p.isSchema(R.schema),"adjuster function failed to return a joi schema type");for(const w of v)R={id:w.id,schema:_.fork(w.schema,R.id,R.schema)};return R.schema}labels(d,y=[]){const E=d[0],v=this._get(E);if(!v)return[...y,...d].join(".");const b=d.slice(1);return y=[...y,v.schema._flags.label||E],b.length?v.schema._ids.labels(b,y):y.join(".")}reach(d,y=[]){const E=d[0],v=this._get(E);c(v,"Schema does not contain path",[...y,...d].join("."));const b=d.slice(1);return b.length?v.schema._ids.reach(b,[...y,E]):v.schema}register(d,{key:y}={}){if(!d||!p.isSchema(d))return;(d.$_property("schemaChain")||d._ids._schemaChain)&&(this._schemaChain=!0);const E=d._flags.id;if(E){const v=this._byId.get(E);c(!v||v.schema===d,"Cannot add different schemas with the same id:",E),c(!this._byKey.has(E),"Schema id conflicts with existing key:",E),this._byId.set(E,{schema:d,id:E})}y&&(c(!this._byKey.has(y),"Schema already contains key:",y),c(!this._byId.has(y),"Schema key conflicts with existing id:",y),this._byKey.set(y,{schema:d,id:y}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(d,y=[],E=[]){const v=d[0],b=this._get(v);c(b,"Schema does not contain path",[...y,...d].join(".")),E=[b,...E];const R=d.slice(1);return R.length?b.schema._ids._collect(R,[...y,v],E):E}_get(d){return this._byId.get(d)||this._byKey.get(d)}},_.fork=function(d,y,E){const v=l.schema(d,{each:(b,{key:R})=>{if(y===(b._flags.id||R))return E},ref:!1});return v?v.$_mutateRebuild():d},l.schema=function(d,y){let E;for(const v in d._flags){if(v[0]==="_")continue;const b=_.scan(d._flags[v],{source:"flags",name:v},y);b!==void 0&&(E=E||d.clone(),E._flags[v]=b)}for(let v=0;v<d._rules.length;++v){const b=d._rules[v],R=_.scan(b.args,{source:"rules",name:b.name},y);if(R!==void 0){E=E||d.clone();const w=Object.assign({},b);w.args=R,E._rules[v]=w,E._singleRules.get(b.name)===b&&E._singleRules.set(b.name,w)}}for(const v in d.$_terms){if(v[0]==="_")continue;const b=_.scan(d.$_terms[v],{source:"terms",name:v},y);b!==void 0&&(E=E||d.clone(),E.$_terms[v]=b)}return E},_.scan=function(d,y,E,v,b){const R=v||[];if(d===null||typeof d!="object")return;let w;if(Array.isArray(d)){for(let S=0;S<d.length;++S){const x=y.source==="terms"&&y.name==="keys"&&d[S].key,M=_.scan(d[S],y,E,[S,...R],x);M!==void 0&&(w=w||d.slice(),w[S]=M)}return w}if(E.schema!==!1&&p.isSchema(d)||E.ref!==!1&&g.isRef(d)){const S=E.each(d,{...y,path:R,key:b});return S===d?void 0:S}for(const S in d){if(S[0]==="_")continue;const x=_.scan(d[S],y,E,[S,...R],b);x!==void 0&&(w=w||Object.assign({},d),w[S]=x)}return w}},6133:(o,l,f)=>{const c=f(375),p=f(8571),g=f(9621),_=f(8160);let d;const y={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};l.create=function(E,v={}){c(typeof E=="string","Invalid reference key:",E),_.assertOptions(v,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),c(!v.prefix||typeof v.prefix=="object","options.prefix must be of type object");const b=Object.assign({},y.defaults,v);delete b.prefix;const R=b.separator,w=y.context(E,R,v.prefix);if(b.type=w.type,E=w.key,b.type==="value")if(w.root&&(c(!R||E[0]!==R,"Cannot specify relative path with root prefix"),b.ancestor="root",E||(E=null)),R&&R===E)E=null,b.ancestor=0;else if(b.ancestor!==void 0)c(!R||!E||E[0]!==R,"Cannot combine prefix with ancestor option");else{const[S,x]=y.ancestor(E,R);x&&(E=E.slice(x))===""&&(E=null),b.ancestor=S}return b.path=R?E===null?[]:E.split(R):[E],new y.Ref(b)},l.in=function(E,v={}){return l.create(E,{...v,in:!0})},l.isRef=function(E){return!!E&&!!E[_.symbols.ref]},y.Ref=class{constructor(E){c(typeof E=="object","Invalid reference construction"),_.assertOptions(E,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),c([!1,void 0].includes(E.separator)||typeof E.separator=="string"&&E.separator.length===1,"Invalid separator"),c(!E.adjust||typeof E.adjust=="function","options.adjust must be a function"),c(!E.map||Array.isArray(E.map),"options.map must be an array"),c(!E.map||!E.adjust,"Cannot set both map and adjust options"),Object.assign(this,y.defaults,E),c(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(E,v,b,R,w={}){return c(!this.in||w.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(b.context,v,w):this.type==="local"?this._resolve(R,v,w):this.ancestor?this.ancestor==="root"?this._resolve(v.ancestors[v.ancestors.length-1],v,w):(c(this.ancestor<=v.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(v.ancestors[this.ancestor-1],v,w)):this._resolve(E,v,w)}_resolve(E,v,b){let R;if(this.type==="value"&&v.mainstay.shadow&&b.shadow!==!1&&(R=v.mainstay.shadow.get(this.absolute(v))),R===void 0&&(R=g(E,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(R=this.adjust(R)),this.map){const w=this.map.get(R);w!==void 0&&(R=w)}return v.mainstay&&v.mainstay.tracer.resolve(v,this,R),R}toString(){return this.display}absolute(E){return[...E.path.slice(0,-this.ancestor),...this.path]}clone(){return new y.Ref(this)}describe(){const E={path:this.path};this.type!=="value"&&(E.type=this.type),this.separator!=="."&&(E.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(E.ancestor=this.ancestor),this.map&&(E.map=[...this.map]);for(const v of["adjust","iterables","render"])this[v]!==null&&this[v]!==void 0&&(E[v]=this[v]);return this.in!==!1&&(E.in=!0),{ref:E}}updateDisplay(){const E=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${E}`);if(!this.separator)return void(this.display=`ref:${E}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${E}`);if(this.ancestor==="root")return void(this.display=`ref:root:${E}`);if(this.ancestor===1)return void(this.display=`ref:${E||".."}`);const v=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${v}${E||""}`}},y.Ref.prototype[_.symbols.ref]=!0,l.build=function(E){return(E=Object.assign({},y.defaults,E)).type==="value"&&E.ancestor===void 0&&(E.ancestor=1),new y.Ref(E)},y.context=function(E,v,b={}){if(E=E.trim(),b){const R=b.global===void 0?"$":b.global;if(R!==v&&E.startsWith(R))return{key:E.slice(R.length),type:"global"};const w=b.local===void 0?"#":b.local;if(w!==v&&E.startsWith(w))return{key:E.slice(w.length),type:"local"};const S=b.root===void 0?"/":b.root;if(S!==v&&E.startsWith(S))return{key:E.slice(S.length),type:"value",root:!0}}return{key:E,type:"value"}},y.ancestor=function(E,v){if(!v)return[1,0];if(E[0]!==v)return[1,0];if(E[1]!==v)return[0,1];let b=2;for(;E[b]===v;)++b;return[b-1,b]},l.toSibling=0,l.toParent=1,l.Manager=class{constructor(){this.refs=[]}register(E,v){if(E)if(v=v===void 0?l.toParent:v,Array.isArray(E))for(const b of E)this.register(b,v);else if(_.isSchema(E))for(const b of E._refs.refs)b.ancestor-v>=0&&this.refs.push({ancestor:b.ancestor-v,root:b.root});else l.isRef(E)&&E.type==="value"&&E.ancestor-v>=0&&this.refs.push({ancestor:E.ancestor-v,root:E.root}),d=d||f(3328),d.isTemplate(E)&&this.register(E.refs(),v)}get length(){return this.refs.length}clone(){const E=new l.Manager;return E.refs=p(this.refs),E}reset(){this.refs=[]}roots(){return this.refs.filter(E=>!E.ancestor).map(E=>E.root)}}},3378:(o,l,f)=>{const c=f(5107),p={};p.wrap=c.string().min(1).max(2).allow(!1),l.preferences=c.object({allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),context:c.object(),convert:c.boolean(),dateFormat:c.valid("date","iso","string","time","utc"),debug:c.boolean(),errors:{escapeHtml:c.boolean(),label:c.valid("path","key",!1),language:[c.string(),c.object().ref()],render:c.boolean(),stack:c.boolean(),wrap:{label:p.wrap,array:p.wrap,string:p.wrap}},externals:c.boolean(),messages:c.object(),noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:c.valid("required","optional","forbidden"),skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()}).strict(),p.nameRx=/^[a-zA-Z0-9]\w*$/,p.rule=c.object({alias:c.array().items(c.string().pattern(p.nameRx)).single(),args:c.array().items(c.string(),c.object({name:c.string().pattern(p.nameRx).required(),ref:c.boolean(),assert:c.alternatives([c.function(),c.object().schema()]).conditional("ref",{is:!0,then:c.required()}),normalize:c.function(),message:c.string().when("assert",{is:c.function(),then:c.required()})})),convert:c.boolean(),manifest:c.boolean(),method:c.function().allow(!1),multi:c.boolean(),validate:c.function()}),l.extension=c.object({type:c.alternatives([c.string(),c.object().regex()]).required(),args:c.function(),cast:c.object().pattern(p.nameRx,c.object({from:c.function().maxArity(1).required(),to:c.function().minArity(1).maxArity(2).required()})),base:c.object().schema().when("type",{is:c.object().regex(),then:c.forbidden()}),coerce:[c.function().maxArity(3),c.object({method:c.function().maxArity(3).required(),from:c.array().items(c.string()).single()})],flags:c.object().pattern(p.nameRx,c.object({setter:c.string(),default:c.any()})),manifest:{build:c.function().arity(2)},messages:[c.object(),c.string()],modifiers:c.object().pattern(p.nameRx,c.function().minArity(1).maxArity(2)),overrides:c.object().pattern(p.nameRx,c.function()),prepare:c.function().maxArity(3),rebuild:c.function().arity(1),rules:c.object().pattern(p.nameRx,p.rule),terms:c.object().pattern(p.nameRx,c.object({init:c.array().allow(null).required(),manifest:c.object().pattern(/.+/,[c.valid("schema","single"),c.object({mapped:c.object({from:c.string().required(),to:c.string().required()}).required()})])})),validate:c.function().maxArity(3)}).strict(),l.extensions=c.array().items(c.object(),c.function().arity(1)).strict(),p.desc={buffer:c.object({buffer:c.string()}),func:c.object({function:c.function().required(),options:{literal:!0}}),override:c.object({override:!0}),ref:c.object({ref:c.object({type:c.valid("value","global","local"),path:c.array().required(),separator:c.string().length(1).allow(!1),ancestor:c.number().min(0).integer().allow("root"),map:c.array().items(c.array().length(2)).min(1),adjust:c.function(),iterables:c.boolean(),in:c.boolean(),render:c.boolean()}).required()}),regex:c.object({regex:c.string().min(3)}),special:c.object({special:c.valid("deep").required()}),template:c.object({template:c.string().required(),options:c.object()}),value:c.object({value:c.alternatives([c.object(),c.array()]).required()})},p.desc.entity=c.alternatives([c.array().items(c.link("...")),c.boolean(),c.function(),c.number(),c.string(),p.desc.buffer,p.desc.func,p.desc.ref,p.desc.regex,p.desc.special,p.desc.template,p.desc.value,c.link("/")]),p.desc.values=c.array().items(null,c.boolean(),c.function(),c.number().allow(1/0,-1/0),c.string().allow(""),c.symbol(),p.desc.buffer,p.desc.func,p.desc.override,p.desc.ref,p.desc.regex,p.desc.template,p.desc.value),p.desc.messages=c.object().pattern(/.+/,[c.string(),p.desc.template,c.object().pattern(/.+/,[c.string(),p.desc.template])]),l.description=c.object({type:c.string().required(),flags:c.object({cast:c.string(),default:c.any(),description:c.string(),empty:c.link("/"),failover:p.desc.entity,id:c.string(),label:c.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:c.boolean(),unit:c.string()}).unknown(),preferences:{allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),convert:c.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:c.boolean(),label:["path","key"],language:[c.string(),p.desc.ref],wrap:{label:p.wrap,array:p.wrap}},externals:c.boolean(),messages:p.desc.messages,noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:["required","optional","forbidden"],skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()},allow:p.desc.values,invalid:p.desc.values,rules:c.array().min(1).items({name:c.string().required(),args:c.object().min(1),keep:c.boolean(),message:[c.string(),p.desc.messages],warn:c.boolean()}),keys:c.object().pattern(/.*/,c.link("/")),link:p.desc.ref}).pattern(/^[a-z]\w*$/,c.any())},493:(o,l,f)=>{const c=f(8571),p=f(9621),g=f(8160),_={value:Symbol("value")};o.exports=_.State=class{constructor(d,y,E){this.path=d,this.ancestors=y,this.mainstay=E.mainstay,this.schemas=E.schemas,this.debug=null}localize(d,y=null,E=null){const v=new _.State(d,y,this);return E&&v.schemas&&(v.schemas=[_.schemas(E),...v.schemas]),v}nest(d,y){const E=new _.State(this.path,this.ancestors,this);return E.schemas=E.schemas&&[_.schemas(d),...E.schemas],E.debug=y,E}shadow(d,y){this.mainstay.shadow=this.mainstay.shadow||new _.Shadow,this.mainstay.shadow.set(this.path,d,y)}snapshot(){this.mainstay.shadow&&(this._snapshot=c(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},_.schemas=function(d){return g.isSchema(d)?{schema:d}:d},_.Shadow=class{constructor(){this._values=null}set(d,y,E){if(!d.length||E==="strip"&&typeof d[d.length-1]=="number")return;this._values=this._values||new Map;let v=this._values;for(let b=0;b<d.length;++b){const R=d[b];let w=v.get(R);w||(w=new Map,v.set(R,w)),v=w}v[_.value]=y}get(d){const y=this.node(d);if(y)return y[_.value]}node(d){if(this._values)return p(this._values,d,{iterables:!0})}override(d,y){if(!this._values)return;const E=d.slice(0,-1),v=d[d.length-1],b=p(this._values,E,{iterables:!0});y?b.set(v,y):b&&b.delete(v)}}},3328:(o,l,f)=>{const c=f(375),p=f(8571),g=f(5277),_=f(1447),d=f(8160),y=f(6354),E=f(6133),v={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};o.exports=v.Template=class{constructor(b,R){if(c(typeof b=="string","Template source must be a string"),c(!b.includes("\0")&&!b.includes(""),"Template source cannot contain reserved control characters"),this.source=b,this.rendered=b,this._template=null,R){const{functions:w,...S}=R;this._settings=Object.keys(S).length?p(S):void 0,this._functions=w,this._functions&&(c(Object.keys(this._functions).every(x=>typeof x=="string"),"Functions keys must be strings"),c(Object.values(this._functions).every(x=>typeof x=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const b=v.encode(this.source),R=v.split(b);let w=!1;const S=[],x=R.shift();x&&S.push(x);for(const M of R){const k=M[0]!=="{",V=k?"}":"}}",I=M.indexOf(V);if(I===-1||M[1]==="{"){S.push(`{${v.decode(M)}`);continue}let T=M.slice(k?0:1,I);const C=T[0]===":";C&&(T=T.slice(1));const O=this._ref(v.decode(T),{raw:k,wrapped:C});S.push(O),typeof O!="string"&&(w=!0);const j=M.slice(I+V.length);j&&S.push(v.decode(j))}w?this._template=S:this.rendered=S.join("")}static date(b,R){return v.dateFormat[R.dateFormat].call(b)}describe(b={}){if(!this._settings&&b.compact)return this.source;const R={template:this.source};return this._settings&&(R.options=this._settings),this._functions&&(R.functions=this._functions),R}static build(b){return new v.Template(b.template,b.options||b.functions?{...b.options,functions:b.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(b){return!!b&&!!b[d.symbols.template]}refs(){if(!this._template)return;const b=[];for(const R of this._template)typeof R!="string"&&b.push(...R.refs);return b}resolve(b,R,w,S){return this._template&&this._template.length===1?this._part(this._template[0],b,R,w,S,{}):this.render(b,R,w,S)}_part(b,...R){return b.ref?b.ref.resolve(...R):b.formula.evaluate(R)}render(b,R,w,S,x={}){if(!this.isDynamic())return this.rendered;const M=[];for(const k of this._template)if(typeof k=="string")M.push(k);else{const V=this._part(k,b,R,w,S,x),I=v.stringify(V,b,R,w,S,x);if(I!==void 0){const T=k.raw||(x.errors&&x.errors.escapeHtml)===!1?I:g(I);M.push(v.wrap(T,k.wrapped&&w.errors.wrap.label))}}return M.join("")}_ref(b,{raw:R,wrapped:w}){const S=[],x=k=>{const V=E.create(k,this._settings);return S.push(V),I=>{const T=V.resolve(...I);return T!==void 0?T:null}};try{const k=this._functions?{...v.functions,...this._functions}:v.functions;var M=new _.Parser(b,{reference:x,functions:k,constants:v.constants})}catch(k){throw k.message=`Invalid template variable "${b}" fails due to: ${k.message}`,k}if(M.single){if(M.single.type==="reference"){const k=S[0];return{ref:k,raw:R,refs:S,wrapped:w||k.type==="local"&&k.key==="label"}}return v.stringify(M.single.value)}return{formula:M,raw:R,refs:S}}toString(){return this.source}},v.Template.prototype[d.symbols.template]=!0,v.Template.prototype.isImmutable=!0,v.encode=function(b){return b.replace(/\\(\{+)/g,(R,w)=>v.opens.slice(0,w.length)).replace(/\\(\}+)/g,(R,w)=>v.closes.slice(0,w.length))},v.decode=function(b){return b.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},v.split=function(b){const R=[];let w="";for(let S=0;S<b.length;++S){const x=b[S];if(x==="{"){let M="";for(;S+1<b.length&&b[S+1]==="{";)M+="{",++S;R.push(w),w=M}else w+=x}return R.push(w),R},v.wrap=function(b,R){return R?R.length===1?`${R}${b}${R}`:`${R[0]}${b}${R[1]}`:b},v.stringify=function(b,R,w,S,x,M={}){const k=typeof b,V=S&&S.errors&&S.errors.wrap||{};let I=!1;if(E.isRef(b)&&b.render&&(I=b.in,b=b.resolve(R,w,S,x,{in:b.in,...M})),b===null)return"null";if(k==="string")return v.wrap(b,M.arrayItems&&V.string);if(k==="number"||k==="function"||k==="symbol")return b.toString();if(k!=="object")return JSON.stringify(b);if(b instanceof Date)return v.Template.date(b,S);if(b instanceof Map){const C=[];for(const[O,j]of b.entries())C.push(`${O.toString()} -> ${j.toString()}`);b=C}if(!Array.isArray(b))return b.toString();const T=[];for(const C of b)T.push(v.stringify(C,R,w,S,x,{arrayItems:!0,...M}));return v.wrap(T.join(", "),!I&&V.array)},v.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},v.functions={if:(b,R,w)=>b?R:w,length:b=>typeof b=="string"?b.length:b&&typeof b=="object"?Array.isArray(b)?b.length:Object.keys(b).length:null,msg(b){const[R,w,S,x,M]=this,k=M.messages;if(!k)return"";const V=y.template(R,k[0],b,w,S)||y.template(R,k[1],b,w,S);return V?V.render(R,w,S,x,M):""},number:b=>typeof b=="number"?b:typeof b=="string"?parseFloat(b):typeof b=="boolean"?b?1:0:b instanceof Date?b.getTime():null}},4946:(o,l,f)=>{const c=f(375),p=f(1687),g=f(8068),_=f(8160),d=f(3292),y=f(6354),E=f(6133),v={};o.exports=g.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:E.toSibling}},args:(b,...R)=>R.length===1&&Array.isArray(R[0])?b.try(...R[0]):b.try(...R),validate(b,R){const{schema:w,error:S,state:x,prefs:M}=R;if(w._flags.match){const V=[],I=[];for(let C=0;C<w.$_terms.matches.length;++C){const O=w.$_terms.matches[C],j=x.nest(O.schema,`match.${C}`);j.snapshot();const $=O.schema.$_validate(b,j,M);$.errors?(I.push($.errors),j.restore()):(V.push($.value),j.commit())}if(V.length===0)return{errors:S("alternatives.any",{details:I.map(C=>y.details(C,{override:!1}))})};if(w._flags.match==="one")return V.length===1?{value:V[0]}:{errors:S("alternatives.one")};if(V.length!==w.$_terms.matches.length)return{errors:S("alternatives.all",{details:I.map(C=>y.details(C,{override:!1}))})};const T=C=>C.$_terms.matches.some(O=>O.schema.type==="object"||O.schema.type==="alternatives"&&T(O.schema));return T(w)?{value:V.reduce((C,O)=>p(C,O,{mergeArrays:!1}))}:{value:V[V.length-1]}}const k=[];for(let V=0;V<w.$_terms.matches.length;++V){const I=w.$_terms.matches[V];if(I.schema){const O=x.nest(I.schema,`match.${V}`);O.snapshot();const j=I.schema.$_validate(b,O,M);if(!j.errors)return O.commit(),j;O.restore(),k.push({schema:I.schema,reports:j.errors});continue}const T=I.ref?I.ref.resolve(b,x,M):b,C=I.is?[I]:I.switch;for(let O=0;O<C.length;++O){const j=C[O],{is:$,then:U,otherwise:he}=j,pe=`match.${V}${I.switch?"."+O:""}`;if($.$_match(T,x.nest($,`${pe}.is`),M)){if(U)return U.$_validate(b,x.nest(U,`${pe}.then`),M)}else if(he)return he.$_validate(b,x.nest(he,`${pe}.otherwise`),M)}}return v.errors(k,R)},rules:{conditional:{method(b,R){c(!this._flags._endedSwitch,"Unreachable condition"),c(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),c(R.break===void 0,"Cannot use break option with alternatives conditional");const w=this.clone(),S=d.when(w,b,R),x=S.is?[S]:S.switch;for(const M of x)if(M.then&&M.otherwise){w.$_setFlag("_endedSwitch",!0,{clone:!1});break}return w.$_terms.matches.push(S),w.$_mutateRebuild()}},match:{method(b){if(c(["any","one","all"].includes(b),"Invalid alternatives match mode",b),b!=="any")for(const R of this.$_terms.matches)c(R.schema,"Cannot combine match mode",b,"with conditional rules");return this.$_setFlag("match",b)}},try:{method(...b){c(b.length,"Missing alternative schemas"),_.verifyFlat(b,"try"),c(!this._flags._endedSwitch,"Unreachable condition");const R=this.clone();for(const w of b)R.$_terms.matches.push({schema:R.$_compile(w)});return R.$_mutateRebuild()}}},overrides:{label(b){return this.$_parent("label",b).$_modify({each:(R,w)=>w.path[0]!=="is"&&typeof R._flags.label!="string"?R.label(b):void 0,ref:!1})}},rebuild(b){b.$_modify({each:R=>{_.isSchema(R)&&R.type==="array"&&b.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(b,R){if(R.matches)for(const w of R.matches){const{schema:S,ref:x,is:M,not:k,then:V,otherwise:I}=w;b=S?b.try(S):x?b.conditional(x,{is:M,then:V,not:k,otherwise:I,switch:w.switch}):b.conditional(M,{then:V,otherwise:I})}return b}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(b,{error:R,state:w}){if(!b.length)return{errors:R("alternatives.any")};if(b.length===1)return{errors:b[0].reports};const S=new Set,x=[];for(const{reports:M,schema:k}of b){if(M.length>1)return v.unmatched(b,R);const V=M[0];if(V instanceof y.Report==0)return v.unmatched(b,R);if(V.state.path.length!==w.path.length){x.push({type:k.type,report:V});continue}if(V.code==="any.only"){for(const C of V.local.valids)S.add(C);continue}const[I,T]=V.code.split(".");T!=="base"?x.push({type:k.type,report:V}):V.code==="object.base"?S.add(V.local.type):S.add(I)}return x.length?x.length===1?{errors:x[0].report}:v.unmatched(b,R):{errors:R("alternatives.types",{types:[...S]})}},v.unmatched=function(b,R){const w=[];for(const S of b)w.push(...S.reports);return{errors:R("alternatives.match",y.details(w,{override:!1}))}}},8068:(o,l,f)=>{const c=f(375),p=f(7629),g=f(8160),_=f(6914);o.exports=p.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(d,y){return c(typeof d=="function","Method must be a function"),c(y===void 0||y&&typeof y=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:d,description:y}})},validate(d,y,{method:E}){try{return E(d,y)}catch(v){return y.error("any.custom",{error:v})}},args:["method","description"],multi:!0},messages:{method(d){return this.prefs({messages:d})}},shared:{method(d){c(g.isSchema(d)&&d._flags.id,"Schema must be a schema with an id");const y=this.clone();return y.$_terms.shared=y.$_terms.shared||[],y.$_terms.shared.push(d),y.$_mutateRegister(d),y}},warning:{method(d,y){return c(d&&typeof d=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:d,local:y},warn:!0})},validate:(d,y,{code:E,local:v})=>y.error(E,v),args:["code","local"],multi:!0}},modifiers:{keep(d,y=!0){d.keep=y},message(d,y){d.message=_.compile(y)},warn(d,y=!0){d.warn=y}},manifest:{build(d,y){for(const E in y){const v=y[E];if(["examples","externals","metas","notes","tags"].includes(E))for(const b of v)d=d[E.slice(0,-1)](b);else if(E!=="alterations")if(E!=="whens"){if(E==="shared")for(const b of v)d=d.shared(b)}else for(const b of v){const{ref:R,is:w,not:S,then:x,otherwise:M,concat:k}=b;d=k?d.concat(k):R?d.when(R,{is:w,not:S,then:x,otherwise:M,switch:b.switch,break:b.break}):d.when(w,{then:x,otherwise:M,break:b.break})}else{const b={};for(const{target:R,adjuster:w}of v)b[R]=w;d=d.alter(b)}}return d}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(o,l,f)=>{const c=f(375),p=f(9474),g=f(9621),_=f(8068),d=f(8160),y=f(3292),E={};o.exports=_.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(v,{schema:b,state:R,prefs:w}){if(!Array.isArray(v))return;const S=b.$_getRule("sort");return S?E.sort(b,v,S.args.options,R,w):void 0}},validate(v,{schema:b,error:R}){if(!Array.isArray(v)){if(b._flags.single){const w=[v];return w[d.symbols.arraySingle]=!0,{value:w}}return{errors:R("array.base")}}if(b.$_getRule("items")||b.$_terms.externals)return{value:v.slice()}},rules:{has:{method(v){v=this.$_compile(v,{appendPath:!0});const b=this.$_addRule({name:"has",args:{schema:v}});return b.$_mutateRegister(v),b},validate(v,{state:b,prefs:R,error:w},{schema:S}){const x=[v,...b.ancestors];for(let k=0;k<v.length;++k){const V=b.localize([...b.path,k],x,S);if(S.$_match(v[k],V,R))return v}const M=S._flags.label;return M?w("array.hasKnown",{patternLabel:M}):w("array.hasUnknown",null)},multi:!0},items:{method(...v){d.verifyFlat(v,"items");const b=this.$_addRule("items");for(let R=0;R<v.length;++R){const w=d.tryWithPath(()=>this.$_compile(v[R]),R,{append:!0});b.$_terms.items.push(w)}return b.$_mutateRebuild()},validate(v,{schema:b,error:R,state:w,prefs:S,errorsArray:x}){const M=b.$_terms._requireds.slice(),k=b.$_terms.ordered.slice(),V=[...b.$_terms._inclusions,...M],I=!v[d.symbols.arraySingle];delete v[d.symbols.arraySingle];const T=x();let C=v.length;for(let O=0;O<C;++O){const j=v[O];let $=!1,U=!1;const he=I?O:new Number(O),pe=[...w.path,he];if(!b._flags.sparse&&j===void 0){if(T.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},w.localize(pe))),S.abortEarly)return T;k.shift();continue}const Y=[v,...w.ancestors];for(const B of b.$_terms._exclusions)if(B.$_match(j,w.localize(pe,Y,B),S,{presence:"ignore"})){if(T.push(R("array.excludes",{pos:O,value:j},w.localize(pe))),S.abortEarly)return T;$=!0,k.shift();break}if($)continue;if(b.$_terms.ordered.length){if(k.length){const B=k.shift(),re=B.$_validate(j,w.localize(pe,Y,B),S);if(re.errors){if(T.push(...re.errors),S.abortEarly)return T}else if(B._flags.result==="strip")E.fastSplice(v,O),--O,--C;else{if(!b._flags.sparse&&re.value===void 0){if(T.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},w.localize(pe))),S.abortEarly)return T;continue}v[O]=re.value}continue}if(!b.$_terms.items.length){if(T.push(R("array.orderedLength",{pos:O,limit:b.$_terms.ordered.length})),S.abortEarly)return T;break}}const se=[];let ve=M.length;for(let B=0;B<ve;++B){const re=w.localize(pe,Y,M[B]);re.snapshot();const me=M[B].$_validate(j,re,S);if(se[B]=me,!me.errors){if(re.commit(),v[O]=me.value,U=!0,E.fastSplice(M,B),--B,--ve,!b._flags.sparse&&me.value===void 0&&(T.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},w.localize(pe))),S.abortEarly))return T;break}re.restore()}if(U)continue;const xe=S.stripUnknown&&!!S.stripUnknown.arrays||!1;ve=V.length;for(const B of V){let re;const me=M.indexOf(B);if(me!==-1)re=se[me];else{const ce=w.localize(pe,Y,B);if(ce.snapshot(),re=B.$_validate(j,ce,S),!re.errors){ce.commit(),B._flags.result==="strip"?(E.fastSplice(v,O),--O,--C):b._flags.sparse||re.value!==void 0?v[O]=re.value:(T.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},w.localize(pe))),$=!0),U=!0;break}ce.restore()}if(ve===1){if(xe){E.fastSplice(v,O),--O,--C,U=!0;break}if(T.push(...re.errors),S.abortEarly)return T;$=!0;break}}if(!$&&(b.$_terms._inclusions.length||b.$_terms._requireds.length)&&!U){if(xe){E.fastSplice(v,O),--O,--C;continue}if(T.push(R("array.includes",{pos:O,value:j},w.localize(pe))),S.abortEarly)return T}}return M.length&&E.fillMissedErrors(b,T,M,v,w,S),k.length&&(E.fillOrderedErrors(b,T,k,v,w,S),T.length||E.fillDefault(k,v,w,S)),T.length?T:v},priority:!0,manifest:!1},length:{method(v){return this.$_addRule({name:"length",args:{limit:v},operator:"="})},validate:(v,b,{limit:R},{name:w,operator:S,args:x})=>d.compare(v.length,R,S)?v:b.error("array."+w,{limit:x.limit,value:v}),args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"}]},max:{method(v){return this.$_addRule({name:"max",method:"length",args:{limit:v},operator:"<="})}},min:{method(v){return this.$_addRule({name:"min",method:"length",args:{limit:v},operator:">="})}},ordered:{method(...v){d.verifyFlat(v,"ordered");const b=this.$_addRule("items");for(let R=0;R<v.length;++R){const w=d.tryWithPath(()=>this.$_compile(v[R]),R,{append:!0});E.validateSingle(w,b),b.$_mutateRegister(w),b.$_terms.ordered.push(w)}return b.$_mutateRebuild()}},single:{method(v){const b=v===void 0||!!v;return c(!b||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",b)}},sort:{method(v={}){d.assertOptions(v,["by","order"]);const b={order:v.order||"ascending"};return v.by&&(b.by=y.ref(v.by,{ancestor:0}),c(!b.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:b}})},validate(v,{error:b,state:R,prefs:w,schema:S},{options:x}){const{value:M,errors:k}=E.sort(S,v,x,R,w);if(k)return k;for(let V=0;V<v.length;++V)if(v[V]!==M[V])return b("array.sort",{order:x.order,by:x.by?x.by.key:"value"});return v},convert:!0},sparse:{method(v){const b=v===void 0||!!v;return this._flags.sparse===b?this:(b?this.clone():this.$_addRule("items")).$_setFlag("sparse",b,{clone:!1})}},unique:{method(v,b={}){c(!v||typeof v=="function"||typeof v=="string","comparator must be a function or a string"),d.assertOptions(b,["ignoreUndefined","separator"]);const R={name:"unique",args:{options:b,comparator:v}};if(v)if(typeof v=="string"){const w=d.default(b.separator,".");R.path=w?v.split(w):[v]}else R.comparator=v;return this.$_addRule(R)},validate(v,{state:b,error:R,schema:w},{comparator:S,options:x},{comparator:M,path:k}){const V={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},I=M||p,T=x.ignoreUndefined;for(let C=0;C<v.length;++C){const O=k?g(v[C],k):v[C],j=M?V.custom:V[typeof O];if(c(j,"Failed to find unique map container for type",typeof O),j instanceof Map){const $=j.entries();let U;for(;!(U=$.next()).done;)if(I(U.value[0],O)){const he=b.localize([...b.path,C],[v,...b.ancestors]),pe={pos:C,value:v[C],dupePos:U.value[1],dupeValue:v[U.value[1]]};return k&&(pe.path=S),R("array.unique",pe,he)}j.set(O,C)}else{if((!T||O!==void 0)&&j[O]!==void 0){const $={pos:C,value:v[C],dupePos:j[O],dupeValue:v[j[O]]};return k&&($.path=S),R("array.unique",$,b.localize([...b.path,C],[v,...b.ancestors]))}j[O]=C}}return v},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(v,b)=>new Set(v)}},rebuild(v){v.$_terms._inclusions=[],v.$_terms._exclusions=[],v.$_terms._requireds=[];for(const b of v.$_terms.items)E.validateSingle(b,v),b._flags.presence==="required"?v.$_terms._requireds.push(b):b._flags.presence==="forbidden"?v.$_terms._exclusions.push(b):v.$_terms._inclusions.push(b);for(const b of v.$_terms.ordered)E.validateSingle(b,v)},manifest:{build:(v,b)=>(b.items&&(v=v.items(...b.items)),b.ordered&&(v=v.ordered(...b.ordered)),v)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),E.fillMissedErrors=function(v,b,R,w,S,x){const M=[];let k=0;for(const V of R){const I=V._flags.label;I?M.push(I):++k}M.length?k?b.push(v.$_createError("array.includesRequiredBoth",w,{knownMisses:M,unknownMisses:k},S,x)):b.push(v.$_createError("array.includesRequiredKnowns",w,{knownMisses:M},S,x)):b.push(v.$_createError("array.includesRequiredUnknowns",w,{unknownMisses:k},S,x))},E.fillOrderedErrors=function(v,b,R,w,S,x){const M=[];for(const k of R)k._flags.presence==="required"&&M.push(k);M.length&&E.fillMissedErrors(v,b,M,w,S,x)},E.fillDefault=function(v,b,R,w){const S=[];let x=!0;for(let M=v.length-1;M>=0;--M){const k=v[M],V=[b,...R.ancestors],I=k.$_validate(void 0,R.localize(R.path,V,k),w).value;if(x){if(I===void 0)continue;x=!1}S.unshift(I)}S.length&&b.push(...S)},E.fastSplice=function(v,b){let R=b;for(;R<v.length;)v[R++]=v[R];--v.length},E.validateSingle=function(v,b){(v.type==="array"||v._flags._arrayItems)&&(c(!b._flags.single,"Cannot specify array item with single rule enabled"),b.$_setFlag("_arrayItems",!0,{clone:!1}))},E.sort=function(v,b,R,w,S){const x=R.order==="ascending"?1:-1,M=-1*x,k=x,V=(I,T)=>{let C=E.compare(I,T,M,k);if(C!==null||(R.by&&(I=R.by.resolve(I,w,S),T=R.by.resolve(T,w,S)),C=E.compare(I,T,M,k),C!==null))return C;const O=typeof I;if(O!==typeof T)throw v.$_createError("array.sort.mismatching",b,null,w,S);if(O!=="number"&&O!=="string")throw v.$_createError("array.sort.unsupported",b,{type:O},w,S);return O==="number"?(I-T)*x:I<T?M:k};try{return{value:b.slice().sort(V)}}catch(I){return{errors:I}}},E.compare=function(v,b,R,w){return v===b?0:v===void 0?1:b===void 0?-1:v===null?w:b===null?R:null}},4937:(o,l,f)=>{const c=f(375),p=f(8068),g=f(8160),_=f(2036),d={isBool:function(y){return typeof y=="boolean"}};o.exports=p.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(y,{schema:E}){if(typeof y!="boolean"){if(typeof y=="string"){const v=E._flags.sensitive?y:y.toLowerCase();y=v==="true"||v!=="false"&&y}return typeof y!="boolean"&&(y=E.$_terms.truthy&&E.$_terms.truthy.has(y,null,null,!E._flags.sensitive)||(!E.$_terms.falsy||!E.$_terms.falsy.has(y,null,null,!E._flags.sensitive))&&y),{value:y}}},validate(y,{error:E}){if(typeof y!="boolean")return{value:y,errors:E("boolean.base")}},rules:{truthy:{method(...y){g.verifyFlat(y,"truthy");const E=this.clone();E.$_terms.truthy=E.$_terms.truthy||new _;for(let v=0;v<y.length;++v){const b=y[v];c(b!==void 0,"Cannot call truthy with undefined"),E.$_terms.truthy.add(b)}return E}},falsy:{method(...y){g.verifyFlat(y,"falsy");const E=this.clone();E.$_terms.falsy=E.$_terms.falsy||new _;for(let v=0;v<y.length;++v){const b=y[v];c(b!==void 0,"Cannot call falsy with undefined"),E.$_terms.falsy.add(b)}return E}},sensitive:{method(y=!0){return this.$_setFlag("sensitive",y)}}},cast:{number:{from:d.isBool,to:(y,E)=>y?1:0},string:{from:d.isBool,to:(y,E)=>y?"true":"false"}},manifest:{build:(y,E)=>(E.truthy&&(y=y.truthy(...E.truthy)),E.falsy&&(y=y.falsy(...E.falsy)),y)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(o,l,f)=>{const c=f(375),p=f(8068),g=f(8160),_=f(3328),d={isDate:function(y){return y instanceof Date}};o.exports=p.extend({type:"date",coerce:{from:["number","string"],method:(y,{schema:E})=>({value:d.parse(y,E._flags.format)||y})},validate(y,{schema:E,error:v,prefs:b}){if(y instanceof Date&&!isNaN(y.getTime()))return;const R=E._flags.format;return b.convert&&R&&typeof y=="string"?{value:y,errors:v("date.format",{format:R})}:{value:y,errors:v("date.base")}},rules:{compare:{method:!1,validate(y,E,{date:v},{name:b,operator:R,args:w}){const S=v==="now"?Date.now():v.getTime();return g.compare(y.getTime(),S,R)?y:E.error("date."+b,{limit:w.date,value:y})},args:[{name:"date",ref:!0,normalize:y=>y==="now"?y:d.parse(y),assert:y=>y!==null,message:"must have a valid date format"}]},format:{method(y){return c(["iso","javascript","unix"].includes(y),"Unknown date format",y),this.$_setFlag("format",y)}},greater:{method(y){return this.$_addRule({name:"greater",method:"compare",args:{date:y},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(y){return this.$_addRule({name:"less",method:"compare",args:{date:y},operator:"<"})}},max:{method(y){return this.$_addRule({name:"max",method:"compare",args:{date:y},operator:"<="})}},min:{method(y){return this.$_addRule({name:"min",method:"compare",args:{date:y},operator:">="})}},timestamp:{method(y="javascript"){return c(["javascript","unix"].includes(y),'"type" must be one of "javascript, unix"'),this.format(y)}}},cast:{number:{from:d.isDate,to:(y,E)=>y.getTime()},string:{from:d.isDate,to:(y,{prefs:E})=>_.date(y,E)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),d.parse=function(y,E){if(y instanceof Date)return y;if(typeof y!="string"&&(isNaN(y)||!isFinite(y))||/^\s*$/.test(y))return null;if(E==="iso")return g.isIsoDate(y)?d.date(y.toString()):null;const v=y;if(typeof y=="string"&&/^[+-]?\d+(\.\d+)?$/.test(y)&&(y=parseFloat(y)),E){if(E==="javascript")return d.date(1*y);if(E==="unix")return d.date(1e3*y);if(typeof v=="string")return null}return d.date(y)},d.date=function(y){const E=new Date(y);return isNaN(E.getTime())?null:E}},390:(o,l,f)=>{const c=f(375),p=f(7824);o.exports=p.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(g){return c(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:g}})},validate:(g,_,{n:d})=>g.length===d?g:_.error("function.arity",{n:d})},class:{method(){return this.$_addRule("class")},validate:(g,_)=>/^\s*class\s/.test(g.toString())?g:_.error("function.class",{value:g})},minArity:{method(g){return c(Number.isSafeInteger(g)&&g>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:g}})},validate:(g,_,{n:d})=>g.length>=d?g:_.error("function.minArity",{n:d})},maxArity:{method(g){return c(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:g}})},validate:(g,_,{n:d})=>g.length<=d?g:_.error("function.maxArity",{n:d})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(o,l,f)=>{const c=f(978),p=f(375),g=f(8571),_=f(3652),d=f(8068),y=f(8160),E=f(3292),v=f(6354),b=f(6133),R=f(3328),w={renameDefaults:{alias:!1,multiple:!1,override:!1}};o.exports=d.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(S,x)=>S.keys(x),validate(S,{schema:x,error:M,state:k,prefs:V}){if(!S||typeof S!==x.$_property("typeof")||Array.isArray(S))return{value:S,errors:M("object.base",{type:x.$_property("typeof")})};if(!(x.$_terms.renames||x.$_terms.dependencies||x.$_terms.keys||x.$_terms.patterns||x.$_terms.externals))return;S=w.clone(S,V);const I=[];if(x.$_terms.renames&&!w.rename(x,S,k,V,I))return{value:S,errors:I};if(!x.$_terms.keys&&!x.$_terms.patterns&&!x.$_terms.dependencies)return{value:S,errors:I};const T=new Set(Object.keys(S));if(x.$_terms.keys){const C=[S,...k.ancestors];for(const O of x.$_terms.keys){const j=O.key,$=S[j];T.delete(j);const U=k.localize([...k.path,j],C,O),he=O.schema.$_validate($,U,V);if(he.errors){if(V.abortEarly)return{value:S,errors:he.errors};he.value!==void 0&&(S[j]=he.value),I.push(...he.errors)}else O.schema._flags.result==="strip"||he.value===void 0&&$!==void 0?delete S[j]:he.value!==void 0&&(S[j]=he.value)}}if(T.size||x._flags._hasPatternMatch){const C=w.unknown(x,S,T,I,k,V);if(C)return C}if(x.$_terms.dependencies)for(const C of x.$_terms.dependencies){if(C.key!==null&&w.isPresent(C.options)(C.key.resolve(S,k,V,null,{shadow:!1}))===!1)continue;const O=w.dependencies[C.rel](x,C,S,k,V);if(O){const j=x.$_createError(O.code,S,O.context,k,V);if(V.abortEarly)return{value:S,errors:j};I.push(j)}}return{value:S,errors:I}},rules:{and:{method(...S){return y.verifyFlat(S,"and"),w.dependency(this,"and",null,S)}},append:{method(S){return S==null||Object.keys(S).length===0?this:this.keys(S)}},assert:{method(S,x,M){R.isTemplate(S)||(S=E.ref(S)),p(M===void 0||typeof M=="string","Message must be a string"),x=this.$_compile(x,{appendPath:!0});const k=this.$_addRule({name:"assert",args:{subject:S,schema:x,message:M}});return k.$_mutateRegister(S),k.$_mutateRegister(x),k},validate(S,{error:x,prefs:M,state:k},{subject:V,schema:I,message:T}){const C=V.resolve(S,k,M),O=b.isRef(V)?V.absolute(k):[];return I.$_match(C,k.localize(O,[S,...k.ancestors],I),M)?S:x("object.assert",{subject:V,message:T})},args:["subject","schema","message"],multi:!0},instance:{method(S,x){return p(typeof S=="function","constructor must be a function"),x=x||S.name,this.$_addRule({name:"instance",args:{constructor:S,name:x}})},validate:(S,x,{constructor:M,name:k})=>S instanceof M?S:x.error("object.instance",{type:k,value:S}),args:["constructor","name"]},keys:{method(S){p(S===void 0||typeof S=="object","Object schema must be a valid object"),p(!y.isSchema(S),"Object schema cannot be a joi schema");const x=this.clone();if(S)if(Object.keys(S).length){x.$_terms.keys=x.$_terms.keys?x.$_terms.keys.filter(M=>!S.hasOwnProperty(M.key)):new w.Keys;for(const M in S)y.tryWithPath(()=>x.$_terms.keys.push({key:M,schema:this.$_compile(S[M])}),M)}else x.$_terms.keys=new w.Keys;else x.$_terms.keys=null;return x.$_mutateRebuild()}},length:{method(S){return this.$_addRule({name:"length",args:{limit:S},operator:"="})},validate:(S,x,{limit:M},{name:k,operator:V,args:I})=>y.compare(Object.keys(S).length,M,V)?S:x.error("object."+k,{limit:I.limit,value:S}),args:[{name:"limit",ref:!0,assert:y.limit,message:"must be a positive integer"}]},max:{method(S){return this.$_addRule({name:"max",method:"length",args:{limit:S},operator:"<="})}},min:{method(S){return this.$_addRule({name:"min",method:"length",args:{limit:S},operator:">="})}},nand:{method(...S){return y.verifyFlat(S,"nand"),w.dependency(this,"nand",null,S)}},or:{method(...S){return y.verifyFlat(S,"or"),w.dependency(this,"or",null,S)}},oxor:{method(...S){return w.dependency(this,"oxor",null,S)}},pattern:{method(S,x,M={}){const k=S instanceof RegExp;k||(S=this.$_compile(S,{appendPath:!0})),p(x!==void 0,"Invalid rule"),y.assertOptions(M,["fallthrough","matches"]),k&&p(!S.flags.includes("g")&&!S.flags.includes("y"),"pattern should not use global or sticky mode"),x=this.$_compile(x,{appendPath:!0});const V=this.clone();V.$_terms.patterns=V.$_terms.patterns||[];const I={[k?"regex":"schema"]:S,rule:x};return M.matches&&(I.matches=this.$_compile(M.matches),I.matches.type!=="array"&&(I.matches=I.matches.$_root.array().items(I.matches)),V.$_mutateRegister(I.matches),V.$_setFlag("_hasPatternMatch",!0,{clone:!1})),M.fallthrough&&(I.fallthrough=!0),V.$_terms.patterns.push(I),V.$_mutateRegister(x),V}},ref:{method(){return this.$_addRule("ref")},validate:(S,x)=>b.isRef(S)?S:x.error("object.refType",{value:S})},regex:{method(){return this.$_addRule("regex")},validate:(S,x)=>S instanceof RegExp?S:x.error("object.regex",{value:S})},rename:{method(S,x,M={}){p(typeof S=="string"||S instanceof RegExp,"Rename missing the from argument"),p(typeof x=="string"||x instanceof R,"Invalid rename to argument"),p(x!==S,"Cannot rename key to same name:",S),y.assertOptions(M,["alias","ignoreUndefined","override","multiple"]);const k=this.clone();k.$_terms.renames=k.$_terms.renames||[];for(const V of k.$_terms.renames)p(V.from!==S,"Cannot rename the same key multiple times");return x instanceof R&&k.$_mutateRegister(x),k.$_terms.renames.push({from:S,to:x,options:c(w.renameDefaults,M)}),k}},schema:{method(S="any"){return this.$_addRule({name:"schema",args:{type:S}})},validate:(S,x,{type:M})=>!y.isSchema(S)||M!=="any"&&S.type!==M?x.error("object.schema",{type:M}):S},unknown:{method(S){return this.$_setFlag("unknown",S!==!1)}},with:{method(S,x,M={}){return w.dependency(this,"with",S,x,M)}},without:{method(S,x,M={}){return w.dependency(this,"without",S,x,M)}},xor:{method(...S){return y.verifyFlat(S,"xor"),w.dependency(this,"xor",null,S)}}},overrides:{default(S,x){return S===void 0&&(S=y.symbols.deepDefault),this.$_parent("default",S,x)}},rebuild(S){if(S.$_terms.keys){const x=new _.Sorter;for(const M of S.$_terms.keys)y.tryWithPath(()=>x.add(M,{after:M.schema.$_rootReferences(),group:M.key}),M.key);S.$_terms.keys=new w.Keys(...x.nodes)}},manifest:{build(S,x){if(x.keys&&(S=S.keys(x.keys)),x.dependencies)for(const{rel:M,key:k=null,peers:V,options:I}of x.dependencies)S=w.dependency(S,M,k,V,I);if(x.patterns)for(const{regex:M,schema:k,rule:V,fallthrough:I,matches:T}of x.patterns)S=S.pattern(M||k,V,{fallthrough:I,matches:T});if(x.renames)for(const{from:M,to:k,options:V}of x.renames)S=S.rename(M,k,V);return S}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),w.clone=function(S,x){if(typeof S=="object"){if(x.nonEnumerables)return g(S,{shallow:!0});const k=Object.create(Object.getPrototypeOf(S));return Object.assign(k,S),k}const M=function(...k){return S.apply(this,k)};return M.prototype=g(S.prototype),Object.defineProperty(M,"name",{value:S.name,writable:!1}),Object.defineProperty(M,"length",{value:S.length,writable:!1}),Object.assign(M,S),M},w.dependency=function(S,x,M,k,V){p(M===null||typeof M=="string",x,"key must be a strings"),V||(V=k.length>1&&typeof k[k.length-1]=="object"?k.pop():{}),y.assertOptions(V,["separator","isPresent"]),k=[].concat(k);const I=y.default(V.separator,"."),T=[];for(const O of k)p(typeof O=="string",x,"peers must be strings"),T.push(E.ref(O,{separator:I,ancestor:0,prefix:!1}));M!==null&&(M=E.ref(M,{separator:I,ancestor:0,prefix:!1}));const C=S.clone();return C.$_terms.dependencies=C.$_terms.dependencies||[],C.$_terms.dependencies.push(new w.Dependency(x,M,T,k,V)),C},w.dependencies={and(S,x,M,k,V){const I=[],T=[],C=x.peers.length,O=w.isPresent(x.options);for(const j of x.peers)O(j.resolve(M,k,V,null,{shadow:!1}))===!1?I.push(j.key):T.push(j.key);if(I.length!==C&&T.length!==C)return{code:"object.and",context:{present:T,presentWithLabels:w.keysToLabels(S,T),missing:I,missingWithLabels:w.keysToLabels(S,I)}}},nand(S,x,M,k,V){const I=[],T=w.isPresent(x.options);for(const j of x.peers)T(j.resolve(M,k,V,null,{shadow:!1}))&&I.push(j.key);if(I.length!==x.peers.length)return;const C=x.paths[0],O=x.paths.slice(1);return{code:"object.nand",context:{main:C,mainWithLabel:w.keysToLabels(S,C),peers:O,peersWithLabels:w.keysToLabels(S,O)}}},or(S,x,M,k,V){const I=w.isPresent(x.options);for(const T of x.peers)if(I(T.resolve(M,k,V,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:x.paths,peersWithLabels:w.keysToLabels(S,x.paths)}}},oxor(S,x,M,k,V){const I=[],T=w.isPresent(x.options);for(const O of x.peers)T(O.resolve(M,k,V,null,{shadow:!1}))&&I.push(O.key);if(!I.length||I.length===1)return;const C={peers:x.paths,peersWithLabels:w.keysToLabels(S,x.paths)};return C.present=I,C.presentWithLabels=w.keysToLabels(S,I),{code:"object.oxor",context:C}},with(S,x,M,k,V){const I=w.isPresent(x.options);for(const T of x.peers)if(I(T.resolve(M,k,V,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:x.key.key,mainWithLabel:w.keysToLabels(S,x.key.key),peer:T.key,peerWithLabel:w.keysToLabels(S,T.key)}}},without(S,x,M,k,V){const I=w.isPresent(x.options);for(const T of x.peers)if(I(T.resolve(M,k,V,null,{shadow:!1})))return{code:"object.without",context:{main:x.key.key,mainWithLabel:w.keysToLabels(S,x.key.key),peer:T.key,peerWithLabel:w.keysToLabels(S,T.key)}}},xor(S,x,M,k,V){const I=[],T=w.isPresent(x.options);for(const O of x.peers)T(O.resolve(M,k,V,null,{shadow:!1}))&&I.push(O.key);if(I.length===1)return;const C={peers:x.paths,peersWithLabels:w.keysToLabels(S,x.paths)};return I.length===0?{code:"object.missing",context:C}:(C.present=I,C.presentWithLabels=w.keysToLabels(S,I),{code:"object.xor",context:C})}},w.keysToLabels=function(S,x){return Array.isArray(x)?x.map(M=>S.$_mapLabels(M)):S.$_mapLabels(x)},w.isPresent=function(S){return typeof S.isPresent=="function"?S.isPresent:x=>x!==void 0},w.rename=function(S,x,M,k,V){const I={};for(const T of S.$_terms.renames){const C=[],O=typeof T.from!="string";if(O)for(const j in x){if(x[j]===void 0&&T.options.ignoreUndefined||j===T.to)continue;const $=T.from.exec(j);$&&C.push({from:j,to:T.to,match:$})}else!Object.prototype.hasOwnProperty.call(x,T.from)||x[T.from]===void 0&&T.options.ignoreUndefined||C.push(T);for(const j of C){const $=j.from;let U=j.to;if(U instanceof R&&(U=U.render(x,M,k,j.match)),$!==U){if(!T.options.multiple&&I[U]&&(V.push(S.$_createError("object.rename.multiple",x,{from:$,to:U,pattern:O},M,k)),k.abortEarly)||Object.prototype.hasOwnProperty.call(x,U)&&!T.options.override&&!I[U]&&(V.push(S.$_createError("object.rename.override",x,{from:$,to:U,pattern:O},M,k)),k.abortEarly))return!1;x[$]===void 0?delete x[U]:x[U]=x[$],I[U]=!0,T.options.alias||delete x[$]}}}return!0},w.unknown=function(S,x,M,k,V,I){if(S.$_terms.patterns){let T=!1;const C=S.$_terms.patterns.map(j=>{if(j.matches)return T=!0,[]}),O=[x,...V.ancestors];for(const j of M){const $=x[j],U=[...V.path,j];for(let he=0;he<S.$_terms.patterns.length;++he){const pe=S.$_terms.patterns[he];if(pe.regex){const ve=pe.regex.test(j);if(V.mainstay.tracer.debug(V,"rule",`pattern.${he}`,ve?"pass":"error"),!ve)continue}else if(!pe.schema.$_match(j,V.nest(pe.schema,`pattern.${he}`),I))continue;M.delete(j);const Y=V.localize(U,O,{schema:pe.rule,key:j}),se=pe.rule.$_validate($,Y,I);if(se.errors){if(I.abortEarly)return{value:x,errors:se.errors};k.push(...se.errors)}if(pe.matches&&C[he].push(j),x[j]=se.value,!pe.fallthrough)break}}if(T)for(let j=0;j<C.length;++j){const $=C[j];if(!$)continue;const U=S.$_terms.patterns[j].matches,he=V.localize(V.path,O,U),pe=U.$_validate($,he,I);if(pe.errors){const Y=v.details(pe.errors,{override:!1});Y.matches=$;const se=S.$_createError("object.pattern.match",x,Y,V,I);if(I.abortEarly)return{value:x,errors:se};k.push(se)}}}if(M.size&&(S.$_terms.keys||S.$_terms.patterns)){if(I.stripUnknown&&S._flags.unknown===void 0||I.skipFunctions){const T=!(!I.stripUnknown||I.stripUnknown!==!0&&!I.stripUnknown.objects);for(const C of M)T?(delete x[C],M.delete(C)):typeof x[C]=="function"&&M.delete(C)}if(!y.default(S._flags.unknown,I.allowUnknown))for(const T of M){const C=V.localize([...V.path,T],[]),O=S.$_createError("object.unknown",x[T],{child:T},C,I,{flags:!1});if(I.abortEarly)return{value:x,errors:O};k.push(O)}}},w.Dependency=class{constructor(S,x,M,k,V){this.rel=S,this.key=x,this.peers=M,this.paths=k,this.options=V}describe(){const S={rel:this.rel,peers:this.paths};return this.key!==null&&(S.key=this.key.key),this.peers[0].separator!=="."&&(S.options={...S.options,separator:this.peers[0].separator}),this.options.isPresent&&(S.options={...S.options,isPresent:this.options.isPresent}),S}},w.Keys=class extends Array{concat(S){const x=this.slice(),M=new Map;for(let k=0;k<x.length;++k)M.set(x[k].key,k);for(const k of S){const V=k.key,I=M.get(V);I!==void 0?x[I]={key:V,schema:x[I].schema.concat(k.schema)}:x.push(k)}return x}}},8785:(o,l,f)=>{const c=f(375),p=f(8068),g=f(8160),_=f(3292),d=f(6354),y={};o.exports=p.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(E,v)=>E.ref(v),validate(E,{schema:v,state:b,prefs:R}){c(v.$_terms.link,"Uninitialized link schema");const w=y.generate(v,E,b,R),S=v.$_terms.link[0].ref;return w.$_validate(E,b.nest(w,`link:${S.display}:${w.type}`),R)},generate:(E,v,b,R)=>y.generate(E,v,b,R),rules:{ref:{method(E){c(!this.$_terms.link,"Cannot reinitialize schema"),E=_.ref(E),c(E.type==="value"||E.type==="local","Invalid reference type:",E.type),c(E.type==="local"||E.ancestor==="root"||E.ancestor>0,"Link cannot reference itself");const v=this.clone();return v.$_terms.link=[{ref:E}],v}},relative:{method(E=!0){return this.$_setFlag("relative",E)}}},overrides:{concat(E){c(this.$_terms.link,"Uninitialized link schema"),c(g.isSchema(E),"Invalid schema object"),c(E.type!=="link","Cannot merge type link with another link");const v=this.clone();return v.$_terms.whens||(v.$_terms.whens=[]),v.$_terms.whens.push({concat:E}),v.$_mutateRebuild()}},manifest:{build:(E,v)=>(c(v.link,"Invalid link description missing link"),E.ref(v.link))}}),y.generate=function(E,v,b,R){let w=b.mainstay.links.get(E);if(w)return w._generate(v,b,R).schema;const S=E.$_terms.link[0].ref,{perspective:x,path:M}=y.perspective(S,b);y.assert(x,"which is outside of schema boundaries",S,E,b,R);try{w=M.length?x.$_reach(M):x}catch{y.assert(!1,"to non-existing schema",S,E,b,R)}return y.assert(w.type!=="link","which is another link",S,E,b,R),E._flags.relative||b.mainstay.links.set(E,w),w._generate(v,b,R).schema},y.perspective=function(E,v){if(E.type==="local"){for(const{schema:b,key:R}of v.schemas){if((b._flags.id||R)===E.path[0])return{perspective:b,path:E.path.slice(1)};if(b.$_terms.shared){for(const w of b.$_terms.shared)if(w._flags.id===E.path[0])return{perspective:w,path:E.path.slice(1)}}}return{perspective:null,path:null}}return E.ancestor==="root"?{perspective:v.schemas[v.schemas.length-1].schema,path:E.path}:{perspective:v.schemas[E.ancestor]&&v.schemas[E.ancestor].schema,path:E.path}},y.assert=function(E,v,b,R,w,S){E||c(!1,`"${d.label(R._flags,w,S)}" contains link reference "${b.display}" ${v}`)}},3832:(o,l,f)=>{const c=f(375),p=f(8068),g=f(8160),_={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(d){const y=d.toString(),E=y.indexOf("."),v=y.indexOf("e");return(E<0?0:(v<0?y.length:v)-E-1)+(v<0?0:Math.max(0,-parseInt(y.slice(v+1))))}};o.exports=p.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(d,{schema:y,error:E}){if(!d.match(_.numberRx))return;d=d.trim();const v={value:parseFloat(d)};if(v.value===0&&(v.value=0),!y._flags.unsafe)if(d.match(/e/i)){if(_.extractSignificantDigits(d)!==_.extractSignificantDigits(String(v.value)))return v.errors=E("number.unsafe"),v}else{const b=v.value.toString();if(b.match(/e/i))return v;if(b!==_.normalizeDecimal(d))return v.errors=E("number.unsafe"),v}return v}},validate(d,{schema:y,error:E,prefs:v}){if(d===1/0||d===-1/0)return{value:d,errors:E("number.infinity")};if(!g.isNumber(d))return{value:d,errors:E("number.base")};const b={value:d};if(v.convert){const R=y.$_getRule("precision");if(R){const w=Math.pow(10,R.args.limit);b.value=Math.round(b.value*w)/w}}return b.value===0&&(b.value=0),!y._flags.unsafe&&(d>Number.MAX_SAFE_INTEGER||d<Number.MIN_SAFE_INTEGER)&&(b.errors=E("number.unsafe")),b},rules:{compare:{method:!1,validate:(d,y,{limit:E},{name:v,operator:b,args:R})=>g.compare(d,E,b)?d:y.error("number."+v,{limit:R.limit,value:d}),args:[{name:"limit",ref:!0,assert:g.isNumber,message:"must be a number"}]},greater:{method(d){return this.$_addRule({name:"greater",method:"compare",args:{limit:d},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(d,y)=>Math.trunc(d)-d==0?d:y.error("number.integer")},less:{method(d){return this.$_addRule({name:"less",method:"compare",args:{limit:d},operator:"<"})}},max:{method(d){return this.$_addRule({name:"max",method:"compare",args:{limit:d},operator:"<="})}},min:{method(d){return this.$_addRule({name:"min",method:"compare",args:{limit:d},operator:">="})}},multiple:{method(d){const y=typeof d=="number"?_.decimalPlaces(d):null,E=Math.pow(10,y);return this.$_addRule({name:"multiple",args:{base:d,baseDecimalPlace:y,pfactor:E}})},validate:(d,y,{base:E,baseDecimalPlace:v,pfactor:b},R)=>_.decimalPlaces(d)>v?y.error("number.multiple",{multiple:R.args.base,value:d}):Math.round(b*d)%Math.round(b*E)==0?d:y.error("number.multiple",{multiple:R.args.base,value:d}),args:[{name:"base",ref:!0,assert:d=>typeof d=="number"&&isFinite(d)&&d>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(d,y)=>Number.isSafeInteger(d)&&d>=0&&d<=65535?d:y.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(d){return c(Number.isSafeInteger(d),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:d}})},validate(d,y,{limit:E}){const v=d.toString().match(_.precisionRx);return Math.max((v[1]?v[1].length:0)-(v[2]?parseInt(v[2],10):0),0)<=E?d:y.error("number.precision",{limit:E,value:d})},convert:!0},sign:{method(d){return c(["negative","positive"].includes(d),"Invalid sign",d),this.$_addRule({name:"sign",args:{sign:d}})},validate:(d,y,{sign:E})=>E==="negative"&&d<0||E==="positive"&&d>0?d:y.error(`number.${E}`)},unsafe:{method(d=!0){return c(typeof d=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",d)}}},cast:{string:{from:d=>typeof d=="number",to:(d,y)=>d.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),_.extractSignificantDigits=function(d){return d.replace(_.exponentialPartRegex,"").replace(_.dotRegex,"").replace(_.trailingZerosRegex,"").replace(_.leadingSignAndZerosRegex,"")},_.normalizeDecimal=function(d){return(d=d.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&d.endsWith("0")&&(d=d.replace(/0+$/,"")),d==="-0"?"0":d}},8966:(o,l,f)=>{const c=f(7824);o.exports=c.extend({type:"object",cast:{map:{from:p=>p&&typeof p=="object",to:(p,g)=>new Map(Object.entries(p))}}})},7417:(o,l,f)=>{const c=f(375),p=f(5380),g=f(1745),_=f(9959),d=f(6064),y=f(9926),E=f(5752),v=f(8068),b=f(8160),R={tlds:y instanceof Set&&{tlds:{allow:y,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:_.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};o.exports=v.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(w,{schema:S,state:x,prefs:M}){const k=S.$_getRule("normalize");k&&(w=w.normalize(k.args.form));const V=S.$_getRule("case");V&&(w=V.args.direction==="upper"?w.toLocaleUpperCase():w.toLocaleLowerCase());const I=S.$_getRule("trim");if(I&&I.args.enabled&&(w=w.trim()),S.$_terms.replacements)for(const C of S.$_terms.replacements)w=w.replace(C.pattern,C.replacement);const T=S.$_getRule("hex");if(T&&T.args.options.byteAligned&&w.length%2!=0&&(w=`0${w}`),S.$_getRule("isoDate")){const C=R.isoDate(w);C&&(w=C)}if(S._flags.truncate){const C=S.$_getRule("max");if(C){let O=C.args.limit;if(b.isResolvable(O)&&(O=O.resolve(w,x,M),!b.limit(O)))return{value:w,errors:S.$_createError("any.ref",O,{ref:C.args.limit,arg:"limit",reason:"must be a positive integer"},x,M)};w=w.slice(0,O)}}return{value:w}}},validate(w,{schema:S,error:x}){if(typeof w!="string")return{value:w,errors:x("string.base")};if(w===""){const M=S.$_getRule("min");return M&&M.args.limit===0?void 0:{value:w,errors:x("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(w,S)=>/^[a-zA-Z0-9]+$/.test(w)?w:S.error("string.alphanum")},base64:{method(w={}){return b.assertOptions(w,["paddingRequired","urlSafe"]),w={urlSafe:!1,paddingRequired:!0,...w},c(typeof w.paddingRequired=="boolean","paddingRequired must be boolean"),c(typeof w.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:w}})},validate:(w,S,{options:x})=>R.base64Regex[x.paddingRequired][x.urlSafe].test(w)?w:S.error("string.base64")},case:{method(w){return c(["lower","upper"].includes(w),"Invalid case:",w),this.$_addRule({name:"case",args:{direction:w}})},validate:(w,S,{direction:x})=>x==="lower"&&w===w.toLocaleLowerCase()||x==="upper"&&w===w.toLocaleUpperCase()?w:S.error(`string.${x}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(w,S){let x=w.length,M=0,k=1;for(;x--;){const V=w.charAt(x)*k;M+=V-9*(V>9),k^=3}return M>0&&M%10==0?w:S.error("string.creditCard")}},dataUri:{method(w={}){return b.assertOptions(w,["paddingRequired"]),w={paddingRequired:!0,...w},c(typeof w.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:w}})},validate(w,S,{options:x}){const M=w.match(R.dataUriRegex);return M&&(!M[2]||M[2]!=="base64"||R.base64Regex[x.paddingRequired].false.test(M[3]))?w:S.error("string.dataUri")}},domain:{method(w){w&&b.assertOptions(w,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const S=R.addressOptions(w);return this.$_addRule({name:"domain",args:{options:w},address:S})},validate:(w,S,x,{address:M})=>p.isValid(w,M)?w:S.error("string.domain")},email:{method(w={}){b.assertOptions(w,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),c(w.multiple===void 0||typeof w.multiple=="boolean","multiple option must be an boolean");const S=R.addressOptions(w),x=new RegExp(`\\s*[${w.separator?d(w.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:w},regex:x,address:S})},validate(w,S,{options:x},{regex:M,address:k}){const V=x.multiple?w.split(M):[w],I=[];for(const T of V)g.isValid(T,k)||I.push(T);return I.length?S.error("string.email",{value:w,invalids:I}):w}},guid:{alias:"uuid",method(w={}){b.assertOptions(w,["version","separator"]);let S="";if(w.version){const k=[].concat(w.version);c(k.length>=1,"version must have at least 1 valid version specified");const V=new Set;for(let I=0;I<k.length;++I){const T=k[I];c(typeof T=="string","version at position "+I+" must be a string");const C=R.guidVersions[T.toLowerCase()];c(C,"version at position "+I+" must be one of "+Object.keys(R.guidVersions).join(", ")),c(!V.has(C),"version at position "+I+" must not be a duplicate"),S+=C,V.add(C)}}c(R.guidSeparators.has(w.separator),'separator must be one of true, false, "-", or ":"');const x=w.separator===void 0?"[:-]?":w.separator===!0?"[:-]":w.separator===!1?"[]?":`\\${w.separator}`,M=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${x})[0-9A-F]{4}\\2?[${S||"0-9A-F"}][0-9A-F]{3}\\2?[${S?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:w},regex:M})},validate(w,S,x,{regex:M}){const k=M.exec(w);return k?R.guidBrackets[k[1]]!==k[k.length-1]?S.error("string.guid"):w:S.error("string.guid")}},hex:{method(w={}){return b.assertOptions(w,["byteAligned","prefix"]),w={byteAligned:!1,prefix:!1,...w},c(typeof w.byteAligned=="boolean","byteAligned must be boolean"),c(typeof w.prefix=="boolean"||w.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:w}})},validate:(w,S,{options:x})=>(x.prefix==="optional"?R.hexRegex.withOptionalPrefix:x.prefix===!0?R.hexRegex.withPrefix:R.hexRegex.withoutPrefix).test(w)?x.byteAligned&&w.length%2!=0?S.error("string.hexAlign"):w:S.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(w,S)=>p.isValid(w,{minDomainSegments:1})||R.ipRegex.test(w)?w:S.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(w={}){b.assertOptions(w,["cidr","version"]);const{cidr:S,versions:x,regex:M}=_.regex(w),k=w.version?x:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:S,version:k}},regex:M})},validate:(w,S,{options:x},{regex:M})=>M.test(w)?w:x.version?S.error("string.ipVersion",{value:w,cidr:x.cidr,version:x.version}):S.error("string.ip",{value:w,cidr:x.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(w,{error:S})=>R.isoDate(w)?w:S("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(w,S)=>R.isoDurationRegex.test(w)?w:S.error("string.isoDuration")},length:{method(w,S){return R.length(this,"length",w,"=",S)},validate(w,S,{limit:x,encoding:M},{name:k,operator:V,args:I}){const T=!M&&w.length;return b.compare(T,x,V)?w:S.error("string."+k,{limit:I.limit,value:w,encoding:M})},args:[{name:"limit",ref:!0,assert:b.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(w,S){return R.length(this,"max",w,"<=",S)},args:["limit","encoding"]},min:{method(w,S){return R.length(this,"min",w,">=",S)},args:["limit","encoding"]},normalize:{method(w="NFC"){return c(R.normalizationForms.includes(w),"normalization form must be one of "+R.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:w}})},validate:(w,{error:S},{form:x})=>w===w.normalize(x)?w:S("string.normalize",{value:w,form:x}),convert:!0},pattern:{alias:"regex",method(w,S={}){c(w instanceof RegExp,"regex must be a RegExp"),c(!w.flags.includes("g")&&!w.flags.includes("y"),"regex should not use global or sticky mode"),typeof S=="string"&&(S={name:S}),b.assertOptions(S,["invert","name"]);const x=["string.pattern",S.invert?".invert":"",S.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:w,options:S},errorCode:x})},validate:(w,S,{regex:x,options:M},{errorCode:k})=>x.test(w)^M.invert?w:S.error(k,{name:M.name,regex:x,value:w}),args:["regex","options"],multi:!0},replace:{method(w,S){typeof w=="string"&&(w=new RegExp(d(w),"g")),c(w instanceof RegExp,"pattern must be a RegExp"),c(typeof S=="string","replacement must be a String");const x=this.clone();return x.$_terms.replacements||(x.$_terms.replacements=[]),x.$_terms.replacements.push({pattern:w,replacement:S}),x}},token:{method(){return this.$_addRule("token")},validate:(w,S)=>/^\w+$/.test(w)?w:S.error("string.token")},trim:{method(w=!0){return c(typeof w=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:w}})},validate:(w,S,{enabled:x})=>x&&w!==w.trim()?S.error("string.trim"):w,convert:!0},truncate:{method(w=!0){return c(typeof w=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",w)}},uppercase:{method(){return this.case("upper")}},uri:{method(w={}){b.assertOptions(w,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),w.domain&&b.assertOptions(w.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:S,scheme:x}=E.regex(w),M=w.domain?R.addressOptions(w.domain):null;return this.$_addRule({name:"uri",args:{options:w},regex:S,domain:M,scheme:x})},validate(w,S,{options:x},{regex:M,domain:k,scheme:V}){if(["http:/","https:/"].includes(w))return S.error("string.uri");let I=M.exec(w);if(!I&&S.prefs.convert&&x.encodeUri){const T=encodeURI(w);I=M.exec(T),I&&(w=T)}if(I){const T=I[1]||I[2];return!k||x.allowRelative&&!T||p.isValid(T,k)?w:S.error("string.domain",{value:T})}return x.relativeOnly?S.error("string.uriRelativeOnly"):x.scheme?S.error("string.uriCustomScheme",{scheme:V,value:w}):S.error("string.uri")}}},manifest:{build(w,S){if(S.replacements)for(const{pattern:x,replacement:M}of S.replacements)w=w.replace(x,M);return w}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),R.addressOptions=function(w){if(!w)return R.tlds||w;if(c(w.minDomainSegments===void 0||Number.isSafeInteger(w.minDomainSegments)&&w.minDomainSegments>0,"minDomainSegments must be a positive integer"),c(w.maxDomainSegments===void 0||Number.isSafeInteger(w.maxDomainSegments)&&w.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),w.tlds===!1)return w;if(w.tlds===!0||w.tlds===void 0)return c(R.tlds,"Built-in TLD list disabled"),Object.assign({},w,R.tlds);c(typeof w.tlds=="object","tlds must be true, false, or an object");const S=w.tlds.deny;if(S)return Array.isArray(S)&&(w=Object.assign({},w,{tlds:{deny:new Set(S)}})),c(w.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),c(!w.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),R.validateTlds(w.tlds.deny,"tlds.deny"),w;const x=w.tlds.allow;return x?x===!0?(c(R.tlds,"Built-in TLD list disabled"),Object.assign({},w,R.tlds)):(Array.isArray(x)&&(w=Object.assign({},w,{tlds:{allow:new Set(x)}})),c(w.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),R.validateTlds(w.tlds.allow,"tlds.allow"),w):w},R.validateTlds=function(w,S){for(const x of w)c(p.isValid(x,{minDomainSegments:1,maxDomainSegments:1}),`${S} must contain valid top level domain names`)},R.isoDate=function(w){if(!b.isIsoDate(w))return null;/.*T.*[+-]\d\d$/.test(w)&&(w+="00");const S=new Date(w);return isNaN(S.getTime())?null:S.toISOString()},R.length=function(w,S,x,M,k){return c(!k||!1,"Invalid encoding:",k),w.$_addRule({name:S,method:"length",args:{limit:x,encoding:k},operator:M})}},8826:(o,l,f)=>{const c=f(375),p=f(8068),g={};g.Map=class extends Map{slice(){return new g.Map(this)}},o.exports=p.extend({type:"symbol",terms:{map:{init:new g.Map}},coerce:{method(_,{schema:d,error:y}){const E=d.$_terms.map.get(_);return E&&(_=E),d._flags.only&&typeof _!="symbol"?{value:_,errors:y("symbol.map",{map:d.$_terms.map})}:{value:_}}},validate(_,{error:d}){if(typeof _!="symbol")return{value:_,errors:d("symbol.base")}},rules:{map:{method(_){_&&!_[Symbol.iterator]&&typeof _=="object"&&(_=Object.entries(_)),c(_&&_[Symbol.iterator],"Iterable must be an iterable or object");const d=this.clone(),y=[];for(const E of _){c(E&&E[Symbol.iterator],"Entry must be an iterable");const[v,b]=E;c(typeof v!="object"&&typeof v!="function"&&typeof v!="symbol","Key must not be of type object, function, or Symbol"),c(typeof b=="symbol","Value must be a Symbol"),d.$_terms.map.set(v,b),y.push(b)}return d.valid(...y)}}},manifest:{build:(_,d)=>(d.map&&(_=_.map(d.map)),_)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(o,l,f)=>{const c=f(375),p=f(8571),g=f(738),_=f(9621),d=f(8160),y=f(6354),E=f(493),v={result:Symbol("result")};l.entry=function(b,R,w){let S=d.defaults;w&&(c(w.warnings===void 0,"Cannot override warnings preference in synchronous validation"),c(w.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),S=d.preferences(d.defaults,w));const x=v.entry(b,R,S);c(!x.mainstay.externals.length,"Schema with external rules must use validateAsync()");const M={value:x.value};return x.error&&(M.error=x.error),x.mainstay.warnings.length&&(M.warning=y.details(x.mainstay.warnings)),x.mainstay.debug&&(M.debug=x.mainstay.debug),x.mainstay.artifacts&&(M.artifacts=x.mainstay.artifacts),M},l.entryAsync=async function(b,R,w){let S=d.defaults;w&&(S=d.preferences(d.defaults,w));const x=v.entry(b,R,S),M=x.mainstay;if(x.error)throw M.debug&&(x.error.debug=M.debug),x.error;if(M.externals.length){let V=x.value;const I=[];for(const T of M.externals){const C=T.state.path,O=T.schema.type==="link"?M.links.get(T.schema):null;let j,$,U=V;const he=C.length?[V]:[],pe=C.length?_(b,C):b;if(C.length){j=C[C.length-1];let Y=V;for(const se of C.slice(0,-1))Y=Y[se],he.unshift(Y);$=he[0],U=$[j]}try{const Y=(ve,xe)=>(O||T.schema).$_createError(ve,U,xe,T.state,S),se=await T.method(U,{schema:T.schema,linked:O,state:T.state,prefs:w,original:pe,error:Y,errorsArray:v.errorsArray,warn:(ve,xe)=>M.warnings.push((O||T.schema).$_createError(ve,U,xe,T.state,S)),message:(ve,xe)=>(O||T.schema).$_createError("external",U,xe,T.state,S,{messages:ve})});if(se===void 0||se===U)continue;if(se instanceof y.Report){if(M.tracer.log(T.schema,T.state,"rule","external","error"),I.push(se),S.abortEarly)break;continue}if(Array.isArray(se)&&se[d.symbols.errors]){if(M.tracer.log(T.schema,T.state,"rule","external","error"),I.push(...se),S.abortEarly)break;continue}$?(M.tracer.value(T.state,"rule",U,se,"external"),$[j]=se):(M.tracer.value(T.state,"rule",V,se,"external"),V=se)}catch(Y){throw S.errors.label&&(Y.message+=` (${T.label})`),Y}}if(x.value=V,I.length)throw x.error=y.process(I,b,S),M.debug&&(x.error.debug=M.debug),x.error}if(!S.warnings&&!S.debug&&!S.artifacts)return x.value;const k={value:x.value};return M.warnings.length&&(k.warning=y.details(M.warnings)),M.debug&&(k.debug=M.debug),M.artifacts&&(k.artifacts=M.artifacts),k},v.Mainstay=class{constructor(b,R,w){this.externals=[],this.warnings=[],this.tracer=b,this.debug=R,this.links=w,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const b=this._snapshots.pop();this.externals=b.externals,this.warnings=b.warnings}commit(){this._snapshots.pop()}},v.entry=function(b,R,w){const{tracer:S,cleanup:x}=v.tracer(R,w),M=w.debug?[]:null,k=R._ids._schemaChain?new Map:null,V=new v.Mainstay(S,M,k),I=R._ids._schemaChain?[{schema:R}]:null,T=new E([],[],{mainstay:V,schemas:I}),C=l.validate(b,R,T,w);x&&R.$_root.untrace();const O=y.process(C.errors,b,w);return{value:C.value,error:O,mainstay:V}},v.tracer=function(b,R){return b.$_root._tracer?{tracer:b.$_root._tracer._register(b)}:R.debug?(c(b.$_root.trace,"Debug mode not supported"),{tracer:b.$_root.trace()._register(b),cleanup:!0}):{tracer:v.ignore}},l.validate=function(b,R,w,S,x={}){if(R.$_terms.whens&&(R=R._generate(b,w,S).schema),R._preferences&&(S=v.prefs(R,S)),R._cache&&S.cache){const O=R._cache.get(b);if(w.mainstay.tracer.debug(w,"validate","cached",!!O),O)return O}const M=(O,j,$)=>R.$_createError(O,b,j,$||w,S),k={original:b,prefs:S,schema:R,state:w,error:M,errorsArray:v.errorsArray,warn:(O,j,$)=>w.mainstay.warnings.push(M(O,j,$)),message:(O,j)=>R.$_createError("custom",b,j,w,S,{messages:O})};w.mainstay.tracer.entry(R,w);const V=R._definition;if(V.prepare&&b!==void 0&&S.convert){const O=V.prepare(b,k);if(O){if(w.mainstay.tracer.value(w,"prepare",b,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),k);b=O.value}}if(V.coerce&&b!==void 0&&S.convert&&(!V.coerce.from||V.coerce.from.includes(typeof b))){const O=V.coerce.method(b,k);if(O){if(w.mainstay.tracer.value(w,"coerced",b,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),k);b=O.value}}const I=R._flags.empty;I&&I.$_match(v.trim(b,R),w.nest(I),d.defaults)&&(w.mainstay.tracer.value(w,"empty",b,void 0),b=void 0);const T=x.presence||R._flags.presence||(R._flags._endedSwitch?null:S.presence);if(b===void 0){if(T==="forbidden")return v.finalize(b,null,k);if(T==="required")return v.finalize(b,[R.$_createError("any.required",b,null,w,S)],k);if(T==="optional"){if(R._flags.default!==d.symbols.deepDefault)return v.finalize(b,null,k);w.mainstay.tracer.value(w,"default",b,{}),b={}}}else if(T==="forbidden")return v.finalize(b,[R.$_createError("any.unknown",b,null,w,S)],k);const C=[];if(R._valids){const O=R._valids.get(b,w,S,R._flags.insensitive);if(O)return S.convert&&(w.mainstay.tracer.value(w,"valids",b,O.value),b=O.value),w.mainstay.tracer.filter(R,w,"valid",O),v.finalize(b,null,k);if(R._flags.only){const j=R.$_createError("any.only",b,{valids:R._valids.values({display:!0})},w,S);if(S.abortEarly)return v.finalize(b,[j],k);C.push(j)}}if(R._invalids){const O=R._invalids.get(b,w,S,R._flags.insensitive);if(O){w.mainstay.tracer.filter(R,w,"invalid",O);const j=R.$_createError("any.invalid",b,{invalids:R._invalids.values({display:!0})},w,S);if(S.abortEarly)return v.finalize(b,[j],k);C.push(j)}}if(V.validate){const O=V.validate(b,k);if(O&&(w.mainstay.tracer.value(w,"base",b,O.value),b=O.value,O.errors)){if(!Array.isArray(O.errors))return C.push(O.errors),v.finalize(b,C,k);if(O.errors.length)return C.push(...O.errors),v.finalize(b,C,k)}}return R._rules.length?v.rules(b,C,k):v.finalize(b,C,k)},v.rules=function(b,R,w){const{schema:S,state:x,prefs:M}=w;for(const k of S._rules){const V=S._definition.rules[k.method];if(V.convert&&M.convert){x.mainstay.tracer.log(S,x,"rule",k.name,"full");continue}let I,T=k.args;if(k._resolve.length){T=Object.assign({},T);for(const O of k._resolve){const j=V.argsByName.get(O),$=T[O].resolve(b,x,M),U=j.normalize?j.normalize($):$,he=d.validateArg(U,null,j);if(he){I=S.$_createError("any.ref",$,{arg:O,ref:T[O],reason:he},x,M);break}T[O]=U}}I=I||V.validate(b,w,T,k);const C=v.rule(I,k);if(C.errors){if(x.mainstay.tracer.log(S,x,"rule",k.name,"error"),k.warn){x.mainstay.warnings.push(...C.errors);continue}if(M.abortEarly)return v.finalize(b,C.errors,w);R.push(...C.errors)}else x.mainstay.tracer.log(S,x,"rule",k.name,"pass"),x.mainstay.tracer.value(x,"rule",b,C.value,k.name),b=C.value}return v.finalize(b,R,w)},v.rule=function(b,R){return b instanceof y.Report?(v.error(b,R),{errors:[b],value:null}):Array.isArray(b)&&b[d.symbols.errors]?(b.forEach(w=>v.error(w,R)),{errors:b,value:null}):{errors:null,value:b}},v.error=function(b,R){return R.message&&b._setTemplate(R.message),b},v.finalize=function(b,R,w){R=R||[];const{schema:S,state:x,prefs:M}=w;if(R.length){const V=v.default("failover",void 0,R,w);V!==void 0&&(x.mainstay.tracer.value(x,"failover",b,V),b=V,R=[])}if(R.length&&S._flags.error)if(typeof S._flags.error=="function"){R=S._flags.error(R),Array.isArray(R)||(R=[R]);for(const V of R)c(V instanceof Error||V instanceof y.Report,"error() must return an Error object")}else R=[S._flags.error];if(b===void 0){const V=v.default("default",b,R,w);x.mainstay.tracer.value(x,"default",b,V),b=V}if(S._flags.cast&&b!==void 0){const V=S._definition.cast[S._flags.cast];if(V.from(b)){const I=V.to(b,w);x.mainstay.tracer.value(x,"cast",b,I,S._flags.cast),b=I}}if(S.$_terms.externals&&M.externals&&M._externals!==!1)for(const{method:V}of S.$_terms.externals)x.mainstay.externals.push({method:V,schema:S,state:x,label:y.label(S._flags,x,M)});const k={value:b,errors:R.length?R:null};return S._flags.result&&(k.value=S._flags.result==="strip"?void 0:w.original,x.mainstay.tracer.value(x,S._flags.result,b,k.value),x.shadow(b,S._flags.result)),S._cache&&M.cache!==!1&&!S._refs.length&&S._cache.set(w.original,k),b===void 0||k.errors||S._flags.artifact===void 0||(x.mainstay.artifacts=x.mainstay.artifacts||new Map,x.mainstay.artifacts.has(S._flags.artifact)||x.mainstay.artifacts.set(S._flags.artifact,[]),x.mainstay.artifacts.get(S._flags.artifact).push(x.path)),k},v.prefs=function(b,R){const w=R===d.defaults;return w&&b._preferences[d.symbols.prefs]?b._preferences[d.symbols.prefs]:(R=d.preferences(R,b._preferences),w&&(b._preferences[d.symbols.prefs]=R),R)},v.default=function(b,R,w,S){const{schema:x,state:M,prefs:k}=S,V=x._flags[b];if(k.noDefaults||V===void 0)return R;if(M.mainstay.tracer.log(x,M,"rule",b,"full"),!V)return V;if(typeof V=="function"){const I=V.length?[p(M.ancestors[0]),S]:[];try{return V(...I)}catch(T){return void w.push(x.$_createError(`any.${b}`,null,{error:T},M,k))}}return typeof V!="object"?V:V[d.symbols.literal]?V.literal:d.isResolvable(V)?V.resolve(R,M,k):p(V)},v.trim=function(b,R){if(typeof b!="string")return b;const w=R.$_getRule("trim");return w&&w.args.enabled?b.trim():b},v.ignore={active:!1,debug:g,entry:g,filter:g,log:g,resolve:g,value:g},v.errorsArray=function(){const b=[];return b[d.symbols.errors]=!0,b}},2036:(o,l,f)=>{const c=f(375),p=f(9474),g=f(8160),_={};o.exports=_.Values=class{constructor(d,y){this._values=new Set(d),this._refs=new Set(y),this._lowercase=_.lowercases(d),this._override=!1}get length(){return this._values.size+this._refs.size}add(d,y){g.isResolvable(d)?this._refs.has(d)||(this._refs.add(d),y&&y.register(d)):this.has(d,null,null,!1)||(this._values.add(d),typeof d=="string"&&this._lowercase.set(d.toLowerCase(),d))}static merge(d,y,E){if(d=d||new _.Values,y){if(y._override)return y.clone();for(const v of[...y._values,...y._refs])d.add(v)}if(E)for(const v of[...E._values,...E._refs])d.remove(v);return d.length?d:null}remove(d){g.isResolvable(d)?this._refs.delete(d):(this._values.delete(d),typeof d=="string"&&this._lowercase.delete(d.toLowerCase()))}has(d,y,E,v){return!!this.get(d,y,E,v)}get(d,y,E,v){if(!this.length)return!1;if(this._values.has(d))return{value:d};if(typeof d=="string"&&d&&v){const b=this._lowercase.get(d.toLowerCase());if(b)return{value:b}}if(!this._refs.size&&typeof d!="object")return!1;if(typeof d=="object"){for(const b of this._values)if(p(b,d))return{value:b}}if(y)for(const b of this._refs){const R=b.resolve(d,y,E,null,{in:!0});if(R===void 0)continue;const w=b.in&&typeof R=="object"?Array.isArray(R)?R:Object.keys(R):[R];for(const S of w)if(typeof S==typeof d){if(v&&d&&typeof d=="string"){if(S.toLowerCase()===d.toLowerCase())return{value:S,ref:b}}else if(p(S,d))return{value:S,ref:b}}}return!1}override(){this._override=!0}values(d){if(d&&d.display){const y=[];for(const E of[...this._values,...this._refs])E!==void 0&&y.push(E);return y}return Array.from([...this._values,...this._refs])}clone(){const d=new _.Values(this._values,this._refs);return d._override=this._override,d}concat(d){c(!d._override,"Cannot concat override set of values");const y=new _.Values([...this._values,...d._values],[...this._refs,...d._refs]);return y._override=this._override,y}describe(){const d=[];this._override&&d.push({override:!0});for(const y of this._values.values())d.push(y&&typeof y=="object"?{value:y}:y);for(const y of this._refs.values())d.push(y.describe());return d}},_.Values.prototype[g.symbols.values]=!0,_.Values.prototype.slice=_.Values.prototype.clone,_.lowercases=function(d){const y=new Map;if(d)for(const E of d)typeof E=="string"&&y.set(E.toLowerCase(),E);return y}},978:(o,l,f)=>{const c=f(375),p=f(8571),g=f(1687),_=f(9621),d={};o.exports=function(y,E,v={}){if(c(y&&typeof y=="object","Invalid defaults value: must be an object"),c(!E||E===!0||typeof E=="object","Invalid source value: must be true, falsy or an object"),c(typeof v=="object","Invalid options: must be an object"),!E)return null;if(v.shallow)return d.applyToDefaultsWithShallow(y,E,v);const b=p(y);if(E===!0)return b;const R=v.nullOverride!==void 0&&v.nullOverride;return g(b,E,{nullOverride:R,mergeArrays:!1})},d.applyToDefaultsWithShallow=function(y,E,v){const b=v.shallow;c(Array.isArray(b),"Invalid keys");const R=new Map,w=E===!0?null:new Set;for(let M of b){M=Array.isArray(M)?M:M.split(".");const k=_(y,M);k&&typeof k=="object"?R.set(k,w&&_(E,M)||k):w&&w.add(M)}const S=p(y,{},R);if(!w)return S;for(const M of w)d.reachCopy(S,E,M);const x=v.nullOverride!==void 0&&v.nullOverride;return g(S,E,{nullOverride:x,mergeArrays:!1})},d.reachCopy=function(y,E,v){for(const w of v){if(!(w in E))return;const S=E[w];if(typeof S!="object"||S===null)return;E=S}const b=E;let R=y;for(let w=0;w<v.length-1;++w){const S=v[w];typeof R[S]!="object"&&(R[S]={}),R=R[S]}R[v[v.length-1]]=b}},375:(o,l,f)=>{const c=f(7916);o.exports=function(p,...g){if(!p)throw g.length===1&&g[0]instanceof Error?g[0]:new c(g)}},8571:(o,l,f)=>{const c=f(9621),p=f(4277),g=f(7043),_={needsProtoHack:new Set([p.set,p.map,p.weakSet,p.weakMap])};o.exports=_.clone=function(d,y={},E=null){if(typeof d!="object"||d===null)return d;let v=_.clone,b=E;if(y.shallow){if(y.shallow!==!0)return _.cloneWithShallow(d,y);v=x=>x}else if(b){const x=b.get(d);if(x)return x}else b=new Map;const R=p.getInternalProto(d);if(R===p.buffer)return!1;if(R===p.date)return new Date(d.getTime());if(R===p.regex)return new RegExp(d);const w=_.base(d,R,y);if(w===d)return d;if(b&&b.set(d,w),R===p.set)for(const x of d)w.add(v(x,y,b));else if(R===p.map)for(const[x,M]of d)w.set(x,v(M,y,b));const S=g.keys(d,y);for(const x of S){if(x==="__proto__")continue;if(R===p.array&&x==="length"){w.length=d.length;continue}const M=Object.getOwnPropertyDescriptor(d,x);M?M.get||M.set?Object.defineProperty(w,x,M):M.enumerable?w[x]=v(d[x],y,b):Object.defineProperty(w,x,{enumerable:!1,writable:!0,configurable:!0,value:v(d[x],y,b)}):Object.defineProperty(w,x,{enumerable:!0,writable:!0,configurable:!0,value:v(d[x],y,b)})}return w},_.cloneWithShallow=function(d,y){const E=y.shallow;(y=Object.assign({},y)).shallow=!1;const v=new Map;for(const b of E){const R=c(d,b);typeof R!="object"&&typeof R!="function"||v.set(R,R)}return _.clone(d,y,v)},_.base=function(d,y,E){if(E.prototype===!1)return _.needsProtoHack.has(y)?new y.constructor:y===p.array?[]:{};const v=Object.getPrototypeOf(d);if(v&&v.isImmutable)return d;if(y===p.array){const b=[];return v!==y&&Object.setPrototypeOf(b,v),b}if(_.needsProtoHack.has(y)){const b=new v.constructor;return v!==y&&Object.setPrototypeOf(b,v),b}return Object.create(v)}},9474:(o,l,f)=>{const c=f(4277),p={mismatched:null};o.exports=function(g,_,d){return d=Object.assign({prototype:!0},d),!!p.isDeepEqual(g,_,d,[])},p.isDeepEqual=function(g,_,d,y){if(g===_)return g!==0||1/g==1/_;const E=typeof g;if(E!==typeof _||g===null||_===null)return!1;if(E==="function"){if(!d.deepFunction||g.toString()!==_.toString())return!1}else if(E!=="object")return g!=g&&_!=_;const v=p.getSharedType(g,_,!!d.prototype);switch(v){case c.buffer:return!1;case c.promise:return g===_;case c.regex:return g.toString()===_.toString();case p.mismatched:return!1}for(let b=y.length-1;b>=0;--b)if(y[b].isSame(g,_))return!0;y.push(new p.SeenEntry(g,_));try{return!!p.isDeepEqualObj(v,g,_,d,y)}finally{y.pop()}},p.getSharedType=function(g,_,d){if(d)return Object.getPrototypeOf(g)!==Object.getPrototypeOf(_)?p.mismatched:c.getInternalProto(g);const y=c.getInternalProto(g);return y!==c.getInternalProto(_)?p.mismatched:y},p.valueOf=function(g){const _=g.valueOf;if(_===void 0)return g;try{return _.call(g)}catch(d){return d}},p.hasOwnEnumerableProperty=function(g,_){return Object.prototype.propertyIsEnumerable.call(g,_)},p.isSetSimpleEqual=function(g,_){for(const d of Set.prototype.values.call(g))if(!Set.prototype.has.call(_,d))return!1;return!0},p.isDeepEqualObj=function(g,_,d,y,E){const{isDeepEqual:v,valueOf:b,hasOwnEnumerableProperty:R}=p,{keys:w,getOwnPropertySymbols:S}=Object;if(g===c.array){if(!y.part){if(_.length!==d.length)return!1;for(let I=0;I<_.length;++I)if(!v(_[I],d[I],y,E))return!1;return!0}for(const I of _)for(const T of d)if(v(I,T,y,E))return!0}else if(g===c.set){if(_.size!==d.size)return!1;if(!p.isSetSimpleEqual(_,d)){const I=new Set(Set.prototype.values.call(d));for(const T of Set.prototype.values.call(_)){if(I.delete(T))continue;let C=!1;for(const O of I)if(v(T,O,y,E)){I.delete(O),C=!0;break}if(!C)return!1}}}else if(g===c.map){if(_.size!==d.size)return!1;for(const[I,T]of Map.prototype.entries.call(_))if(T===void 0&&!Map.prototype.has.call(d,I)||!v(T,Map.prototype.get.call(d,I),y,E))return!1}else if(g===c.error&&(_.name!==d.name||_.message!==d.message))return!1;const x=b(_),M=b(d);if((_!==x||d!==M)&&!v(x,M,y,E))return!1;const k=w(_);if(!y.part&&k.length!==w(d).length&&!y.skip)return!1;let V=0;for(const I of k)if(y.skip&&y.skip.includes(I))d[I]===void 0&&++V;else if(!R(d,I)||!v(_[I],d[I],y,E))return!1;if(!y.part&&k.length-V!==w(d).length)return!1;if(y.symbols!==!1){const I=S(_),T=new Set(S(d));for(const C of I){if(!y.skip||!y.skip.includes(C)){if(R(_,C)){if(!R(d,C)||!v(_[C],d[C],y,E))return!1}else if(R(d,C))return!1}T.delete(C)}for(const C of T)if(R(d,C))return!1}return!0},p.SeenEntry=class{constructor(g,_){this.obj=g,this.ref=_}isSame(g,_){return this.obj===g&&this.ref===_}}},7916:(o,l,f)=>{const c=f(8761);o.exports=class extends Error{constructor(p){super(p.filter(g=>g!=="").map(g=>typeof g=="string"?g:g instanceof Error?g.message:c(g)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,l.assert)}}},5277:o=>{const l={};o.exports=function(f){if(!f)return"";let c="";for(let p=0;p<f.length;++p){const g=f.charCodeAt(p);l.isSafe(g)?c+=f[p]:c+=l.escapeHtmlChar(g)}return c},l.escapeHtmlChar=function(f){return l.namedHtml.get(f)||(f>=256?"&#"+f+";":`&#x${f.toString(16).padStart(2,"0")};`)},l.isSafe=function(f){return l.safeCharCodes.has(f)},l.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),l.safeCharCodes=function(){const f=new Set;for(let c=32;c<123;++c)(c>=97||c>=65&&c<=90||c>=48&&c<=57||c===32||c===46||c===44||c===45||c===58||c===95)&&f.add(c);return f}()},6064:o=>{o.exports=function(l){return l.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:o=>{o.exports=function(){}},1687:(o,l,f)=>{const c=f(375),p=f(8571),g=f(7043),_={};o.exports=_.merge=function(d,y,E){if(c(d&&typeof d=="object","Invalid target value: must be an object"),c(y==null||typeof y=="object","Invalid source value: must be null, undefined, or an object"),!y)return d;if(E=Object.assign({nullOverride:!0,mergeArrays:!0},E),Array.isArray(y)){c(Array.isArray(d),"Cannot merge array onto an object"),E.mergeArrays||(d.length=0);for(let b=0;b<y.length;++b)d.push(p(y[b],{symbols:E.symbols}));return d}const v=g.keys(y,E);for(let b=0;b<v.length;++b){const R=v[b];if(R==="__proto__"||!Object.prototype.propertyIsEnumerable.call(y,R))continue;const w=y[R];if(w&&typeof w=="object"){if(d[R]===w)continue;!d[R]||typeof d[R]!="object"||Array.isArray(d[R])!==Array.isArray(w)||w instanceof Date||w instanceof RegExp?d[R]=p(w,{symbols:E.symbols}):_.merge(d[R],w,E)}else(w!=null||E.nullOverride)&&(d[R]=w)}return d}},9621:(o,l,f)=>{const c=f(375),p={};o.exports=function(g,_,d){if(_===!1||_==null)return g;typeof(d=d||{})=="string"&&(d={separator:d});const y=Array.isArray(_);c(!y||!d.separator,"Separator option is not valid for array-based chain");const E=y?_:_.split(d.separator||".");let v=g;for(let b=0;b<E.length;++b){let R=E[b];const w=d.iterables&&p.iterables(v);if(Array.isArray(v)||w==="set"){const S=Number(R);Number.isInteger(S)&&(R=S<0?v.length+S:S)}if(!v||typeof v=="function"&&d.functions===!1||!w&&v[R]===void 0){c(!d.strict||b+1===E.length,"Missing segment",R,"in reach path ",_),c(typeof v=="object"||d.functions===!0||typeof v!="function","Invalid segment",R,"in reach path ",_),v=d.default;break}v=w?w==="set"?[...v][R]:v.get(R):v[R]}return v},p.iterables=function(g){return g instanceof Set?"set":g instanceof Map?"map":void 0}},8761:o=>{o.exports=function(...l){try{return JSON.stringify(...l)}catch(f){return"[Cannot display object: "+f.message+"]"}}},4277:(o,l)=>{const f={};l=o.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},f.typeMap=new Map([["[object Error]",l.error],["[object Map]",l.map],["[object Promise]",l.promise],["[object Set]",l.set],["[object WeakMap]",l.weakMap],["[object WeakSet]",l.weakSet]]),l.getInternalProto=function(c){if(Array.isArray(c))return l.array;if(c instanceof Date)return l.date;if(c instanceof RegExp)return l.regex;if(c instanceof Error)return l.error;const p=Object.prototype.toString.call(c);return f.typeMap.get(p)||l.generic}},7043:(o,l)=>{l.keys=function(f,c={}){return c.symbols!==!1?Reflect.ownKeys(f):Object.getOwnPropertyNames(f)}},3652:(o,l,f)=>{const c=f(375),p={};l.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(g,_){const d=[].concat((_=_||{}).before||[]),y=[].concat(_.after||[]),E=_.group||"?",v=_.sort||0;c(!d.includes(E),`Item cannot come before itself: ${E}`),c(!d.includes("?"),"Item cannot come before unassociated items"),c(!y.includes(E),`Item cannot come after itself: ${E}`),c(!y.includes("?"),"Item cannot come after unassociated items"),Array.isArray(g)||(g=[g]);for(const b of g){const R={seq:this._items.length,sort:v,before:d,after:y,group:E,node:b};this._items.push(R)}if(!_.manual){const b=this._sort();c(b,"item",E!=="?"?`added into group ${E}`:"","created a dependencies error")}return this.nodes}merge(g){Array.isArray(g)||(g=[g]);for(const d of g)if(d)for(const y of d._items)this._items.push(Object.assign({},y));this._items.sort(p.mergeSort);for(let d=0;d<this._items.length;++d)this._items[d].seq=d;const _=this._sort();return c(_,"merge created a dependencies error"),this.nodes}sort(){const g=this._sort();return c(g,"sort created a dependencies error"),this.nodes}_sort(){const g={},_=Object.create(null),d=Object.create(null);for(const R of this._items){const w=R.seq,S=R.group;d[S]=d[S]||[],d[S].push(w),g[w]=R.before;for(const x of R.after)_[x]=_[x]||[],_[x].push(w)}for(const R in g){const w=[];for(const S in g[R]){const x=g[R][S];d[x]=d[x]||[],w.push(...d[x])}g[R]=w}for(const R in _)if(d[R])for(const w of d[R])g[w].push(..._[R]);const y={};for(const R in g){const w=g[R];for(const S of w)y[S]=y[S]||[],y[S].push(R)}const E={},v=[];for(let R=0;R<this._items.length;++R){let w=R;if(y[R]){w=null;for(let S=0;S<this._items.length;++S){if(E[S]===!0)continue;y[S]||(y[S]=[]);const x=y[S].length;let M=0;for(let k=0;k<x;++k)E[y[S][k]]&&++M;if(M===x){w=S;break}}}w!==null&&(E[w]=!0,v.push(w))}if(v.length!==this._items.length)return!1;const b={};for(const R of this._items)b[R.seq]=R;this._items=[],this.nodes=[];for(const R of v){const w=b[R];this.nodes.push(w.node),this._items.push(w)}return!0}},p.mergeSort=(g,_)=>g.sort===_.sort?0:g.sort<_.sort?-1:1},5380:(o,l,f)=>{const c=f(443),p=f(2178),g={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:c.URL||URL};l.analyze=function(_,d={}){if(!_)return p.code("DOMAIN_NON_EMPTY_STRING");if(typeof _!="string")throw new Error("Invalid input: domain must be a string");if(_.length>256)return p.code("DOMAIN_TOO_LONG");if(g.nonAsciiRx.test(_)){if(d.allowUnicode===!1)return p.code("DOMAIN_INVALID_UNICODE_CHARS");_=_.normalize("NFC")}if(g.domainControlRx.test(_))return p.code("DOMAIN_INVALID_CHARS");_=g.punycode(_),d.allowFullyQualified&&_[_.length-1]==="."&&(_=_.slice(0,-1));const y=d.minDomainSegments||g.minDomainSegments,E=_.split(".");if(E.length<y)return p.code("DOMAIN_SEGMENTS_COUNT");if(d.maxDomainSegments&&E.length>d.maxDomainSegments)return p.code("DOMAIN_SEGMENTS_COUNT_MAX");const v=d.tlds;if(v){const b=E[E.length-1].toLowerCase();if(v.deny&&v.deny.has(b)||v.allow&&!v.allow.has(b))return p.code("DOMAIN_FORBIDDEN_TLDS")}for(let b=0;b<E.length;++b){const R=E[b];if(!R.length)return p.code("DOMAIN_EMPTY_SEGMENT");if(R.length>63)return p.code("DOMAIN_LONG_SEGMENT");if(b<E.length-1){if(!g.domainSegmentRx.test(R))return p.code("DOMAIN_INVALID_CHARS")}else if(!g.tldSegmentRx.test(R))return p.code("DOMAIN_INVALID_TLDS_CHARS")}return null},l.isValid=function(_,d){return!l.analyze(_,d)},g.punycode=function(_){_.includes("%")&&(_=_.replace(/%/g,"%25"));try{return new g.URL(`http://${_}`).host}catch{return _}}},1745:(o,l,f)=>{const c=f(9848),p=f(5380),g=f(2178),_={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(c.TextEncoder||TextEncoder)};l.analyze=function(d,y){return _.email(d,y)},l.isValid=function(d,y){return!_.email(d,y)},_.email=function(d,y={}){if(typeof d!="string")throw new Error("Invalid input: email must be a string");if(!d)return g.code("EMPTY_STRING");const E=!_.nonAsciiRx.test(d);if(!E){if(y.allowUnicode===!1)return g.code("FORBIDDEN_UNICODE");d=d.normalize("NFC")}const v=d.split("@");if(v.length!==2)return v.length>2?g.code("MULTIPLE_AT_CHAR"):g.code("MISSING_AT_CHAR");const[b,R]=v;if(!b)return g.code("EMPTY_LOCAL");if(!y.ignoreLength){if(d.length>254)return g.code("ADDRESS_TOO_LONG");if(_.encoder.encode(b).length>64)return g.code("LOCAL_TOO_LONG")}return _.local(b,E)||p.analyze(R,y)},_.local=function(d,y){const E=d.split(".");for(const v of E){if(!v.length)return g.code("EMPTY_LOCAL_SEGMENT");if(y){if(!_.atextRx.test(v))return g.code("INVALID_LOCAL_CHARS")}else for(const b of v){if(_.atextRx.test(b))continue;const R=_.binary(b);if(!_.atomRx.test(R))return g.code("INVALID_LOCAL_CHARS")}}},_.binary=function(d){return Array.from(_.encoder.encode(d)).map(y=>String.fromCharCode(y)).join("")},_.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,_.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(o,l)=>{l.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},l.code=function(f){return{code:f,error:l.codes[f]}}},9959:(o,l,f)=>{const c=f(375),p=f(5752);l.regex=function(g={}){c(g.cidr===void 0||typeof g.cidr=="string","options.cidr must be a string");const _=g.cidr?g.cidr.toLowerCase():"optional";c(["required","optional","forbidden"].includes(_),"options.cidr must be one of required, optional, forbidden"),c(g.version===void 0||typeof g.version=="string"||Array.isArray(g.version),"options.version must be a string or an array of string");let d=g.version||["ipv4","ipv6","ipvfuture"];Array.isArray(d)||(d=[d]),c(d.length>=1,"options.version must have at least 1 version specified");for(let v=0;v<d.length;++v)c(typeof d[v]=="string","options.version must only contain strings"),d[v]=d[v].toLowerCase(),c(["ipv4","ipv6","ipvfuture"].includes(d[v]),"options.version contains unknown version "+d[v]+" - must be one of ipv4, ipv6, ipvfuture");d=Array.from(new Set(d));const y=`(?:${d.map(v=>{if(_==="forbidden")return p.ip[v];const b=`\\/${v==="ipv4"?p.ip.v4Cidr:p.ip.v6Cidr}`;return _==="required"?`${p.ip[v]}${b}`:`${p.ip[v]}(?:${b})?`}).join("|")})`,E=new RegExp(`^${y}$`);return{cidr:_,versions:d,regex:E,raw:y}}},5752:(o,l,f)=>{const c=f(375),p=f(6064),g={generate:function(){const _={},d="\\dA-Fa-f",y="["+d+"]",E="\\w-\\.~",v="!\\$&'\\(\\)\\*\\+,;=",b="%"+d,R=E+b+v+":@",w="["+R+"]",S="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";_.ipv4address="(?:"+S+"\\.){3}"+S;const x=y+"{1,4}",M="(?:"+x+":"+x+"|"+_.ipv4address+")",k="(?:"+x+":){6}"+M,V="::(?:"+x+":){5}"+M,I="(?:"+x+")?::(?:"+x+":){4}"+M,T="(?:(?:"+x+":){0,1}"+x+")?::(?:"+x+":){3}"+M,C="(?:(?:"+x+":){0,2}"+x+")?::(?:"+x+":){2}"+M,O="(?:(?:"+x+":){0,3}"+x+")?::"+x+":"+M,j="(?:(?:"+x+":){0,4}"+x+")?::"+M,$="(?:(?:"+x+":){0,5}"+x+")?::"+x,U="(?:(?:"+x+":){0,6}"+x+")?::";_.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",_.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",_.ipv6address="(?:"+k+"|"+V+"|"+I+"|"+T+"|"+C+"|"+O+"|"+j+"|"+$+"|"+U+")",_.ipvFuture="v"+y+"+\\.["+E+v+":]+",_.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",_.schemeRegex=new RegExp(_.scheme);const he="["+E+b+v+":]*",pe="["+E+b+v+"]{1,255}",Y="(?:\\[(?:"+_.ipv6address+"|"+_.ipvFuture+")\\]|"+_.ipv4address+"|"+pe+")",se="(?:"+he+"@)?"+Y+"(?::\\d*)?",ve="(?:"+he+"@)?("+Y+")(?::\\d*)?",xe=w+"*",B=w+"+",re="(?:\\/"+xe+")*",me="\\/(?:"+B+re+")?",ce=B+re,be="["+E+b+v+"@]+"+re,Ue="(?:\\/\\/\\/"+xe+re+")";return _.hierPart="(?:(?:\\/\\/"+se+re+")|"+me+"|"+ce+"|"+Ue+")",_.hierPartCapture="(?:(?:\\/\\/"+ve+re+")|"+me+"|"+ce+")",_.relativeRef="(?:(?:\\/\\/"+se+re+")|"+me+"|"+be+"|)",_.relativeRefCapture="(?:(?:\\/\\/"+ve+re+")|"+me+"|"+be+"|)",_.query="["+R+"\\/\\?]*(?=#|$)",_.queryWithSquareBrackets="["+R+"\\[\\]\\/\\?]*(?=#|$)",_.fragment="["+R+"\\/\\?]*",_}};g.rfc3986=g.generate(),l.ip={v4Cidr:g.rfc3986.ipv4Cidr,v6Cidr:g.rfc3986.ipv6Cidr,ipv4:g.rfc3986.ipv4address,ipv6:g.rfc3986.ipv6address,ipvfuture:g.rfc3986.ipvFuture},g.createRegex=function(_){const d=g.rfc3986,y="(?:\\?"+(_.allowQuerySquareBrackets?d.queryWithSquareBrackets:d.query)+")?(?:#"+d.fragment+")?",E=_.domain?d.relativeRefCapture:d.relativeRef;if(_.relativeOnly)return g.wrap(E+y);let v="";if(_.scheme){c(_.scheme instanceof RegExp||typeof _.scheme=="string"||Array.isArray(_.scheme),"scheme must be a RegExp, String, or Array");const w=[].concat(_.scheme);c(w.length>=1,"scheme must have at least 1 scheme specified");const S=[];for(let x=0;x<w.length;++x){const M=w[x];c(M instanceof RegExp||typeof M=="string","scheme at position "+x+" must be a RegExp or String"),M instanceof RegExp?S.push(M.source.toString()):(c(d.schemeRegex.test(M),"scheme at position "+x+" must be a valid scheme"),S.push(p(M)))}v=S.join("|")}const b="(?:"+(v?"(?:"+v+")":d.scheme)+":"+(_.domain?d.hierPartCapture:d.hierPart)+")",R=_.allowRelative?"(?:"+b+"|"+E+")":b;return g.wrap(R+y,v)},g.wrap=function(_,d){return{raw:_=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${_}`,regex:new RegExp(`^${_}$`),scheme:d}},g.uriRegex=g.createRegex({}),l.regex=function(_={}){return _.scheme||_.allowRelative||_.relativeOnly||_.allowQuerySquareBrackets||_.domain?g.createRegex(_):g.uriRegex}},1447:(o,l)=>{const f={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};l.Parser=class{constructor(c,p={}){if(!p[f.settings]&&p.constants)for(const g in p.constants){const _=p.constants[g];if(_!==null&&!["boolean","number","string"].includes(typeof _))throw new Error(`Formula constant ${g} contains invalid ${typeof _} value type`)}this.settings=p[f.settings]?p:Object.assign({[f.settings]:!0,constants:{},functions:{}},p),this.single=null,this._parts=null,this._parse(c)}_parse(c){let p=[],g="",_=0,d=!1;const y=v=>{if(_)throw new Error("Formula missing closing parenthesis");const b=p.length?p[p.length-1]:null;if(d||g||v){if(b&&b.type==="reference"&&v===")")return b.type="function",b.value=this._subFormula(g,b.value),void(g="");if(v===")"){const R=new l.Parser(g,this.settings);p.push({type:"segment",value:R})}else if(d){if(d==="]")return p.push({type:"reference",value:g}),void(g="");p.push({type:"literal",value:g})}else if(f.operatorCharacters.includes(g))b&&b.type==="operator"&&f.operators.includes(b.value+g)?b.value+=g:p.push({type:"operator",value:g});else if(g.match(f.numberRx))p.push({type:"constant",value:parseFloat(g)});else if(this.settings.constants[g]!==void 0)p.push({type:"constant",value:this.settings.constants[g]});else{if(!g.match(f.tokenRx))throw new Error(`Formula contains invalid token: ${g}`);p.push({type:"reference",value:g})}g=""}};for(const v of c)d?v===d?(y(),d=!1):g+=v:_?v==="("?(g+=v,++_):v===")"?(--_,_?g+=v:y(v)):g+=v:v in f.literals?d=f.literals[v]:v==="("?(y(),++_):f.operatorCharacters.includes(v)?(y(),g=v,y()):v!==" "?g+=v:y();y(),p=p.map((v,b)=>v.type!=="operator"||v.value!=="-"||b&&p[b-1].type!=="operator"?v:{type:"operator",value:"n"});let E=!1;for(const v of p){if(v.type==="operator"){if(f.operatorsPrefix.includes(v.value))continue;if(!E)throw new Error("Formula contains an operator in invalid position");if(!f.operators.includes(v.value))throw new Error(`Formula contains an unknown operator ${v.value}`)}else if(E)throw new Error("Formula missing expected operator");E=!E}if(!E)throw new Error("Formula contains invalid trailing operator");p.length===1&&["reference","literal","constant"].includes(p[0].type)&&(this.single={type:p[0].type==="reference"?"reference":"value",value:p[0].value}),this._parts=p.map(v=>{if(v.type==="operator")return f.operatorsPrefix.includes(v.value)?v:v.value;if(v.type!=="reference")return v.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(v.value))throw new Error(`Formula contains invalid reference ${v.value}`);return this.settings.reference?this.settings.reference(v.value):f.reference(v.value)})}_subFormula(c,p){const g=this.settings.functions[p];if(typeof g!="function")throw new Error(`Formula contains unknown function ${p}`);let _=[];if(c){let d="",y=0,E=!1;const v=()=>{if(!d)throw new Error(`Formula contains function ${p} with invalid arguments ${c}`);_.push(d),d=""};for(let b=0;b<c.length;++b){const R=c[b];E?(d+=R,R===E&&(E=!1)):R in f.literals&&!y?(d+=R,E=f.literals[R]):R!==","||y?(d+=R,R==="("?++y:R===")"&&--y):v()}v()}return _=_.map(d=>new l.Parser(d,this.settings)),function(d){const y=[];for(const E of _)y.push(E.evaluate(d));return g.call(d,...y)}}evaluate(c){const p=this._parts.slice();for(let g=p.length-2;g>=0;--g){const _=p[g];if(_&&_.type==="operator"){const d=p[g+1];p.splice(g+1,1);const y=f.evaluate(d,c);p[g]=f.single(_.value,y)}}return f.operatorsOrder.forEach(g=>{for(let _=1;_<p.length-1;)if(g.includes(p[_])){const d=p[_],y=f.evaluate(p[_-1],c),E=f.evaluate(p[_+1],c);p.splice(_,2);const v=f.calculate(d,y,E);p[_-1]=v===0?0:v}else _+=2}),f.evaluate(p[0],c)}},l.Parser.prototype[f.symbol]=!0,f.reference=function(c){return function(p){return p&&p[c]!==void 0?p[c]:null}},f.evaluate=function(c,p){return c===null?null:typeof c=="function"?c(p):c[f.symbol]?c.evaluate(p):c},f.single=function(c,p){if(c==="!")return!p;const g=-p;return g===0?0:g},f.calculate=function(c,p,g){if(c==="??")return f.exists(p)?p:g;if(typeof p=="string"||typeof g=="string"){if(c==="+")return(p=f.exists(p)?p:"")+(f.exists(g)?g:"")}else switch(c){case"^":return Math.pow(p,g);case"*":return p*g;case"/":return p/g;case"%":return p%g;case"+":return p+g;case"-":return p-g}switch(c){case"<":return p<g;case"<=":return p<=g;case">":return p>g;case">=":return p>=g;case"==":return p===g;case"!=":return p!==g;case"&&":return p&&g;case"||":return p||g}return null},f.exists=function(c){return c!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:o=>{o.exports=JSON.parse('{"version":"17.13.3"}')}},i={},function o(l){var f=i[l];if(f!==void 0)return f.exports;var c=i[l]={exports:{}};return r[l](c,c.exports,o),c.exports}(5107);var r,i})}(bm)),bm.exports}var CC=xC();const Xn=bp(CC),DC=Xn.object({storeName:Xn.string().min(4).max(22).required().pattern(/^[a-zA-ZåäöÅÄÖ\s,.-]*$/),storeDescription:Xn.string().min(5).max(110).required().pattern(/^[a-zA-ZåäöÅÄÖ\s,.]*$/),storePrice:Xn.number().positive().precision(2).required().min(0).precision(2),storeImg:Xn.string().uri().required()});function OC(n,e){let r={name:"",description:"",price:"",img:""};e.name&&(r.name="invalid"),e.description&&(r.description="invalid"),e.price&&(r.price="invalid"),e.img&&(r.img="invalid");let i={name:"",description:"",price:"",img:""};const o=DC.validate(n,{abortEarly:!1});o.error&&o.error.details.forEach(f=>{const c=f.context.key;e[c]||(r[c]="invalid");const p=/^[a-zA-ZåäöÅÄÖ\s,.]*$/;c==="storeName"?(i.name="Enter a toy name (minimum 4 characters.",n.storeName.length>22&&(i.name="Maximum 22 characters allowed for the name."),p.test(n.storeName)||(i.name="Only (a-z, åäö,.), commas, periods, and spaces are allowed.")):c==="storeDescription"?(i.description="Provide a description of the toy (minimum 5 characters)",n.storeDescription.length>110&&(i.description="Maximum 110 characters allowed for the description."),p.test(n.storeDescription)||(i.description="Only (a-z, åäö,.), commas, periods, and spaces are allowed.")):c==="storePrice"?(i.price="Enter a valid price for the toy.",n.storePrice<0&&(i.price="Price cannot be less than 0.")):c==="storeImg"&&(i.img="Enter a valid image URL for the toy..")});const l=!o.error;return{css:r,message:i,isFormValid:l}}const IC=()=>{};var Z0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=function(n){const e=[];let r=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},NC=function(n){const e=[];let r=0,i=0;for(;r<n.length;){const o=n[r++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[r++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[r++],f=n[r++],c=n[r++],p=((o&7)<<18|(l&63)<<12|(f&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[r++],f=n[r++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|f&63)}}return e.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],f=o+1<n.length,c=f?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,_=l>>2,d=(l&3)<<4|c>>4;let y=(c&15)<<2|g>>6,E=g&63;p||(E=64,f||(y=64)),i.push(r[_],r[d],r[y],r[E])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):NC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=r[n.charAt(o++)],c=o<n.length?r[n.charAt(o)]:0;++o;const g=o<n.length?r[n.charAt(o)]:64;++o;const d=o<n.length?r[n.charAt(o)]:64;if(++o,l==null||c==null||g==null||d==null)throw new MC;const y=l<<2|c>>4;if(i.push(y),g!==64){const E=c<<4&240|g>>2;if(i.push(E),d!==64){const v=g<<6&192|d;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class MC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PC=function(n){const e=mE(n);return pE.encodeByteArray(e,!0)},mf=function(n){return PC(n).replace(/\./g,"")},kC=function(n){try{return pE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=()=>VC().__FIREBASE_DEFAULTS__,LC=()=>{if(typeof process>"u"||typeof Z0>"u")return;const n=Z0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},UC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kC(n[1]);return e&&JSON.parse(e)},qp=()=>{try{return IC()||jC()||LC()||UC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zC=n=>{var e,r;return(r=(e=qp())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},$C=n=>{const e=zC(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),i]:[e.substring(0,r),i]},gE=()=>{var n;return(n=qp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[mf(JSON.stringify(r)),mf(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HC(){var n;const e=(n=qp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GC(){return!HC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YC(){try{return typeof indexedDB=="object"}catch{return!1}}function QC(){return new Promise((n,e)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="FirebaseError";class Po extends Error{constructor(e,r,i){super(r),this.code=e,this.customData=i,this.name=KC,Object.setPrototypeOf(this,Po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yE.prototype.create)}}class yE{constructor(e,r,i){this.service=e,this.serviceName=r,this.errors=i}create(e,...r){const i=r[0]||{},o=`${this.service}/${e}`,l=this.errors[e],f=l?XC(l,i):"Error",c=`${this.serviceName}: ${f} (${o}).`;return new Po(o,c,i)}}function XC(n,e){return n.replace(ZC,(r,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const ZC=/\{\$([^}]+)}/g;function pf(n,e){if(n===e)return!0;const r=Object.keys(n),i=Object.keys(e);for(const o of r){if(!i.includes(o))return!1;const l=n[o],f=e[o];if(W0(l)&&W0(f)){if(!pf(l,f))return!1}else if(l!==f)return!1}for(const o of i)if(!r.includes(o))return!1;return!0}function W0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(n){return n.endsWith(".cloudworkstations.dev")}async function WC(n){return(await fetch(n,{credentials:"include"})).ok}class iu{constructor(e,r,i){this.name=e,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const i=new BC;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t4(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[l,f]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);i===c&&f.resolve(o)}return o}onInit(e,r){var i;const o=this.normalizeInstanceIdentifier(r),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const f=this.instances.get(o);return f&&e(f,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,r){const i=this.onInitCallbacks.get(r);if(i)for(const o of i)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:e4(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e4(n){return n===hs?void 0:n}function t4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new JC(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(lt||(lt={}));const r4={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},a4=lt.INFO,i4={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},s4=(n,e,...r)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=i4[e];if(o)console[o](`[${i}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _E{constructor(e){this.name=e,this._logLevel=a4,this._logHandler=s4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const o4=(n,e)=>e.some(r=>n instanceof r);let J0,eb;function l4(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u4(){return eb||(eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bE=new WeakMap,Wm=new WeakMap,EE=new WeakMap,Em=new WeakMap,Hp=new WeakMap;function c4(n){const e=new Promise((r,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",f)},l=()=>{r(_i(n.result)),o()},f=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&bE.set(r,n)}).catch(()=>{}),Hp.set(e,n),e}function f4(n){if(Wm.has(n))return;const e=new Promise((r,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",f),n.removeEventListener("abort",f)},l=()=>{r(),o()},f=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",f),n.addEventListener("abort",f)});Wm.set(n,e)}let Jm={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return Wm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||EE.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return _i(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function h4(n){Jm=n(Jm)}function d4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const i=n.call(wm(this),e,...r);return EE.set(i,e.sort?e.sort():[e]),_i(i)}:u4().includes(n)?function(...e){return n.apply(wm(this),e),_i(bE.get(this))}:function(...e){return _i(n.apply(wm(this),e))}}function m4(n){return typeof n=="function"?d4(n):(n instanceof IDBTransaction&&f4(n),o4(n,l4())?new Proxy(n,Jm):n)}function _i(n){if(n instanceof IDBRequest)return c4(n);if(Em.has(n))return Em.get(n);const e=m4(n);return e!==n&&(Em.set(n,e),Hp.set(e,n)),e}const wm=n=>Hp.get(n);function p4(n,e,{blocked:r,upgrade:i,blocking:o,terminated:l}={}){const f=indexedDB.open(n,e),c=_i(f);return i&&f.addEventListener("upgradeneeded",p=>{i(_i(f.result),p.oldVersion,p.newVersion,_i(f.transaction),p)}),r&&f.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),c.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),c}const g4=["get","getKey","getAll","getAllKeys","count"],y4=["put","add","delete","clear"],Am=new Map;function tb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,o=y4.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(o||g4.includes(r)))return;const l=async function(f,...c){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(c.shift())),(await Promise.all([g[r](...c),o&&p.done]))[0]};return Am.set(e,l),l}h4(n=>({...n,get:(e,r,i)=>tb(e,r)||n.get(e,r,i),has:(e,r)=>!!tb(e,r)||n.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(_4(r)){const i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}}function _4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",nb="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new _E("@firebase/app"),b4="@firebase/app-compat",E4="@firebase/analytics-compat",w4="@firebase/analytics",A4="@firebase/app-check-compat",T4="@firebase/app-check",S4="@firebase/auth",R4="@firebase/auth-compat",x4="@firebase/database",C4="@firebase/data-connect",D4="@firebase/database-compat",O4="@firebase/functions",I4="@firebase/functions-compat",N4="@firebase/installations",M4="@firebase/installations-compat",P4="@firebase/messaging",k4="@firebase/messaging-compat",V4="@firebase/performance",j4="@firebase/performance-compat",L4="@firebase/remote-config",U4="@firebase/remote-config-compat",z4="@firebase/storage",$4="@firebase/storage-compat",B4="@firebase/firestore",F4="@firebase/vertexai",q4="@firebase/firestore-compat",H4="firebase",G4="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",Y4={[ep]:"fire-core",[b4]:"fire-core-compat",[w4]:"fire-analytics",[E4]:"fire-analytics-compat",[T4]:"fire-app-check",[A4]:"fire-app-check-compat",[S4]:"fire-auth",[R4]:"fire-auth-compat",[x4]:"fire-rtdb",[C4]:"fire-data-connect",[D4]:"fire-rtdb-compat",[O4]:"fire-fn",[I4]:"fire-fn-compat",[N4]:"fire-iid",[M4]:"fire-iid-compat",[P4]:"fire-fcm",[k4]:"fire-fcm-compat",[V4]:"fire-perf",[j4]:"fire-perf-compat",[L4]:"fire-rc",[U4]:"fire-rc-compat",[z4]:"fire-gcs",[$4]:"fire-gcs-compat",[B4]:"fire-fst",[q4]:"fire-fst-compat",[F4]:"fire-vertex","fire-js":"fire-js",[H4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,Q4=new Map,np=new Map;function rb(n,e){try{n.container.addComponent(e)}catch(r){Ma.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function yf(n){const e=n.name;if(np.has(e))return Ma.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,n);for(const r of gf.values())rb(r,n);for(const r of Q4.values())rb(r,n);return!0}function K4(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}function X4(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new yE("app","Firebase",Z4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,r,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new iu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=G4;function wE(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:tp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw bi.create("bad-app-name",{appName:String(o)});if(r||(r=gE()),!r)throw bi.create("no-options");const l=gf.get(o);if(l){if(pf(r,l.options)&&pf(i,l.config))return l;throw bi.create("duplicate-app",{appName:o})}const f=new n4(o);for(const p of np.values())f.addComponent(p);const c=new W4(r,i,f);return gf.set(o,c),c}function eD(n=tp){const e=gf.get(n);if(!e&&n===tp&&gE())return wE();if(!e)throw bi.create("no-app",{appName:n});return e}function Ao(n,e,r){var i;let o=(i=Y4[n])!==null&&i!==void 0?i:n;r&&(o+=`-${r}`);const l=o.match(/\s|\//),f=e.match(/\s|\//);if(l||f){const c=[`Unable to register library "${o}" with version "${e}":`];l&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&f&&c.push("and"),f&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ma.warn(c.join(" "));return}yf(new iu(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="firebase-heartbeat-database",nD=1,su="firebase-heartbeat-store";let Tm=null;function AE(){return Tm||(Tm=p4(tD,nD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(su)}catch(r){console.warn(r)}}}}).catch(n=>{throw bi.create("idb-open",{originalErrorMessage:n.message})})),Tm}async function rD(n){try{const r=(await AE()).transaction(su),i=await r.objectStore(su).get(TE(n));return await r.done,i}catch(e){if(e instanceof Po)Ma.warn(e.message);else{const r=bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ma.warn(r.message)}}}async function ab(n,e){try{const i=(await AE()).transaction(su,"readwrite");await i.objectStore(su).put(e,TE(n)),await i.done}catch(r){if(r instanceof Po)Ma.warn(r.message);else{const i=bi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ma.warn(i.message)}}}function TE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=1024,iD=30;class sD{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new lD(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ib();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(f=>f.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>iD){const f=uD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ma.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ib(),{heartbeatsToSend:i,unsentEntries:o}=oD(this._heartbeatsCache.heartbeats),l=mf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(r){return Ma.warn(r),""}}}function ib(){return new Date().toISOString().substring(0,10)}function oD(n,e=aD){const r=[];let i=n.slice();for(const o of n){const l=r.find(f=>f.agent===o.agent);if(l){if(l.dates.push(o.date),sb(r)>e){l.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),sb(r)>e){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class lD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YC()?QC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await rD(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return ab(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return ab(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function sb(n){return mf(JSON.stringify({version:2,heartbeats:n})).length}function uD(n){if(n.length===0)return-1;let e=0,r=n[0].date;for(let i=1;i<n.length;i++)n[i].date<r&&(r=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(n){yf(new iu("platform-logger",e=>new v4(e),"PRIVATE")),yf(new iu("heartbeat",e=>new sD(e),"PRIVATE")),Ao(ep,nb,n),Ao(ep,nb,"esm2017"),Ao("fire-js","")}cD("");var ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,SE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function C(){}C.prototype=T.prototype,I.D=T.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(O,j,$){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return T.prototype[j].apply(O,U)}}function r(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,r),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,T,C){C||(C=0);var O=Array(16);if(typeof T=="string")for(var j=0;16>j;++j)O[j]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(j=0;16>j;++j)O[j]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=I.g[0],C=I.g[1],j=I.g[2];var $=I.g[3],U=T+($^C&(j^$))+O[0]+3614090360&4294967295;T=C+(U<<7&4294967295|U>>>25),U=$+(j^T&(C^j))+O[1]+3905402710&4294967295,$=T+(U<<12&4294967295|U>>>20),U=j+(C^$&(T^C))+O[2]+606105819&4294967295,j=$+(U<<17&4294967295|U>>>15),U=C+(T^j&($^T))+O[3]+3250441966&4294967295,C=j+(U<<22&4294967295|U>>>10),U=T+($^C&(j^$))+O[4]+4118548399&4294967295,T=C+(U<<7&4294967295|U>>>25),U=$+(j^T&(C^j))+O[5]+1200080426&4294967295,$=T+(U<<12&4294967295|U>>>20),U=j+(C^$&(T^C))+O[6]+2821735955&4294967295,j=$+(U<<17&4294967295|U>>>15),U=C+(T^j&($^T))+O[7]+4249261313&4294967295,C=j+(U<<22&4294967295|U>>>10),U=T+($^C&(j^$))+O[8]+1770035416&4294967295,T=C+(U<<7&4294967295|U>>>25),U=$+(j^T&(C^j))+O[9]+2336552879&4294967295,$=T+(U<<12&4294967295|U>>>20),U=j+(C^$&(T^C))+O[10]+4294925233&4294967295,j=$+(U<<17&4294967295|U>>>15),U=C+(T^j&($^T))+O[11]+2304563134&4294967295,C=j+(U<<22&4294967295|U>>>10),U=T+($^C&(j^$))+O[12]+1804603682&4294967295,T=C+(U<<7&4294967295|U>>>25),U=$+(j^T&(C^j))+O[13]+4254626195&4294967295,$=T+(U<<12&4294967295|U>>>20),U=j+(C^$&(T^C))+O[14]+2792965006&4294967295,j=$+(U<<17&4294967295|U>>>15),U=C+(T^j&($^T))+O[15]+1236535329&4294967295,C=j+(U<<22&4294967295|U>>>10),U=T+(j^$&(C^j))+O[1]+4129170786&4294967295,T=C+(U<<5&4294967295|U>>>27),U=$+(C^j&(T^C))+O[6]+3225465664&4294967295,$=T+(U<<9&4294967295|U>>>23),U=j+(T^C&($^T))+O[11]+643717713&4294967295,j=$+(U<<14&4294967295|U>>>18),U=C+($^T&(j^$))+O[0]+3921069994&4294967295,C=j+(U<<20&4294967295|U>>>12),U=T+(j^$&(C^j))+O[5]+3593408605&4294967295,T=C+(U<<5&4294967295|U>>>27),U=$+(C^j&(T^C))+O[10]+38016083&4294967295,$=T+(U<<9&4294967295|U>>>23),U=j+(T^C&($^T))+O[15]+3634488961&4294967295,j=$+(U<<14&4294967295|U>>>18),U=C+($^T&(j^$))+O[4]+3889429448&4294967295,C=j+(U<<20&4294967295|U>>>12),U=T+(j^$&(C^j))+O[9]+568446438&4294967295,T=C+(U<<5&4294967295|U>>>27),U=$+(C^j&(T^C))+O[14]+3275163606&4294967295,$=T+(U<<9&4294967295|U>>>23),U=j+(T^C&($^T))+O[3]+4107603335&4294967295,j=$+(U<<14&4294967295|U>>>18),U=C+($^T&(j^$))+O[8]+1163531501&4294967295,C=j+(U<<20&4294967295|U>>>12),U=T+(j^$&(C^j))+O[13]+2850285829&4294967295,T=C+(U<<5&4294967295|U>>>27),U=$+(C^j&(T^C))+O[2]+4243563512&4294967295,$=T+(U<<9&4294967295|U>>>23),U=j+(T^C&($^T))+O[7]+1735328473&4294967295,j=$+(U<<14&4294967295|U>>>18),U=C+($^T&(j^$))+O[12]+2368359562&4294967295,C=j+(U<<20&4294967295|U>>>12),U=T+(C^j^$)+O[5]+4294588738&4294967295,T=C+(U<<4&4294967295|U>>>28),U=$+(T^C^j)+O[8]+2272392833&4294967295,$=T+(U<<11&4294967295|U>>>21),U=j+($^T^C)+O[11]+1839030562&4294967295,j=$+(U<<16&4294967295|U>>>16),U=C+(j^$^T)+O[14]+4259657740&4294967295,C=j+(U<<23&4294967295|U>>>9),U=T+(C^j^$)+O[1]+2763975236&4294967295,T=C+(U<<4&4294967295|U>>>28),U=$+(T^C^j)+O[4]+1272893353&4294967295,$=T+(U<<11&4294967295|U>>>21),U=j+($^T^C)+O[7]+4139469664&4294967295,j=$+(U<<16&4294967295|U>>>16),U=C+(j^$^T)+O[10]+3200236656&4294967295,C=j+(U<<23&4294967295|U>>>9),U=T+(C^j^$)+O[13]+681279174&4294967295,T=C+(U<<4&4294967295|U>>>28),U=$+(T^C^j)+O[0]+3936430074&4294967295,$=T+(U<<11&4294967295|U>>>21),U=j+($^T^C)+O[3]+3572445317&4294967295,j=$+(U<<16&4294967295|U>>>16),U=C+(j^$^T)+O[6]+76029189&4294967295,C=j+(U<<23&4294967295|U>>>9),U=T+(C^j^$)+O[9]+3654602809&4294967295,T=C+(U<<4&4294967295|U>>>28),U=$+(T^C^j)+O[12]+3873151461&4294967295,$=T+(U<<11&4294967295|U>>>21),U=j+($^T^C)+O[15]+530742520&4294967295,j=$+(U<<16&4294967295|U>>>16),U=C+(j^$^T)+O[2]+3299628645&4294967295,C=j+(U<<23&4294967295|U>>>9),U=T+(j^(C|~$))+O[0]+4096336452&4294967295,T=C+(U<<6&4294967295|U>>>26),U=$+(C^(T|~j))+O[7]+1126891415&4294967295,$=T+(U<<10&4294967295|U>>>22),U=j+(T^($|~C))+O[14]+2878612391&4294967295,j=$+(U<<15&4294967295|U>>>17),U=C+($^(j|~T))+O[5]+4237533241&4294967295,C=j+(U<<21&4294967295|U>>>11),U=T+(j^(C|~$))+O[12]+1700485571&4294967295,T=C+(U<<6&4294967295|U>>>26),U=$+(C^(T|~j))+O[3]+2399980690&4294967295,$=T+(U<<10&4294967295|U>>>22),U=j+(T^($|~C))+O[10]+4293915773&4294967295,j=$+(U<<15&4294967295|U>>>17),U=C+($^(j|~T))+O[1]+2240044497&4294967295,C=j+(U<<21&4294967295|U>>>11),U=T+(j^(C|~$))+O[8]+1873313359&4294967295,T=C+(U<<6&4294967295|U>>>26),U=$+(C^(T|~j))+O[15]+4264355552&4294967295,$=T+(U<<10&4294967295|U>>>22),U=j+(T^($|~C))+O[6]+2734768916&4294967295,j=$+(U<<15&4294967295|U>>>17),U=C+($^(j|~T))+O[13]+1309151649&4294967295,C=j+(U<<21&4294967295|U>>>11),U=T+(j^(C|~$))+O[4]+4149444226&4294967295,T=C+(U<<6&4294967295|U>>>26),U=$+(C^(T|~j))+O[11]+3174756917&4294967295,$=T+(U<<10&4294967295|U>>>22),U=j+(T^($|~C))+O[2]+718787259&4294967295,j=$+(U<<15&4294967295|U>>>17),U=C+($^(j|~T))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(j+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+$&4294967295}i.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var C=T-this.blockSize,O=this.B,j=this.h,$=0;$<T;){if(j==0)for(;$<=C;)o(this,I,$),$+=this.blockSize;if(typeof I=="string"){for(;$<T;)if(O[j++]=I.charCodeAt($++),j==this.blockSize){o(this,O),j=0;break}}else for(;$<T;)if(O[j++]=I[$++],j==this.blockSize){o(this,O),j=0;break}}this.h=j,this.o+=T},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var C=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=C&255,C/=256;for(this.u(I),I=Array(16),T=C=0;4>T;++T)for(var O=0;32>O;O+=8)I[C++]=this.g[T]>>>O&255;return I};function l(I,T){var C=c;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=T(I)}function f(I,T){this.h=T;for(var C=[],O=!0,j=I.length-1;0<=j;j--){var $=I[j]|0;O&&$==T||(C[j]=$,O=!1)}this.g=C}var c={};function p(I){return-128<=I&&128>I?l(I,function(T){return new f([T|0],0>T?-1:0)}):new f([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return R(g(-I));for(var T=[],C=1,O=0;I>=C;O++)T[O]=I/C|0,C*=4294967296;return new f(T,0)}function _(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return R(_(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(T,8)),O=d,j=0;j<I.length;j+=8){var $=Math.min(8,I.length-j),U=parseInt(I.substring(j,j+$),T);8>$?($=g(Math.pow(T,$)),O=O.j($).add(g(U))):(O=O.j(C),O=O.add(g(U)))}return O}var d=p(0),y=p(1),E=p(16777216);n=f.prototype,n.m=function(){if(b(this))return-R(this).m();for(var I=0,T=1,C=0;C<this.g.length;C++){var O=this.i(C);I+=(0<=O?O:4294967296+O)*T,T*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(b(this))return"-"+R(this).toString(I);for(var T=g(Math.pow(I,6)),C=this,O="";;){var j=M(C,T).g;C=w(C,j.j(T));var $=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=j,v(C))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function b(I){return I.h==-1}n.l=function(I){return I=w(this,I),b(I)?-1:v(I)?0:1};function R(I){for(var T=I.g.length,C=[],O=0;O<T;O++)C[O]=~I.g[O];return new f(C,~I.h).add(y)}n.abs=function(){return b(this)?R(this):this},n.add=function(I){for(var T=Math.max(this.g.length,I.g.length),C=[],O=0,j=0;j<=T;j++){var $=O+(this.i(j)&65535)+(I.i(j)&65535),U=($>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);O=U>>>16,$&=65535,U&=65535,C[j]=U<<16|$}return new f(C,C[C.length-1]&-2147483648?-1:0)};function w(I,T){return I.add(R(T))}n.j=function(I){if(v(this)||v(I))return d;if(b(this))return b(I)?R(this).j(R(I)):R(R(this).j(I));if(b(I))return R(this.j(R(I)));if(0>this.l(E)&&0>I.l(E))return g(this.m()*I.m());for(var T=this.g.length+I.g.length,C=[],O=0;O<2*T;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var j=0;j<I.g.length;j++){var $=this.i(O)>>>16,U=this.i(O)&65535,he=I.i(j)>>>16,pe=I.i(j)&65535;C[2*O+2*j]+=U*pe,S(C,2*O+2*j),C[2*O+2*j+1]+=$*pe,S(C,2*O+2*j+1),C[2*O+2*j+1]+=U*he,S(C,2*O+2*j+1),C[2*O+2*j+2]+=$*he,S(C,2*O+2*j+2)}for(O=0;O<T;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=T;O<2*T;O++)C[O]=0;return new f(C,0)};function S(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function x(I,T){this.g=I,this.h=T}function M(I,T){if(v(T))throw Error("division by zero");if(v(I))return new x(d,d);if(b(I))return T=M(R(I),T),new x(R(T.g),R(T.h));if(b(T))return T=M(I,R(T)),new x(R(T.g),T.h);if(30<I.g.length){if(b(I)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var C=y,O=T;0>=O.l(I);)C=k(C),O=k(O);var j=V(C,1),$=V(O,1);for(O=V(O,2),C=V(C,2);!v(O);){var U=$.add(O);0>=U.l(I)&&(j=j.add(C),$=U),O=V(O,1),C=V(C,1)}return T=w(I,j.j(T)),new x(j,T)}for(j=d;0<=I.l(T);){for(C=Math.max(1,Math.floor(I.m()/T.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=g(C),U=$.j(T);b(U)||0<U.l(I);)C-=O,$=g(C),U=$.j(T);v($)&&($=y),j=j.add($),I=w(I,U)}return new x(j,I)}n.A=function(I){return M(this,I).h},n.and=function(I){for(var T=Math.max(this.g.length,I.g.length),C=[],O=0;O<T;O++)C[O]=this.i(O)&I.i(O);return new f(C,this.h&I.h)},n.or=function(I){for(var T=Math.max(this.g.length,I.g.length),C=[],O=0;O<T;O++)C[O]=this.i(O)|I.i(O);return new f(C,this.h|I.h)},n.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),C=[],O=0;O<T;O++)C[O]=this.i(O)^I.i(O);return new f(C,this.h^I.h)};function k(I){for(var T=I.g.length+1,C=[],O=0;O<T;O++)C[O]=I.i(O)<<1|I.i(O-1)>>>31;return new f(C,I.h)}function V(I,T){var C=T>>5;T%=32;for(var O=I.g.length-C,j=[],$=0;$<O;$++)j[$]=0<T?I.i($+C)>>>T|I.i($+C+1)<<32-T:I.i($+C);return new f(j,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,SE=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=_,Ei=f}).apply(typeof ob<"u"?ob:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RE,Gl,xE,Jc,rp,CE,DE,OE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,D,N){return h==Array.prototype||h==Object.prototype||(h[D]=N.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var D=0;D<h.length;++D){var N=h[D];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var i=r(this);function o(h,D){if(D)e:{var N=i;h=h.split(".");for(var z=0;z<h.length-1;z++){var X=h[z];if(!(X in N))break e;N=N[X]}h=h[h.length-1],z=N[h],D=D(z),D!=z&&D!=null&&e(N,h,{configurable:!0,writable:!0,value:D})}}function l(h,D){h instanceof String&&(h+="");var N=0,z=!1,X={next:function(){if(!z&&N<h.length){var ae=N++;return{value:D(ae,h[ae]),done:!1}}return z=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}o("Array.prototype.values",function(h){return h||function(){return l(this,function(D,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},c=this||self;function p(h){var D=typeof h;return D=D!="object"?D:h?Array.isArray(h)?"array":D:"null",D=="array"||D=="object"&&typeof h.length=="number"}function g(h){var D=typeof h;return D=="object"&&h!=null||D=="function"}function _(h,D,N){return h.call.apply(h.bind,arguments)}function d(h,D,N){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,z),h.apply(D,X)}}return function(){return h.apply(D,arguments)}}function y(h,D,N){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:d,y.apply(null,arguments)}function E(h,D){var N=Array.prototype.slice.call(arguments,1);return function(){var z=N.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function v(h,D){function N(){}N.prototype=D.prototype,h.aa=D.prototype,h.prototype=new N,h.prototype.constructor=h,h.Qb=function(z,X,ae){for(var _e=Array(arguments.length-2),at=2;at<arguments.length;at++)_e[at-2]=arguments[at];return D.prototype[X].apply(z,_e)}}function b(h){const D=h.length;if(0<D){const N=Array(D);for(let z=0;z<D;z++)N[z]=h[z];return N}return[]}function R(h,D){for(let N=1;N<arguments.length;N++){const z=arguments[N];if(p(z)){const X=h.length||0,ae=z.length||0;h.length=X+ae;for(let _e=0;_e<ae;_e++)h[X+_e]=z[_e]}else h.push(z)}}class w{constructor(D,N){this.i=D,this.j=N,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function S(h){return/^[\s\xa0]*$/.test(h)}function x(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function M(h){return M[" "](h),h}M[" "]=function(){};var k=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function V(h,D,N){for(const z in h)D.call(N,h[z],z,h)}function I(h,D){for(const N in h)D.call(void 0,h[N],N,h)}function T(h){const D={};for(const N in h)D[N]=h[N];return D}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,D){let N,z;for(let X=1;X<arguments.length;X++){z=arguments[X];for(N in z)h[N]=z[N];for(let ae=0;ae<C.length;ae++)N=C[ae],Object.prototype.hasOwnProperty.call(z,N)&&(h[N]=z[N])}}function j(h){var D=1;h=h.split(":");const N=[];for(;0<D&&h.length;)N.push(h.shift()),D--;return h.length&&N.push(h.join(":")),N}function $(h){c.setTimeout(()=>{throw h},0)}function U(){var h=xe;let D=null;return h.g&&(D=h.g,h.g=h.g.next,h.g||(h.h=null),D.next=null),D}class he{constructor(){this.h=this.g=null}add(D,N){const z=pe.get();z.set(D,N),this.h?this.h.next=z:this.g=z,this.h=z}}var pe=new w(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(D,N){this.h=D,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ve=!1,xe=new he,B=()=>{const h=c.Promise.resolve(void 0);se=()=>{h.then(re)}};var re=()=>{for(var h;h=U();){try{h.h.call(h.g)}catch(N){$(N)}var D=pe;D.j(h),100>D.h&&(D.h++,h.next=D.g,D.g=h)}ve=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,D){this.type=h,this.g=this.target=D,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,D=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};c.addEventListener("test",N,D),c.removeEventListener("test",N,D)}catch{}return h}();function Ue(h,D){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var N=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=D,D=h.relatedTarget){if(k){e:{try{M(D.nodeName);var X=!0;break e}catch{}X=!1}X||(D=null)}}else N=="mouseover"?D=h.fromElement:N=="mouseout"&&(D=h.toElement);this.relatedTarget=D,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ce[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ue.aa.h.call(this)}}v(Ue,ce);var Ce={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),vt=0;function Jn(h,D,N,z,X){this.listener=h,this.proxy=null,this.src=D,this.type=N,this.capture=!!z,this.ha=X,this.key=++vt,this.da=this.fa=!1}function Ct(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pn(h){this.src=h,this.g={},this.h=0}pn.prototype.add=function(h,D,N,z,X){var ae=h.toString();h=this.g[ae],h||(h=this.g[ae]=[],this.h++);var _e=ia(h,D,z,X);return-1<_e?(D=h[_e],N||(D.fa=!1)):(D=new Jn(D,this.src,ae,!!z,X),D.fa=N,h.push(D)),D};function Cr(h,D){var N=D.type;if(N in h.g){var z=h.g[N],X=Array.prototype.indexOf.call(z,D,void 0),ae;(ae=0<=X)&&Array.prototype.splice.call(z,X,1),ae&&(Ct(D),h.g[N].length==0&&(delete h.g[N],h.h--))}}function ia(h,D,N,z){for(var X=0;X<h.length;++X){var ae=h[X];if(!ae.da&&ae.listener==D&&ae.capture==!!N&&ae.ha==z)return X}return-1}var Tn="closure_lm_"+(1e6*Math.random()|0),ji={};function Rs(h,D,N,z,X){if(Array.isArray(D)){for(var ae=0;ae<D.length;ae++)Rs(h,D[ae],N,z,X);return null}return N=za(N),h&&h[St]?h.K(D,N,g(z)?!!z.capture:!1,X):Sn(h,D,N,!1,z,X)}function Sn(h,D,N,z,X,ae){if(!D)throw Error("Invalid event type");var _e=g(X)?!!X.capture:!!X,at=er(h);if(at||(h[Tn]=at=new pn(h)),N=at.add(D,N,z,_e,ae),N.proxy)return N;if(z=Uo(),N.proxy=z,z.src=h,z.listener=N,h.addEventListener)be||(X=_e),X===void 0&&(X=!1),h.addEventListener(D.toString(),z,X);else if(h.attachEvent)h.attachEvent(sa(D.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Uo(){function h(N){return D.call(h.src,h.listener,N)}const D=br;return h}function Li(h,D,N,z,X){if(Array.isArray(D))for(var ae=0;ae<D.length;ae++)Li(h,D[ae],N,z,X);else z=g(z)?!!z.capture:!!z,N=za(N),h&&h[St]?(h=h.i,D=String(D).toString(),D in h.g&&(ae=h.g[D],N=ia(ae,N,z,X),-1<N&&(Ct(ae[N]),Array.prototype.splice.call(ae,N,1),ae.length==0&&(delete h.g[D],h.h--)))):h&&(h=er(h))&&(D=h.g[D.toString()],h=-1,D&&(h=ia(D,N,z,X)),(N=-1<h?D[h]:null)&&La(N))}function La(h){if(typeof h!="number"&&h&&!h.da){var D=h.src;if(D&&D[St])Cr(D.i,h);else{var N=h.type,z=h.proxy;D.removeEventListener?D.removeEventListener(N,z,h.capture):D.detachEvent?D.detachEvent(sa(N),z):D.addListener&&D.removeListener&&D.removeListener(z),(N=er(D))?(Cr(N,h),N.h==0&&(N.src=null,D[Tn]=null)):Ct(h)}}}function sa(h){return h in ji?ji[h]:ji[h]="on"+h}function br(h,D){if(h.da)h=!0;else{D=new Ue(D,this);var N=h.listener,z=h.ha||h.src;h.fa&&La(h),h=N.call(z,D)}return h}function er(h){return h=h[Tn],h instanceof pn?h:null}var Ua="__closure_events_fn_"+(1e9*Math.random()>>>0);function za(h){return typeof h=="function"?h:(h[Ua]||(h[Ua]=function(D){return h.handleEvent(D)}),h[Ua])}function ft(){me.call(this),this.i=new pn(this),this.M=this,this.F=null}v(ft,me),ft.prototype[St]=!0,ft.prototype.removeEventListener=function(h,D,N,z){Li(this,h,D,N,z)};function Ge(h,D){var N,z=h.F;if(z)for(N=[];z;z=z.F)N.push(z);if(h=h.M,z=D.type||D,typeof D=="string")D=new ce(D,h);else if(D instanceof ce)D.target=D.target||h;else{var X=D;D=new ce(z,h),O(D,X)}if(X=!0,N)for(var ae=N.length-1;0<=ae;ae--){var _e=D.g=N[ae];X=gn(_e,z,!0,D)&&X}if(_e=D.g=h,X=gn(_e,z,!0,D)&&X,X=gn(_e,z,!1,D)&&X,N)for(ae=0;ae<N.length;ae++)_e=D.g=N[ae],X=gn(_e,z,!1,D)&&X}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var h=this.i,D;for(D in h.g){for(var N=h.g[D],z=0;z<N.length;z++)Ct(N[z]);delete h.g[D],h.h--}}this.F=null},ft.prototype.K=function(h,D,N,z){return this.i.add(String(h),D,!1,N,z)},ft.prototype.L=function(h,D,N,z){return this.i.add(String(h),D,!0,N,z)};function gn(h,D,N,z){if(D=h.i.g[String(D)],!D)return!0;D=D.concat();for(var X=!0,ae=0;ae<D.length;++ae){var _e=D[ae];if(_e&&!_e.da&&_e.capture==N){var at=_e.listener,Gt=_e.ha||_e.src;_e.fa&&Cr(h.i,_e),X=at.call(Gt,z)!==!1&&X}}return X&&!z.defaultPrevented}function Ut(h,D,N){if(typeof h=="function")N&&(h=y(h,N));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:c.setTimeout(h,D||0)}function xs(h){h.g=Ut(()=>{h.g=null,h.i&&(h.i=!1,xs(h))},h.l);const D=h.h;h.h=null,h.m.apply(null,D)}class tr extends me{constructor(D,N){super(),this.m=D,this.l=N,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(h){me.call(this),this.h=h,this.g={}}v(Dr,me);var Or=[];function Ir(h){V(h.g,function(D,N){this.g.hasOwnProperty(N)&&La(D)},h),h.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),Ir(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=c.JSON.stringify,oa=c.JSON.parse,nr=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function $a(){}$a.prototype.h=null;function la(h){return h.h||(h.h=h.i())}function Ui(){}var rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){ce.call(this,"d")}v(Er,ce);function Ba(){ce.call(this,"c")}v(Ba,ce);var Rn={},Nr=null;function Mr(){return Nr=Nr||new ft}Rn.La="serverreachability";function Fa(h){ce.call(this,Rn.La,h)}v(Fa,ce);function q(h){const D=Mr();Ge(D,new Fa(D))}Rn.STAT_EVENT="statevent";function K(h,D){ce.call(this,Rn.STAT_EVENT,h),this.stat=D}v(K,ce);function W(h){const D=Mr();Ge(D,new K(D,h))}Rn.Ma="timingevent";function le(h,D){ce.call(this,Rn.Ma,h),this.size=D}v(le,ce);function ge(h,D){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},D)}function we(){this.g=!0}we.prototype.xa=function(){this.g=!1};function Me(h,D,N,z,X,ae){h.info(function(){if(h.g)if(ae)for(var _e="",at=ae.split("&"),Gt=0;Gt<at.length;Gt++){var it=at[Gt].split("=");if(1<it.length){var en=it[0];it=it[1];var Yt=en.split("_");_e=2<=Yt.length&&Yt[1]=="type"?_e+(en+"="+it+"&"):_e+(en+"=redacted&")}}else _e=null;else _e=ae;return"XMLHTTP REQ ("+z+") [attempt "+X+"]: "+D+`
`+N+`
`+_e})}function Ae(h,D,N,z,X,ae,_e){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+X+"]: "+D+`
`+N+`
`+ae+" "+_e})}function Se(h,D,N,z){h.info(function(){return"XMLHTTP TEXT ("+D+"): "+Ve(h,N)+(z?" "+z:"")})}function Oe(h,D){h.info(function(){return"TIMEOUT: "+D})}we.prototype.info=function(){};function Ve(h,D){if(!h.g)return D;if(!D)return null;try{var N=JSON.parse(D);if(N){for(h=0;h<N.length;h++)if(Array.isArray(N[h])){var z=N[h];if(!(2>z.length)){var X=z[1];if(Array.isArray(X)&&!(1>X.length)){var ae=X[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var _e=1;_e<X.length;_e++)X[_e]=""}}}}return jn(N)}catch{return D}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ze;function dt(){}v(dt,$a),dt.prototype.g=function(){return new XMLHttpRequest},dt.prototype.i=function(){return{}},Ze=new dt;function ut(h,D,N,z){this.j=h,this.i=D,this.l=N,this.R=z||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rt}function rt(){this.i=null,this.g="",this.h=!1}var Ke={},ar={};function Ht(h,D,N){h.L=1,h.v=Bi(zn(D)),h.m=N,h.P=!0,xn(h,null)}function xn(h,D){h.F=Date.now(),Ln(h),h.A=zn(h.v);var N=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),qo(N.i,"t",z),h.C=0,N=h.j.J,h.h=new rt,h.g=Pu(h.j,N?D:null,!h.m),0<h.O&&(h.M=new tr(y(h.Y,h,h.g),h.O)),D=h.U,N=h.g,z=h.ca;var X="readystatechange";Array.isArray(X)||(X&&(Or[0]=X.toString()),X=Or);for(var ae=0;ae<X.length;ae++){var _e=Rs(N,X[ae],z||D.handleEvent,!1,D.h||D);if(!_e)break;D.g[_e.key]=_e}D=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,D)):(h.u="GET",h.g.ea(h.A,h.u,null,D)),q(),Me(h.i,h.u,h.A,h.l,h.R,h.m)}ut.prototype.ca=function(h){h=h.target;const D=this.M;D&&ur(h)==3?D.j():this.Y(h)},ut.prototype.Y=function(h){try{if(h==this.g)e:{const Yt=ur(this.g);var D=this.g.Ba();const ga=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||Yt!=4||D==7||(D==8||0>=ga?q(3):q(2)),yn(this);var N=this.g.Z();this.X=N;t:if(sn(this)){var z=Ru(this.g);h="";var X=z.length,ae=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Be(this),Cn(this);var _e="";break t}this.h.i=new c.TextDecoder}for(D=0;D<X;D++)this.h.h=!0,h+=this.h.i.decode(z[D],{stream:!(ae&&D==X-1)});z.length=0,this.h.g+=h,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=N==200,Ae(this.i,this.u,this.A,this.l,this.R,Yt,N),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Gt=this.g;if((at=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(at)){var it=at;break t}}it=null}if(N=it)Se(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zt(this,N);else{this.o=!1,this.s=3,W(12),Be(this),Cn(this);break e}}if(this.P){N=!0;let ln;for(;!this.J&&this.C<_e.length;)if(ln=Pr(this,_e),ln==ar){Yt==4&&(this.s=4,W(14),N=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Ke){this.s=4,W(15),Se(this.i,this.l,_e,"[Invalid Chunk]"),N=!1;break}else Se(this.i,this.l,ln,null),zt(this,ln);if(sn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||_e.length!=0||this.h.h||(this.s=1,W(16),N=!1),this.o=this.o&&N,!N)Se(this.i,this.l,_e,"[Invalid Chunked Response]"),Be(this),Cn(this);else if(0<_e.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Xi(en),en.M=!0,W(11))}}else Se(this.i,this.l,_e,null),zt(this,_e);Yt==4&&Be(this),this.o&&!this.J&&(Yt==4?Iu(this.j,this):(this.o=!1,Ln(this)))}else lh(this.g),N==400&&0<_e.indexOf("Unknown SID")?(this.s=3,W(12)):(this.s=0,W(13)),Be(this),Cn(this)}}}catch{}finally{}};function sn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Pr(h,D){var N=h.C,z=D.indexOf(`
`,N);return z==-1?ar:(N=Number(D.substring(N,z)),isNaN(N)?Ke:(z+=1,z+N>D.length?ar:(D=D.slice(z,z+N),h.C=z+N,D)))}ut.prototype.cancel=function(){this.J=!0,Be(this)};function Ln(h){h.S=Date.now()+h.I,qa(h,h.I)}function qa(h,D){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ge(y(h.ba,h),D)}function yn(h){h.B&&(c.clearTimeout(h.B),h.B=null)}ut.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Oe(this.i,this.A),this.L!=2&&(q(),W(17)),Be(this),this.s=2,Cn(this)):qa(this,this.S-h)};function Cn(h){h.j.G==0||h.J||Iu(h.j,h)}function Be(h){yn(h);var D=h.M;D&&typeof D.ma=="function"&&D.ma(),h.M=null,Ir(h.U),h.g&&(D=h.g,h.g=null,D.abort(),D.ma())}function zt(h,D){try{var N=h.j;if(N.G!=0&&(N.g==h||ir(N.h,h))){if(!h.K&&ir(N.h,h)&&N.G==3){try{var z=N.Da.g.parse(D)}catch{z=null}if(Array.isArray(z)&&z.length==3){var X=z;if(X[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<h.F)Vs(N),Ps(N);else break e;Ko(N),W(18)}}else N.za=X[1],0<N.za-N.T&&37500>X[2]&&N.F&&N.v==0&&!N.C&&(N.C=ge(y(N.Za,N),6e3));if(1>=At(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else pa(N,11)}else if((h.K||N.g==h)&&Vs(N),!S(D))for(X=N.Da.g.parse(D),D=0;D<X.length;D++){let it=X[D];if(N.T=it[0],it=it[1],N.G==2)if(it[0]=="c"){N.K=it[1],N.ia=it[2];const en=it[3];en!=null&&(N.la=en,N.j.info("VER="+N.la));const Yt=it[4];Yt!=null&&(N.Aa=Yt,N.j.info("SVER="+N.Aa));const ga=it[5];ga!=null&&typeof ga=="number"&&0<ga&&(z=1.5*ga,N.L=z,N.j.info("backChannelRequestTimeoutMs_="+z)),z=N;const ln=h.g;if(ln){const Br=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var ae=z.h;ae.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(ua(ae,ae.h),ae.h=null))}if(z.D){const Zo=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(z.ya=Zo,_t(z.I,z.D,Zo))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-h.F,N.j.info("Handshake RTT: "+N.R+"ms")),z=N;var _e=h;if(z.qa=Mu(z,z.J?z.ia:null,z.W),_e.K){on(z.h,_e);var at=_e,Gt=z.L;Gt&&(at.I=Gt),at.B&&(yn(at),Ln(at)),z.g=_e}else Du(z);0<N.i.length&&ks(N)}else it[0]!="stop"&&it[0]!="close"||pa(N,7);else N.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?pa(N,7):Yo(N):it[0]!="noop"&&N.l&&N.l.ta(it),N.v=0)}}q(4)}catch{}}var Un=class{constructor(h,D){this.g=h,this.map=D}};function In(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function At(h){return h.h?1:h.g?h.g.size:0}function ir(h,D){return h.h?h.h==D:h.g?h.g.has(D):!1}function ua(h,D){h.g?h.g.add(D):h.h=D}function on(h,D){h.h&&h.h==D?h.h=null:h.g&&h.g.has(D)&&h.g.delete(D)}In.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function zo(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let D=h.i;for(const N of h.g.values())D=D.concat(N.D);return D}return b(h.i)}function ah(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var D=[],N=h.length,z=0;z<N;z++)D.push(h[z]);return D}D=[],N=0;for(z in h)D[N++]=h[z];return D}function Cs(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var D=[];h=h.length;for(var N=0;N<h;N++)D.push(N);return D}D=[],N=0;for(const z in h)D[N++]=z;return D}}}function $o(h,D){if(h.forEach&&typeof h.forEach=="function")h.forEach(D,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,D,void 0);else for(var N=Cs(h),z=ah(h),X=z.length,ae=0;ae<X;ae++)D.call(void 0,z[ae],N&&N[ae],h)}var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ih(h,D){if(h){h=h.split("&");for(var N=0;N<h.length;N++){var z=h[N].indexOf("="),X=null;if(0<=z){var ae=h[N].substring(0,z);X=h[N].substring(z+1)}else ae=h[N];D(ae,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function $t(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof $t){this.h=h.h,$i(this,h.j),this.o=h.o,this.g=h.g,Ha(this,h.s),this.l=h.l;var D=h.i,N=new fa;N.i=D.i,D.g&&(N.g=new Map(D.g),N.h=D.h),ca(this,N),this.m=h.m}else h&&(D=String(h).match(zi))?(this.h=!1,$i(this,D[1]||"",!0),this.o=sr(D[2]||""),this.g=sr(D[3]||"",!0),Ha(this,D[4]),this.l=sr(D[5]||"",!0),ca(this,D[6]||"",!0),this.m=sr(D[7]||"")):(this.h=!1,this.i=new fa(null,this.h))}$t.prototype.toString=function(){var h=[],D=this.j;D&&h.push(Fi(D,Bo,!0),":");var N=this.g;return(N||D=="file")&&(h.push("//"),(D=this.o)&&h.push(Fi(D,Bo,!0),"@"),h.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&h.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(Fi(N,N.charAt(0)=="/"?sh:Fo,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",Fi(N,Ds)),h.join("")};function zn(h){return new $t(h)}function $i(h,D,N){h.j=N?sr(D,!0):D,h.j&&(h.j=h.j.replace(/:$/,""))}function Ha(h,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);h.s=D}else h.s=null}function ca(h,D,N){D instanceof fa?(h.i=D,Tu(h.i,h.h)):(N||(D=Fi(D,oh)),h.i=new fa(D,h.h))}function _t(h,D,N){h.i.set(D,N)}function Bi(h){return _t(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function sr(h,D){return h?D?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Fi(h,D,N){return typeof h=="string"?(h=encodeURI(h).replace(D,Au),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Au(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Bo=/[#\/\?@]/g,Fo=/[#\?:]/g,sh=/[#\?]/g,oh=/[#\?@]/g,Ds=/#/g;function fa(h,D){this.h=this.g=null,this.i=h||null,this.j=!!D}function or(h){h.g||(h.g=new Map,h.h=0,h.i&&ih(h.i,function(D,N){h.add(decodeURIComponent(D.replace(/\+/g," ")),N)}))}n=fa.prototype,n.add=function(h,D){or(this),this.i=null,h=Vr(this,h);var N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(D),this.h+=1,this};function ha(h,D){or(h),D=Vr(h,D),h.g.has(D)&&(h.i=null,h.h-=h.g.get(D).length,h.g.delete(D))}function da(h,D){return or(h),D=Vr(h,D),h.g.has(D)}n.forEach=function(h,D){or(this),this.g.forEach(function(N,z){N.forEach(function(X){h.call(D,X,z,this)},this)},this)},n.na=function(){or(this);const h=Array.from(this.g.values()),D=Array.from(this.g.keys()),N=[];for(let z=0;z<D.length;z++){const X=h[z];for(let ae=0;ae<X.length;ae++)N.push(D[z])}return N},n.V=function(h){or(this);let D=[];if(typeof h=="string")da(this,h)&&(D=D.concat(this.g.get(Vr(this,h))));else{h=Array.from(this.g.values());for(let N=0;N<h.length;N++)D=D.concat(h[N])}return D},n.set=function(h,D){return or(this),this.i=null,h=Vr(this,h),da(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[D]),this.h+=1,this},n.get=function(h,D){return h?(h=this.V(h),0<h.length?String(h[0]):D):D};function qo(h,D,N){ha(h,D),0<N.length&&(h.i=null,h.g.set(Vr(h,D),b(N)),h.h+=N.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],D=Array.from(this.g.keys());for(var N=0;N<D.length;N++){var z=D[N];const ae=encodeURIComponent(String(z)),_e=this.V(z);for(z=0;z<_e.length;z++){var X=ae;_e[z]!==""&&(X+="="+encodeURIComponent(String(_e[z]))),h.push(X)}}return this.i=h.join("&")};function Vr(h,D){return D=String(D),h.j&&(D=D.toLowerCase()),D}function Tu(h,D){D&&!h.j&&(or(h),h.i=null,h.g.forEach(function(N,z){var X=z.toLowerCase();z!=X&&(ha(this,z),qo(this,X,N))},h)),h.j=D}function qi(h,D){const N=new we;if(c.Image){const z=new Image;z.onload=E(lr,N,"TestLoadImage: loaded",!0,D,z),z.onerror=E(lr,N,"TestLoadImage: error",!1,D,z),z.onabort=E(lr,N,"TestLoadImage: abort",!1,D,z),z.ontimeout=E(lr,N,"TestLoadImage: timeout",!1,D,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else D(!1)}function wr(h,D){const N=new we,z=new AbortController,X=setTimeout(()=>{z.abort(),lr(N,"TestPingServer: timeout",!1,D)},1e4);fetch(h,{signal:z.signal}).then(ae=>{clearTimeout(X),ae.ok?lr(N,"TestPingServer: ok",!0,D):lr(N,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(X),lr(N,"TestPingServer: error",!1,D)})}function lr(h,D,N,z,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),z(N)}catch{}}function Hi(){this.g=new nr}function jr(h,D,N){const z=N||"";try{$o(h,function(X,ae){let _e=X;g(X)&&(_e=jn(X)),D.push(z+ae+"="+encodeURIComponent(_e))})}catch(X){throw D.push(z+"type="+encodeURIComponent("_badmap")),X}}function Ga(h){this.l=h.Ub||null,this.j=h.eb||!1}v(Ga,$a),Ga.prototype.g=function(){return new ma(this.l,this.j)},Ga.prototype.i=function(h){return function(){return h}}({});function ma(h,D){ft.call(this),this.D=h,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ma,ft),n=ma.prototype,n.open=function(h,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=D,this.readyState=1,Ur(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(D.body=h),(this.D||c).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ho(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ho(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var D=h.value?h.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!h.done}))&&(this.response=this.responseText+=D)}h.done?Lr(this):Ur(this),this.readyState==3&&Ho(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Lr(this))},n.Qa=function(h){this.g&&(this.response=h,Lr(this))},n.ga=function(){this.g&&Lr(this)};function Lr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ur(h)}n.setRequestHeader=function(h,D){this.u.append(h,D)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],D=this.h.entries();for(var N=D.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=D.next();return h.join(`\r
`)};function Ur(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Go(h){let D="";return V(h,function(N,z){D+=z,D+=":",D+=N,D+=`\r
`}),D}function Jt(h,D,N){e:{for(z in N){var z=!1;break e}z=!0}z||(N=Go(N),typeof h=="string"?N!=null&&encodeURIComponent(String(N)):_t(h,D,N))}function mt(h){ft.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(mt,ft);var Os=/^https?$/i,Gi=["POST","PUT"];n=mt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,D,N,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);D=D?D.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ze.g(),this.v=this.o?la(this.o):la(Ze),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(D,String(h),!0),this.B=!1}catch(ae){Su(this,ae);return}if(h=N||"",N=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var X in z)N.set(X,z[X]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ae of z.keys())N.set(ae,z.get(ae));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(N.keys()).find(ae=>ae.toLowerCase()=="content-type"),X=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Gi,D,void 0))||z||X||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,_e]of N)this.g.setRequestHeader(ae,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yi(this),this.u=!0,this.g.send(h),this.u=!1}catch(ae){Su(this,ae)}};function Su(h,D){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=D,h.m=5,Is(h),zr(h)}function Is(h){h.A||(h.A=!0,Ge(h,"complete"),Ge(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ge(this,"complete"),Ge(this,"abort"),zr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ns(this):this.bb())},n.bb=function(){Ns(this)};function Ns(h){if(h.h&&typeof f<"u"&&(!h.v[1]||ur(h)!=4||h.Z()!=2)){if(h.u&&ur(h)==4)Ut(h.Ea,0,h);else if(Ge(h,"readystatechange"),ur(h)==4){h.h=!1;try{const _e=h.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var N;if(!(N=D)){var z;if(z=_e===0){var X=String(h.D).match(zi)[1]||null;!X&&c.self&&c.self.location&&(X=c.self.location.protocol.slice(0,-1)),z=!Os.test(X?X.toLowerCase():"")}N=z}if(N)Ge(h,"complete"),Ge(h,"success");else{h.m=6;try{var ae=2<ur(h)?h.g.statusText:""}catch{ae=""}h.l=ae+" ["+h.Z()+"]",Is(h)}}finally{zr(h)}}}}function zr(h,D){if(h.g){Yi(h);const N=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,D||Ge(h,"ready");try{N.onreadystatechange=z}catch{}}}function Yi(h){h.I&&(c.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function ur(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var D=this.g.responseText;return h&&D.indexOf(h)==0&&(D=D.substring(h.length)),oa(D)}};function Ru(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function lh(h){const D={};h=(h.g&&2<=ur(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(S(h[z]))continue;var N=j(h[z]);const X=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ae=D[X]||[];D[X]=ae,ae.push(N)}I(D,function(z){return z.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(h,D,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||D}function Ms(h){this.Aa=0,this.i=[],this.j=new we,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qi("baseRetryDelayMs",5e3,h),this.cb=Qi("retryDelaySeedMs",1e4,h),this.Wa=Qi("forwardChannelMaxRetries",2,h),this.wa=Qi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new In(h&&h.concurrentRequestLimit),this.Da=new Hi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ms.prototype,n.la=8,n.G=1,n.connect=function(h,D,N,z){W(0),this.W=h,this.H=D||{},N&&z!==void 0&&(this.H.OSID=N,this.H.OAID=z),this.F=this.X,this.I=Mu(this,null,this.W),ks(this)};function Yo(h){if(xu(h),h.G==3){var D=h.U++,N=zn(h.I);if(_t(N,"SID",h.K),_t(N,"RID",D),_t(N,"TYPE","terminate"),Ki(h,N),D=new ut(h,h.j,D),D.L=2,D.v=Bi(zn(N)),N=!1,c.navigator&&c.navigator.sendBeacon)try{N=c.navigator.sendBeacon(D.v.toString(),"")}catch{}!N&&c.Image&&(new Image().src=D.v,N=!0),N||(D.g=Pu(D.j,null),D.g.ea(D.v)),D.F=Date.now(),Ln(D)}Nu(h)}function Ps(h){h.g&&(Xi(h),h.g.cancel(),h.g=null)}function xu(h){Ps(h),h.u&&(c.clearTimeout(h.u),h.u=null),Vs(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function ks(h){if(!kr(h.h)&&!h.s){h.s=!0;var D=h.Ga;se||B(),ve||(se(),ve=!0),xe.add(D,h),h.B=0}}function uh(h,D){return At(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=D.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ge(y(h.Ga,h,D),Xo(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const X=new ut(this,this.j,h);let ae=this.o;if(this.S&&(ae?(ae=T(ae),O(ae,this.S)):ae=this.S),this.m!==null||this.O||(X.H=ae,ae=null),this.P)e:{for(var D=0,N=0;N<this.i.length;N++){t:{var z=this.i[N];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(D+=z,4096<D){D=N;break e}if(D===4096||N===this.i.length-1){D=N+1;break e}}D=1e3}else D=1e3;D=Cu(this,X,D),N=zn(this.I),_t(N,"RID",h),_t(N,"CVER",22),this.D&&_t(N,"X-HTTP-Session-Id",this.D),Ki(this,N),ae&&(this.O?D="headers="+encodeURIComponent(String(Go(ae)))+"&"+D:this.m&&Jt(N,this.m,ae)),ua(this.h,X),this.Ua&&_t(N,"TYPE","init"),this.P?(_t(N,"$req",D),_t(N,"SID","null"),X.T=!0,Ht(X,N,null)):Ht(X,N,D),this.G=2}}else this.G==3&&(h?Qo(this,h):this.i.length==0||kr(this.h)||Qo(this))};function Qo(h,D){var N;D?N=D.l:N=h.U++;const z=zn(h.I);_t(z,"SID",h.K),_t(z,"RID",N),_t(z,"AID",h.T),Ki(h,z),h.m&&h.o&&Jt(z,h.m,h.o),N=new ut(h,h.j,N,h.B+1),h.m===null&&(N.H=h.o),D&&(h.i=D.D.concat(h.i)),D=Cu(h,N,1e3),N.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ua(h.h,N),Ht(N,z,D)}function Ki(h,D){h.H&&V(h.H,function(N,z){_t(D,z,N)}),h.l&&$o({},function(N,z){_t(D,z,N)})}function Cu(h,D,N){N=Math.min(h.i.length,N);var z=h.l?y(h.l.Na,h.l,h):null;e:{var X=h.i;let ae=-1;for(;;){const _e=["count="+N];ae==-1?0<N?(ae=X[0].g,_e.push("ofs="+ae)):ae=0:_e.push("ofs="+ae);let at=!0;for(let Gt=0;Gt<N;Gt++){let it=X[Gt].g;const en=X[Gt].map;if(it-=ae,0>it)ae=Math.max(0,X[Gt].g-100),at=!1;else try{jr(en,_e,"req"+it+"_")}catch{z&&z(en)}}if(at){z=_e.join("&");break e}}}return h=h.i.splice(0,N),D.D=h,z}function Du(h){if(!h.g&&!h.u){h.Y=1;var D=h.Fa;se||B(),ve||(se(),ve=!0),xe.add(D,h),h.v=0}}function Ko(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ge(y(h.Fa,h),Xo(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ge(y(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,W(10),Ps(this),Ou(this))};function Xi(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Ou(h){h.g=new ut(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var D=zn(h.qa);_t(D,"RID","rpc"),_t(D,"SID",h.K),_t(D,"AID",h.T),_t(D,"CI",h.F?"0":"1"),!h.F&&h.ja&&_t(D,"TO",h.ja),_t(D,"TYPE","xmlhttp"),Ki(h,D),h.m&&h.o&&Jt(D,h.m,h.o),h.L&&(h.g.I=h.L);var N=h.g;h=h.ia,N.L=1,N.v=Bi(zn(D)),N.m=null,N.P=!0,xn(N,h)}n.Za=function(){this.C!=null&&(this.C=null,Ps(this),Ko(this),W(19))};function Vs(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Iu(h,D){var N=null;if(h.g==D){Vs(h),Xi(h),h.g=null;var z=2}else if(ir(h.h,D))N=D.D,on(h.h,D),z=1;else return;if(h.G!=0){if(D.o)if(z==1){N=D.m?D.m.length:0,D=Date.now()-D.F;var X=h.B;z=Mr(),Ge(z,new le(z,N)),ks(h)}else Du(h);else if(X=D.s,X==3||X==0&&0<D.X||!(z==1&&uh(h,D)||z==2&&Ko(h)))switch(N&&0<N.length&&(D=h.h,D.i=D.i.concat(N)),X){case 1:pa(h,5);break;case 4:pa(h,10);break;case 3:pa(h,6);break;default:pa(h,2)}}}function Xo(h,D){let N=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(N*=2),N*D}function pa(h,D){if(h.j.info("Error code "+D),D==2){var N=y(h.fb,h),z=h.Xa;const X=!z;z=new $t(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$i(z,"https"),Bi(z),X?qi(z.toString(),N):wr(z.toString(),N)}else W(2);h.G=0,h.l&&h.l.sa(D),Nu(h),xu(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),W(2)):(this.j.info("Failed to ping google.com"),W(1))};function Nu(h){if(h.G=0,h.ka=[],h.l){const D=zo(h.h);(D.length!=0||h.i.length!=0)&&(R(h.ka,D),R(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function Mu(h,D,N){var z=N instanceof $t?zn(N):new $t(N);if(z.g!="")D&&(z.g=D+"."+z.g),Ha(z,z.s);else{var X=c.location;z=X.protocol,D=D?D+"."+X.hostname:X.hostname,X=+X.port;var ae=new $t(null);z&&$i(ae,z),D&&(ae.g=D),X&&Ha(ae,X),N&&(ae.l=N),z=ae}return N=h.D,D=h.ya,N&&D&&_t(z,N,D),_t(z,"VER",h.la),Ki(h,z),z}function Pu(h,D,N){if(D&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=h.Ca&&!h.pa?new mt(new Ga({eb:N})):new mt(h.pa),D.Ha(h.J),D}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}n=ku.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function js(){}js.prototype.g=function(h,D){return new Dn(h,D)};function Dn(h,D){ft.call(this),this.g=new Ms(D),this.l=h,this.h=D&&D.messageUrlParams||null,h=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(h?h["X-WebChannel-Content-Type"]=D.messageContentType:h={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(h?h["X-WebChannel-Client-Profile"]=D.va:h={"X-WebChannel-Client-Profile":D.va}),this.g.S=h,(h=D&&D.Sb)&&!S(h)&&(this.g.m=h),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!S(D)&&(this.g.D=D,h=this.h,h!==null&&D in h&&(h=this.h,D in h&&delete h[D])),this.j=new $r(this)}v(Dn,ft),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Yo(this.g)},Dn.prototype.o=function(h){var D=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.u&&(N={},N.__data__=jn(h),h=N);D.i.push(new Un(D.Ya++,h)),D.G==3&&ks(D)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,Dn.aa.N.call(this)};function Vu(h){Er.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var D=h.__sm__;if(D){e:{for(const N in D){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,D=D!==null&&h in D?D[h]:void 0),this.data=D}else this.data=h}v(Vu,Er);function ju(){Ba.call(this),this.status=1}v(ju,Ba);function $r(h){this.g=h}v($r,ku),$r.prototype.ua=function(){Ge(this.g,"a")},$r.prototype.ta=function(h){Ge(this.g,new Vu(h))},$r.prototype.sa=function(h){Ge(this.g,new ju)},$r.prototype.ra=function(){Ge(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,OE=function(){return new js},DE=function(){return Mr()},CE=Rn,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Jc=Re,je.COMPLETE="complete",xE=je,Ui.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Gl=Ui,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,RE=mt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const lb="@firebase/firestore",ub="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new _E("@firebase/firestore");function mo(){return _s.logLevel}function Ee(n,...e){if(_s.logLevel<=lt.DEBUG){const r=e.map(Gp);_s.debug(`Firestore (${ko}): ${n}`,...r)}}function Pa(n,...e){if(_s.logLevel<=lt.ERROR){const r=e.map(Gp);_s.error(`Firestore (${ko}): ${n}`,...r)}}function Ro(n,...e){if(_s.logLevel<=lt.WARN){const r=e.map(Gp);_s.warn(`Firestore (${ko}): ${n}`,...r)}}function Gp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(n,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,IE(n,i,r)}function IE(n,e,r){let i=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(r!==void 0)try{i+=" CONTEXT: "+JSON.stringify(r)}catch{i+=" CONTEXT: "+r}throw Pa(i),new Error(i)}function pt(n,e,r,i){let o="Unexpected state";typeof r=="string"?o=r:i=r,n||IE(e,o,i)}function qe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Po{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(En.UNAUTHENTICATED))}shutdown(){}}class hD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class dD{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){pt(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,r(p)):Promise.resolve();let l=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},c=p=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>c(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?c(p):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wi)}},0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt(typeof i.accessToken=="string",31837,{l:i}),new NE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class mD{constructor(e,r,i){this.P=e,this.T=r,this.I=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pD{constructor(e,r,i){this.P=e,this.T=r,this.I=i}getToken(){return Promise.resolve(new mD(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gD{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,X4(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){pt(this.o===void 0,3512);const i=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.m;return this.m=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(pt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new cb(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let i=0;i<n;i++)r[i]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=yD(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<r&&(i+=e.charAt(o[l]%62))}return i}}function Qe(n,e){return n<e?-1:n>e?1:0}function ap(n,e){let r=0;for(;r<n.length&&r<e.length;){const i=n.codePointAt(r),o=e.codePointAt(r);if(i!==o){if(i<128&&o<128)return Qe(i,o);{const l=ME(),f=vD(l.encode(fb(n,r)),l.encode(fb(e,r)));return f!==0?f:Qe(i,o)}}r+=i>65535?2:1}return Qe(n.length,e.length)}function fb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function vD(n,e){for(let r=0;r<n.length&&r<e.length;++r)if(n[r]!==e[r])return Qe(n[r],e[r]);return Qe(n.length,e.length)}function xo(n,e,r){return n.length===e.length&&n.every((i,o)=>r(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=-62135596800,db=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),i=Math.floor((e-1e3*r)*db);return new Zt(r,i)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ne(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ne(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<hb)throw new Ne(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/db}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Zt(0,0))}static max(){return new Fe(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="__name__";class Qr{constructor(e,r,i){r===void 0?r=0:r>e.length&&ze(637,{offset:r,range:e.length}),i===void 0?i=e.length-r:i>e.length-r&&ze(1746,{length:i,range:e.length-r}),this.segments=e,this.offset=r,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(i=>{r.push(i)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,i=this.limit();r<i;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const i=Math.min(e.length,r.length);for(let o=0;o<i;o++){const l=Qr.compareSegments(e.get(o),r.get(o));if(l!==0)return l}return Qe(e.length,r.length)}static compareSegments(e,r){const i=Qr.isNumericId(e),o=Qr.isNumericId(r);return i&&!o?-1:!i&&o?1:i&&o?Qr.extractNumericId(e).compare(Qr.extractNumericId(r)):ap(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ei.fromString(e.substring(4,e.length-2))}}class Ot extends Qr{construct(e,r,i){return new Ot(e,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter(o=>o.length>0))}return new Ot(r)}static emptyPath(){return new Ot([])}}const _D=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Qr{construct(e,r,i){return new dn(e,r,i)}static isValidIdentifier(e){return _D.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mb}static keyField(){return new dn([mb])}static fromServerFormat(e){const r=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Ne(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""};let f=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Ne(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ne(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else c==="`"?(f=!f,o++):c!=="."||f?(i+=c,o++):(l(),o++)}if(l(),f)throw new Ne(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(r)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Ot.fromString(e))}static fromName(e){return new Pe(Ot.fromString(e).popFirst(5))}static empty(){return new Pe(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ot.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function bD(n,e){const r=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Fe.fromTimestamp(i===1e9?new Zt(r+1,0):new Zt(r,i));return new Di(o,Pe.empty(),e)}function ED(n){return new Di(n.readTime,n.key,ou)}class Di{constructor(e,r,i){this.readTime=e,this.documentKey=r,this.largestBatchId=i}static min(){return new Di(Fe.min(),Pe.empty(),ou)}static max(){return new Di(Fe.max(),Pe.empty(),ou)}}function wD(n,e){let r=n.readTime.compareTo(e.readTime);return r!==0?r:(r=Pe.comparator(n.documentKey,e.documentKey),r!==0?r:Qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==AD)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new fe((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(r,l).next(i,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof fe?r:fe.resolve(r)}catch(r){return fe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.reject(r)}static resolve(e){return new fe((r,i)=>{r(e)})}static reject(e){return new fe((r,i)=>{i(e)})}static waitFor(e){return new fe((r,i)=>{let o=0,l=0,f=!1;e.forEach(c=>{++o,c.next(()=>{++l,f&&l===o&&r()},p=>i(p))}),f=!0,l===o&&r()})}static or(e){let r=fe.resolve(!1);for(const i of e)r=r.next(o=>o?fe.resolve(o):i());return r}static forEach(e,r){const i=[];return e.forEach((o,l)=>{i.push(r.call(this,o,l))}),this.waitFor(i)}static mapArray(e,r){return new fe((i,o)=>{const l=e.length,f=new Array(l);let c=0;for(let p=0;p<l;p++){const g=p;r(e[g]).next(_=>{f[g]=_,++c,c===l&&i(f)},_=>o(_))}})}static doWhile(e,r){return new fe((i,o)=>{const l=()=>{e()===!0?r().next(()=>{l()},o):i()};l()})}}function SD(n){const e=n.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function jo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}zf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=-1;function $f(n){return n==null}function vf(n){return n===0&&1/n==-1/0}function RD(n){return typeof n=="number"&&Number.isInteger(n)&&!vf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="";function xD(n){let e="";for(let r=0;r<n.length;r++)e.length>0&&(e=pb(e)),e=CD(n.get(r),e);return pb(e)}function CD(n,e){let r=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":r+="";break;case kE:r+="";break;default:r+=l}}return r}function pb(n){return n+kE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(n){let e=0;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e++;return e}function ki(n,e){for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(r,n[r])}function VE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.comparator=e,this.root=r||hn.EMPTY}insert(e,r){return new Nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(e){let r=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return r+i.left.size;o<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,i)=>(e(r,i),!1))}toString(){const e=[];return this.inorderTraversal((r,i)=>(e.push(`${r}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,r,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=r?i(e.key,r):1,r&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,r,i,o,l){this.key=e,this.value=r,this.color=i??hn.RED,this.left=o??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,i,o,l){return new hn(e??this.key,r??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,r,i),null):l===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let i,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,r,i,o,l){return this}insert(e,r,i){return new hn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,i)=>(e(r),!1))}forEachInRange(e,r){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new yb(this.data.getIterator())}getIteratorFrom(e){return new yb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(i=>{r=r.add(i)}),r}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const r=this.data.getIterator(),i=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Wt(this.comparator);return r.data=e,r}}class yb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Zn([])}unionWith(e){let r=new Wt(dn.comparator);for(const i of this.fields)r=r.add(i);for(const i of e)r=r.add(i);return new Zn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(r,i)=>r.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new jE("Invalid base64 string: "+l):l}}(e);return new mn(r)}static fromUint8Array(e){const r=function(o){let l="";for(let f=0;f<o.length;++f)l+=String.fromCharCode(o[f]);return l}(e);return new mn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const DD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(n){if(pt(!!n,39018),typeof n=="string"){let e=0;const r=DD.exec(n);if(pt(!!r,46558,{timestamp:n}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(n.seconds),nanos:jt(n.nanos)}}function jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ii(n){return typeof n=="string"?mn.fromBase64String(n):mn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="server_timestamp",UE="__type__",zE="__previous_value__",$E="__local_write_time__";function Qp(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[UE])===null||r===void 0?void 0:r.stringValue)===LE}function Bf(n){const e=n.mapValue.fields[zE];return Qp(e)?Bf(e):e}function lu(n){const e=Oi(n.mapValue.fields[$E].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,r,i,o,l,f,c,p,g,_){this.databaseId=e,this.appId=r,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=c,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const _f="(default)";class uu{constructor(e,r){this.projectId=e,this.database=r||_f}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===_f}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="__type__",ID="__max__",qc={mapValue:{}},FE="__vector__",bf="value";function Ni(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qp(n)?4:MD(n)?9007199254740991:ND(n)?10:11:ze(28295,{value:n})}function ta(n,e){if(n===e)return!0;const r=Ni(n);if(r!==Ni(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lu(n).isEqual(lu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const f=Oi(o.timestampValue),c=Oi(l.timestampValue);return f.seconds===c.seconds&&f.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Ii(o.bytesValue).isEqual(Ii(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return jt(o.geoPointValue.latitude)===jt(l.geoPointValue.latitude)&&jt(o.geoPointValue.longitude)===jt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return jt(o.integerValue)===jt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const f=jt(o.doubleValue),c=jt(l.doubleValue);return f===c?vf(f)===vf(c):isNaN(f)&&isNaN(c)}return!1}(n,e);case 9:return xo(n.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:case 11:return function(o,l){const f=o.mapValue.fields||{},c=l.mapValue.fields||{};if(gb(f)!==gb(c))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(c[p]===void 0||!ta(f[p],c[p])))return!1;return!0}(n,e);default:return ze(52216,{left:n})}}function cu(n,e){return(n.values||[]).find(r=>ta(r,e))!==void 0}function Co(n,e){if(n===e)return 0;const r=Ni(n),i=Ni(e);if(r!==i)return Qe(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(l,f){const c=jt(l.integerValue||l.doubleValue),p=jt(f.integerValue||f.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return vb(n.timestampValue,e.timestampValue);case 4:return vb(lu(n),lu(e));case 5:return ap(n.stringValue,e.stringValue);case 6:return function(l,f){const c=Ii(l),p=Ii(f);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,f){const c=l.split("/"),p=f.split("/");for(let g=0;g<c.length&&g<p.length;g++){const _=Qe(c[g],p[g]);if(_!==0)return _}return Qe(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,f){const c=Qe(jt(l.latitude),jt(f.latitude));return c!==0?c:Qe(jt(l.longitude),jt(f.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _b(n.arrayValue,e.arrayValue);case 10:return function(l,f){var c,p,g,_;const d=l.fields||{},y=f.fields||{},E=(c=d[bf])===null||c===void 0?void 0:c.arrayValue,v=(p=y[bf])===null||p===void 0?void 0:p.arrayValue,b=Qe(((g=E==null?void 0:E.values)===null||g===void 0?void 0:g.length)||0,((_=v==null?void 0:v.values)===null||_===void 0?void 0:_.length)||0);return b!==0?b:_b(E,v)}(n.mapValue,e.mapValue);case 11:return function(l,f){if(l===qc.mapValue&&f===qc.mapValue)return 0;if(l===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const c=l.fields||{},p=Object.keys(c),g=f.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let d=0;d<p.length&&d<_.length;++d){const y=ap(p[d],_[d]);if(y!==0)return y;const E=Co(c[p[d]],g[_[d]]);if(E!==0)return E}return Qe(p.length,_.length)}(n.mapValue,e.mapValue);default:throw ze(23264,{Pe:r})}}function vb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const r=Oi(n),i=Oi(e),o=Qe(r.seconds,i.seconds);return o!==0?o:Qe(r.nanos,i.nanos)}function _b(n,e){const r=n.values||[],i=e.values||[];for(let o=0;o<r.length&&o<i.length;++o){const l=Co(r[o],i[o]);if(l)return l}return Qe(r.length,i.length)}function Do(n){return ip(n)}function ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Oi(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(r){return Ii(r).toBase64()}(n.bytesValue):"referenceValue"in n?function(r){return Pe.fromName(r).toString()}(n.referenceValue):"geoPointValue"in n?function(r){return`geo(${r.latitude},${r.longitude})`}(n.geoPointValue):"arrayValue"in n?function(r){let i="[",o=!0;for(const l of r.values||[])o?o=!1:i+=",",i+=ip(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",l=!0;for(const f of i)l?l=!1:o+=",",o+=`${f}:${ip(r.fields[f])}`;return o+"}"}(n.mapValue):ze(61005,{value:n})}function ef(n){switch(Ni(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bf(n);return e?16+ef(e):16;case 5:return 2*n.stringValue.length;case 6:return Ii(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+ef(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ki(i.fields,(l,f)=>{o+=l.length+ef(f)}),o}(n.mapValue);default:throw ze(13486,{value:n})}}function sp(n){return!!n&&"integerValue"in n}function Kp(n){return!!n&&"arrayValue"in n}function bb(n){return!!n&&"nullValue"in n}function Eb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tf(n){return!!n&&"mapValue"in n}function ND(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[BE])===null||r===void 0?void 0:r.stringValue)===FE}function Zl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ki(n.mapValue.fields,(r,i)=>e.mapValue.fields[r]=Zl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(n.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Zl(n.arrayValue.values[r]);return e}return Object.assign({},n)}function MD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ID}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let i=0;i<e.length-1;++i)if(r=(r.mapValue.fields||{})[e.get(i)],!tf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(r)}setAll(e){let r=dn.emptyPath(),i={},o=[];e.forEach((f,c)=>{if(!r.isImmediateParentOf(c)){const p=this.getFieldsMap(r);this.applyChanges(p,i,o),i={},o=[],r=c.popLast()}f?i[c.lastSegment()]=Zl(f):o.push(c.lastSegment())});const l=this.getFieldsMap(r);this.applyChanges(l,i,o)}delete(e){const r=this.field(e.popLast());tf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=r.mapValue.fields[e.get(i)];tf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(i)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,i){ki(r,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Vn(Zl(this.value))}}function qE(n){const e=[];return ki(n.fields,(r,i)=>{const o=new dn([r]);if(tf(i)){const l=qE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const f of l)e.push(o.child(f))}else e.push(o)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,r,i,o,l,f,c){this.key=e,this.documentType=r,this.version=i,this.readTime=o,this.createTime=l,this.data=f,this.documentState=c}static newInvalidDocument(e){return new wn(e,0,Fe.min(),Fe.min(),Fe.min(),Vn.empty(),0)}static newFoundDocument(e,r,i,o){return new wn(e,1,r,Fe.min(),i,o,0)}static newNoDocument(e,r){return new wn(e,2,r,Fe.min(),Fe.min(),Vn.empty(),0)}static newUnknownDocument(e,r){return new wn(e,3,r,Fe.min(),Fe.min(),Vn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,r){this.position=e,this.inclusive=r}}function wb(n,e,r){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],f=n.position[o];if(l.field.isKeyField()?i=Pe.comparator(Pe.fromName(f.referenceValue),r.key):i=Co(f,r.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ab(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let r=0;r<n.position.length;r++)if(!ta(n.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,r="asc"){this.field=e,this.dir=r}}function PD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{}class Xt extends HE{constructor(e,r,i){super(),this.field=e,this.op=r,this.value=i}static create(e,r,i){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,i):new VD(e,r,i):r==="array-contains"?new UD(e,i):r==="in"?new zD(e,i):r==="not-in"?new $D(e,i):r==="array-contains-any"?new BD(e,i):new Xt(e,r,i)}static createKeyFieldInFilter(e,r,i){return r==="in"?new jD(e,i):new LD(e,i)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Co(r,this.value)):r!==null&&Ni(this.value)===Ni(r)&&this.matchesComparison(Co(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class na extends HE{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new na(e,r)}matches(e){return GE(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function GE(n){return n.op==="and"}function YE(n){return kD(n)&&GE(n)}function kD(n){for(const e of n.filters)if(e instanceof na)return!1;return!0}function op(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+Do(n.value);if(YE(n))return n.filters.map(e=>op(e)).join(",");{const e=n.filters.map(r=>op(r)).join(",");return`${n.op}(${e})`}}function QE(n,e){return n instanceof Xt?function(i,o){return o instanceof Xt&&i.op===o.op&&i.field.isEqual(o.field)&&ta(i.value,o.value)}(n,e):n instanceof na?function(i,o){return o instanceof na&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,f,c)=>l&&QE(f,o.filters[c]),!0):!1}(n,e):void ze(19439)}function KE(n){return n instanceof Xt?function(r){return`${r.field.canonicalString()} ${r.op} ${Do(r.value)}`}(n):n instanceof na?function(r){return r.op.toString()+" {"+r.getFilters().map(KE).join(" ,")+"}"}(n):"Filter"}class VD extends Xt{constructor(e,r,i){super(e,r,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const r=Pe.comparator(e.key,this.key);return this.matchesComparison(r)}}class jD extends Xt{constructor(e,r){super(e,"in",r),this.keys=XE("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class LD extends Xt{constructor(e,r){super(e,"not-in",r),this.keys=XE("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function XE(n,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class UD extends Xt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Kp(r)&&cu(r.arrayValue,this.value)}}class zD extends Xt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&cu(this.value.arrayValue,r)}}class $D extends Xt{constructor(e,r){super(e,"not-in",r)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!cu(this.value.arrayValue,r)}}class BD extends Xt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Kp(r)||!r.arrayValue.values)&&r.arrayValue.values.some(i=>cu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,r=null,i=[],o=[],l=null,f=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=f,this.endAt=c,this.Ie=null}}function Tb(n,e=null,r=[],i=[],o=null,l=null,f=null){return new FD(n,e,r,i,o,l,f)}function Xp(n){const e=qe(n);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(i=>op(i)).join(","),r+="|ob:",r+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),$f(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>Do(i)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>Do(i)).join(",")),e.Ie=r}return e.Ie}function Zp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!PD(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(!QE(n.filters[r],e.filters[r]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ab(n.startAt,e.startAt)&&Ab(n.endAt,e.endAt)}function lp(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,r=null,i=[],o=[],l=null,f="F",c=null,p=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=f,this.startAt=c,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function qD(n,e,r,i,o,l,f,c){return new Ff(n,e,r,i,o,l,f,c)}function ZE(n){return new Ff(n)}function Sb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HD(n){return n.collectionGroup!==null}function Wl(n){const e=qe(n);if(e.Ee===null){e.Ee=[];const r=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),r.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let c=new Wt(dn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(c=c.add(g.field))})}),c})(e).forEach(l=>{r.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new wf(l,i))}),r.has(dn.keyField().canonicalString())||e.Ee.push(new wf(dn.keyField(),i))}return e.Ee}function Jr(n){const e=qe(n);return e.de||(e.de=GD(e,Wl(n))),e.de}function GD(n,e){if(n.limitType==="F")return Tb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new wf(o.field,l)});const r=n.endAt?new Ef(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ef(n.startAt.position,n.startAt.inclusive):null;return Tb(n.path,n.collectionGroup,e,n.filters,n.limit,r,i)}}function up(n,e,r){return new Ff(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,r,n.startAt,n.endAt)}function qf(n,e){return Zp(Jr(n),Jr(e))&&n.limitType===e.limitType}function WE(n){return`${Xp(Jr(n))}|lt:${n.limitType}`}function po(n){return`Query(target=${function(r){let i=r.path.canonicalString();return r.collectionGroup!==null&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(o=>KE(o)).join(", ")}]`),$f(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),r.startAt&&(i+=", startAt: ",i+=r.startAt.inclusive?"b:":"a:",i+=r.startAt.position.map(o=>Do(o)).join(",")),r.endAt&&(i+=", endAt: ",i+=r.endAt.inclusive?"a:":"b:",i+=r.endAt.position.map(o=>Do(o)).join(",")),`Target(${i})`}(Jr(n))}; limitType=${n.limitType})`}function Hf(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Pe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Wl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(f,c,p){const g=wb(f,c,p);return f.inclusive?g<=0:g<0}(i.startAt,Wl(i),o)||i.endAt&&!function(f,c,p){const g=wb(f,c,p);return f.inclusive?g>=0:g>0}(i.endAt,Wl(i),o))}(n,e)}function YD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JE(n){return(e,r)=>{let i=!1;for(const o of Wl(n)){const l=QD(o,e,r);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function QD(n,e,r){const i=n.field.isKeyField()?Pe.comparator(e.key,r.key):function(l,f,c){const p=f.data.field(l),g=c.data.field(l);return p!==null&&g!==null?Co(p,g):ze(42886)}(n.field,e,r);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ze(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,r){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,r]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[r]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(r,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return VE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new Nt(Pe.comparator);function ka(){return KD}const ew=new Nt(Pe.comparator);function Yl(...n){let e=ew;for(const r of n)e=e.insert(r.key,r);return e}function tw(n){let e=ew;return n.forEach((r,i)=>e=e.insert(r,i.overlayedDocument)),e}function gs(){return Jl()}function nw(){return Jl()}function Jl(){return new Ts(n=>n.toString(),(n,e)=>n.isEqual(e))}const XD=new Nt(Pe.comparator),ZD=new Wt(Pe.comparator);function nt(...n){let e=ZD;for(const r of n)e=e.add(r);return e}const WD=new Wt(Qe);function JD(){return WD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(e)?"-0":e}}function rw(n){return{integerValue:""+n}}function eO(n,e){return RD(e)?rw(e):Wp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this._=void 0}}function tO(n,e,r){return n instanceof Af?function(o,l){const f={fields:{[UE]:{stringValue:LE},[$E]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Qp(l)&&(l=Bf(l)),l&&(f.fields[zE]=l),{mapValue:f}}(r,e):n instanceof fu?iw(n,e):n instanceof hu?sw(n,e):function(o,l){const f=aw(o,l),c=Rb(f)+Rb(o.Re);return sp(f)&&sp(o.Re)?rw(c):Wp(o.serializer,c)}(n,e)}function nO(n,e,r){return n instanceof fu?iw(n,e):n instanceof hu?sw(n,e):r}function aw(n,e){return n instanceof Tf?function(i){return sp(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Af extends Gf{}class fu extends Gf{constructor(e){super(),this.elements=e}}function iw(n,e){const r=ow(e);for(const i of n.elements)r.some(o=>ta(o,i))||r.push(i);return{arrayValue:{values:r}}}class hu extends Gf{constructor(e){super(),this.elements=e}}function sw(n,e){let r=ow(e);for(const i of n.elements)r=r.filter(o=>!ta(o,i));return{arrayValue:{values:r}}}class Tf extends Gf{constructor(e,r){super(),this.serializer=e,this.Re=r}}function Rb(n){return jt(n.integerValue||n.doubleValue)}function ow(n){return Kp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function rO(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof fu&&o instanceof fu||i instanceof hu&&o instanceof hu?xo(i.elements,o.elements,ta):i instanceof Tf&&o instanceof Tf?ta(i.Re,o.Re):i instanceof Af&&o instanceof Af}(n.transform,e.transform)}class aO{constructor(e,r){this.version=e,this.transformResults=r}}class xr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yf{}function lw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jp(n.key,xr.none()):new vu(n.key,n.data,xr.none());{const r=n.data,i=Vn.empty();let o=new Wt(dn.comparator);for(let l of e.fields)if(!o.has(l)){let f=r.field(l);f===null&&l.length>1&&(l=l.popLast(),f=r.field(l)),f===null?i.delete(l):i.set(l,f),o=o.add(l)}return new Vi(n.key,i,new Zn(o.toArray()),xr.none())}}function iO(n,e,r){n instanceof vu?function(o,l,f){const c=o.value.clone(),p=Cb(o.fieldTransforms,l,f.transformResults);c.setAll(p),l.convertToFoundDocument(f.version,c).setHasCommittedMutations()}(n,e,r):n instanceof Vi?function(o,l,f){if(!nf(o.precondition,l))return void l.convertToUnknownDocument(f.version);const c=Cb(o.fieldTransforms,l,f.transformResults),p=l.data;p.setAll(uw(o)),p.setAll(c),l.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(n,e,r):function(o,l,f){l.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,r)}function eu(n,e,r,i){return n instanceof vu?function(l,f,c,p){if(!nf(l.precondition,f))return c;const g=l.value.clone(),_=Db(l.fieldTransforms,p,f);return g.setAll(_),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(n,e,r,i):n instanceof Vi?function(l,f,c,p){if(!nf(l.precondition,f))return c;const g=Db(l.fieldTransforms,p,f),_=f.data;return _.setAll(uw(l)),_.setAll(g),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),c===null?null:c.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(d=>d.field))}(n,e,r,i):function(l,f,c){return nf(l.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):c}(n,e,r)}function sO(n,e){let r=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=aw(i.transform,o||null);l!=null&&(r===null&&(r=Vn.empty()),r.set(i.field,l))}return r||null}function xb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&xo(i,o,(l,f)=>rO(l,f))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class vu extends Yf{constructor(e,r,i,o=[]){super(),this.key=e,this.value=r,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vi extends Yf{constructor(e,r,i,o,l=[]){super(),this.key=e,this.data=r,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function uw(n){const e=new Map;return n.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const i=n.data.field(r);e.set(r,i)}}),e}function Cb(n,e,r){const i=new Map;pt(n.length===r.length,32656,{Ve:r.length,me:n.length});for(let o=0;o<r.length;o++){const l=n[o],f=l.transform,c=e.data.field(l.field);i.set(l.field,nO(f,c,r[o]))}return i}function Db(n,e,r){const i=new Map;for(const o of n){const l=o.transform,f=r.data.field(o.field);i.set(o.field,tO(l,f,e))}return i}class Jp extends Yf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oO extends Yf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,r,i,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,r){const i=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&iO(l,e,i[o])}}applyToLocalView(e,r){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(r=eu(i,e,r,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(r=eu(i,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const i=nw();return this.mutations.forEach(o=>{const l=e.get(o.key),f=l.overlayedDocument;let c=this.applyToLocalView(f,l.mutatedFields);c=r.has(o.key)?null:c;const p=lw(f,c);p!==null&&i.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Fe.min())}),i}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),nt())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(r,i)=>xb(r,i))&&xo(this.baseMutations,e.baseMutations,(r,i)=>xb(r,i))}}class eg{constructor(e,r,i,o){this.batch=e,this.commitVersion=r,this.mutationResults=i,this.docVersions=o}static from(e,r,i){pt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return XD}();const l=e.mutations;for(let f=0;f<l.length;f++)o=o.insert(l[f].key,i[f].version);return new eg(e,r,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,ot;function fO(n){switch(n){case de.OK:return ze(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return ze(15467,{code:n})}}function cw(n){if(n===void 0)return Pa("GRPC error has no .code"),de.UNKNOWN;switch(n){case qt.OK:return de.OK;case qt.CANCELLED:return de.CANCELLED;case qt.UNKNOWN:return de.UNKNOWN;case qt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case qt.INTERNAL:return de.INTERNAL;case qt.UNAVAILABLE:return de.UNAVAILABLE;case qt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case qt.NOT_FOUND:return de.NOT_FOUND;case qt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case qt.ABORTED:return de.ABORTED;case qt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case qt.DATA_LOSS:return de.DATA_LOSS;default:return ze(39323,{code:n})}}(ot=qt||(qt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new Ei([4294967295,4294967295],0);function Ob(n){const e=ME().encode(n),r=new SE;return r.update(e),new Uint8Array(r.digest())}function Ib(n){const e=new DataView(n.buffer),r=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ei([r,i],0),new Ei([o,l],0)]}class tg{constructor(e,r,i){if(this.bitmap=e,this.padding=r,this.hashCount=i,r<0||r>=8)throw new Ql(`Invalid padding: ${r}`);if(i<0)throw new Ql(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${i}`);if(e.length===0&&r!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=Ei.fromNumber(this.pe)}we(e,r,i){let o=e.add(r.multiply(Ei.fromNumber(i)));return o.compare(hO)===1&&(o=new Ei([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=Ob(e),[i,o]=Ib(r);for(let l=0;l<this.hashCount;l++){const f=this.we(i,o,l);if(!this.be(f))return!1}return!0}static create(e,r,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new tg(l,o,r);return i.forEach(c=>f.insert(c)),f}insert(e){if(this.pe===0)return;const r=Ob(e),[i,o]=Ib(r);for(let l=0;l<this.hashCount;l++){const f=this.we(i,o,l);this.Se(f)}}Se(e){const r=Math.floor(e/8),i=e%8;this.bitmap[r]|=1<<i}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,r,i,o,l){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,r,i){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,r,i)),new Qf(Fe.min(),o,new Nt(Qe),ka(),nt())}}class _u{constructor(e,r,i,o,l){this.resumeToken=e,this.current=r,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,r,i){return new _u(i,r,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,r,i,o){this.De=e,this.removedTargetIds=r,this.key=i,this.ve=o}}class fw{constructor(e,r){this.targetId=e,this.Ce=r}}class hw{constructor(e,r,i=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=i,this.cause=o}}class Nb{constructor(){this.Fe=0,this.Me=Mb(),this.xe=mn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nt(),r=nt(),i=nt();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:i=i.add(o);break;default:ze(38017,{changeType:l})}}),new _u(this.xe,this.Oe,e,r,i)}Qe(){this.Ne=!1,this.Me=Mb()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class dO{constructor(e){this.ze=e,this.je=new Map,this.He=ka(),this.Je=Hc(),this.Ye=Hc(),this.Ze=new Nt(Qe)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const i=this.rt(r);switch(e.state){case 0:this.it(r)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(r);break;case 3:this.it(r)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),i.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((i,o)=>{this.it(o)&&r(o)})}ot(e){const r=e.targetId,i=e.Ce.count,o=this._t(r);if(o){const l=o.target;if(lp(l))if(i===0){const f=new Pe(l.path);this.tt(r,f,wn.newNoDocument(f,Fe.min()))}else pt(i===1,20013,{expectedCount:i});else{const f=this.ut(r);if(f!==i){const c=this.ct(e),p=c?this.lt(c,e,f):1;if(p!==0){this.st(r);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,g)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=r;let f,c;try{f=Ii(i).toUint8Array()}catch(p){if(p instanceof jE)return Ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{c=new tg(f,o,l)}catch(p){return Ro(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return c.pe===0?null:c}lt(e,r,i){return r.Ce.count===i-this.Tt(e,r.targetId)?0:2}Tt(e,r){const i=this.ze.getRemoteKeysForTarget(r);let o=0;return i.forEach(l=>{const f=this.ze.Pt(),c=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(c)||(this.tt(r,l,null),o++)}),o}It(e){const r=new Map;this.je.forEach((l,f)=>{const c=this._t(f);if(c){if(l.current&&lp(c.target)){const p=new Pe(c.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,wn.newNoDocument(p,e))}l.Le&&(r.set(f,l.qe()),l.Qe())}});let i=nt();this.Ye.forEach((l,f)=>{let c=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(l))}),this.He.forEach((l,f)=>f.setReadTime(e));const o=new Qf(e,r,this.Ze,this.He,i);return this.He=ka(),this.Je=Hc(),this.Ye=Hc(),this.Ze=new Nt(Qe),o}et(e,r){if(!this.it(e))return;const i=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,i),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,r)?o.$e(r,1):o.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),i&&(this.He=this.He.insert(r,i))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new Nb,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Wt(Qe),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Wt(Qe),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||Ee("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Nb),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function Hc(){return new Nt(Pe.comparator)}function Mb(){return new Nt(Pe.comparator)}const mO={asc:"ASCENDING",desc:"DESCENDING"},pO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gO={and:"AND",or:"OR"};class yO{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function cp(n,e){return n.useProto3Json||$f(e)?e:{value:e}}function Sf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vO(n,e){return Sf(n,e.toTimestamp())}function ea(n){return pt(!!n,49232),Fe.fromTimestamp(function(r){const i=Oi(r);return new Zt(i.seconds,i.nanos)}(n))}function ng(n,e){return fp(n,e).canonicalString()}function fp(n,e){const r=function(o){return new Ot(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?r:r.child(e)}function mw(n){const e=Ot.fromString(n);return pt(_w(e),10190,{key:e.toString()}),e}function hp(n,e){return ng(n.databaseId,e.path)}function Sm(n,e){const r=mw(e);if(r.get(1)!==n.databaseId.projectId)throw new Ne(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+n.databaseId.projectId);if(r.get(3)!==n.databaseId.database)throw new Ne(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+n.databaseId.database);return new Pe(gw(r))}function pw(n,e){return ng(n.databaseId,e)}function _O(n){const e=mw(n);return e.length===4?Ot.emptyPath():gw(e)}function dp(n){return new Ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gw(n){return pt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Pb(n,e,r){return{name:hp(n,e),fields:r.value.mapValue.fields}}function bO(n,e){let r;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ze(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(pt(_===void 0||typeof _=="string",58123),mn.fromBase64String(_||"")):(pt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),mn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,c=f&&function(g){const _=g.code===void 0?de.UNKNOWN:cw(g.code);return new Ne(_,g.message||"")}(f);r=new hw(i,o,l,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Sm(n,i.document.name),l=ea(i.document.updateTime),f=i.document.createTime?ea(i.document.createTime):Fe.min(),c=new Vn({mapValue:{fields:i.document.fields}}),p=wn.newFoundDocument(o,l,f,c),g=i.targetIds||[],_=i.removedTargetIds||[];r=new rf(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Sm(n,i.document),l=i.readTime?ea(i.readTime):Fe.min(),f=wn.newNoDocument(o,l),c=i.removedTargetIds||[];r=new rf([],c,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Sm(n,i.document),l=i.removedTargetIds||[];r=new rf([],l,o,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,f=new cO(o,l),c=i.targetId;r=new fw(c,f)}}return r}function EO(n,e){let r;if(e instanceof vu)r={update:Pb(n,e.key,e.value)};else if(e instanceof Jp)r={delete:hp(n,e.key)};else if(e instanceof Vi)r={update:Pb(n,e.key,e.data),updateMask:OO(e.fieldMask)};else{if(!(e instanceof oO))return ze(16599,{ft:e.type});r={verify:hp(n,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(i=>function(l,f){const c=f.transform;if(c instanceof Af)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof hu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Tf)return{fieldPath:f.field.canonicalString(),increment:c.Re};throw ze(20930,{transform:f.transform})}(0,i))),e.precondition.isNone||(r.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:vO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ze(27497)}(n,e.precondition)),r}function wO(n,e){return n&&n.length>0?(pt(e!==void 0,14353),n.map(r=>function(o,l){let f=o.updateTime?ea(o.updateTime):ea(l);return f.isEqual(Fe.min())&&(f=ea(l)),new aO(f,o.transformResults||[])}(r,e))):[]}function AO(n,e){return{documents:[pw(n,e.path)]}}function TO(n,e){const r={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=pw(n,o);const l=function(g){if(g.length!==0)return vw(na.create(g,"and"))}(e.filters);l&&(r.structuredQuery.where=l);const f=function(g){if(g.length!==0)return g.map(_=>function(y){return{field:go(y.field),direction:xO(y.dir)}}(_))}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const c=cp(n,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:r,parent:o}}function SO(n){let e=_O(n.parent);const r=n.structuredQuery,i=r.from?r.from.length:0;let o=null;if(i>0){pt(i===1,65062);const _=r.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];r.where&&(l=function(d){const y=yw(d);return y instanceof na&&YE(y)?y.getFilters():[y]}(r.where));let f=[];r.orderBy&&(f=function(d){return d.map(y=>function(v){return new wf(yo(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(y))}(r.orderBy));let c=null;r.limit&&(c=function(d){let y;return y=typeof d=="object"?d.value:d,$f(y)?null:y}(r.limit));let p=null;r.startAt&&(p=function(d){const y=!!d.before,E=d.values||[];return new Ef(E,y)}(r.startAt));let g=null;return r.endAt&&(g=function(d){const y=!d.before,E=d.values||[];return new Ef(E,y)}(r.endAt)),qD(e,o,f,l,c,"F",p,g)}function RO(n,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:o})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function yw(n){return n.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const i=yo(r.unaryFilter.field);return Xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(r.unaryFilter.field);return Xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=yo(r.unaryFilter.field);return Xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=yo(r.unaryFilter.field);return Xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(n):n.fieldFilter!==void 0?function(r){return Xt.create(yo(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(r){return na.create(r.compositeFilter.filters.map(i=>yw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(r.compositeFilter.op))}(n):ze(30097,{filter:n})}function xO(n){return mO[n]}function CO(n){return pO[n]}function DO(n){return gO[n]}function go(n){return{fieldPath:n.canonicalString()}}function yo(n){return dn.fromServerFormat(n.fieldPath)}function vw(n){return n instanceof Xt?function(r){if(r.op==="=="){if(Eb(r.value))return{unaryFilter:{field:go(r.field),op:"IS_NAN"}};if(bb(r.value))return{unaryFilter:{field:go(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Eb(r.value))return{unaryFilter:{field:go(r.field),op:"IS_NOT_NAN"}};if(bb(r.value))return{unaryFilter:{field:go(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(r.field),op:CO(r.op),value:r.value}}}(n):n instanceof na?function(r){const i=r.getFilters().map(o=>vw(o));return i.length===1?i[0]:{compositeFilter:{op:DO(r.op),filters:i}}}(n):ze(54877,{filter:n})}function OO(n){const e=[];return n.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function _w(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,r,i,o,l=Fe.min(),f=Fe.min(),c=mn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=r,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=c,this.expectedCount=p}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.wt=e}}function NO(n){const e=SO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.yn=new PO}addToCollectionParentIndex(e,r){return this.yn.add(r),fe.resolve()}getCollectionParents(e,r){return fe.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return fe.resolve()}deleteFieldIndex(e,r){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,r){return fe.resolve()}getDocumentsMatchingTarget(e,r){return fe.resolve(null)}getIndexType(e,r){return fe.resolve(0)}getFieldIndexes(e,r){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,r){return fe.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,r){return fe.resolve(Di.min())}updateCollectionGroup(e,r,i){return fe.resolve()}updateIndexEntries(e,r){return fe.resolve()}}class PO{constructor(){this.index={}}add(e){const r=e.lastSegment(),i=e.popLast(),o=this.index[r]||new Wt(Ot.comparator),l=!o.has(i);return this.index[r]=o.add(i),l}has(e){const r=e.lastSegment(),i=e.popLast(),o=this.index[r];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Wt(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bw=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(bw,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Oo(0)}static ir(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="LruGarbageCollector",kO=1048576;function jb([n,e],[r,i]){const o=Qe(n,r);return o===0?Qe(e,i):o}class VO{constructor(e){this.cr=e,this.buffer=new Wt(jb),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const i=this.buffer.last();jb(r,i)<0&&(this.buffer=this.buffer.delete(i).add(r))}}get maxValue(){return this.buffer.last()[0]}}class jO{constructor(e,r,i){this.garbageCollector=e,this.asyncQueue=r,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ee(Vb,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){jo(r)?Ee(Vb,"Ignoring IndexedDB error during garbage collection: ",r):await Vo(r)}await this.Ir(3e5)})}}class LO{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(i=>Math.floor(r/100*i))}nthSequenceNumber(e,r){if(r===0)return fe.resolve(zf.le);const i=new VO(r);return this.Er.forEachTarget(e,o=>i.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>i.Pr(o))).next(()=>i.maxValue)}removeTargets(e,r,i){return this.Er.removeTargets(e,r,i)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(kb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kb):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let i,o,l,f,c,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),o=this.params.maximumSequenceNumbersToCollect):o=d,f=Date.now(),this.nthSequenceNumber(e,o))).next(d=>(i=d,c=Date.now(),this.removeTargets(e,i,r))).next(d=>(l=d,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(g=Date.now(),mo()<=lt.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(c-f)+`ms
	Removed ${l} targets in `+(p-c)+`ms
	Removed ${d} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:d})))}}function UO(n,e){return new LO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.changes=new Ts(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const i=this.changes.get(r);return i!==void 0?fe.resolve(i):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,r,i,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,r){let i=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(i!==null&&eu(i.mutation,o,Zn.empty(),Zt.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,r,i=nt()){const o=gs();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,i).next(l=>{let f=Yl();return l.forEach((c,p)=>{f=f.insert(c,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,r){const i=gs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,nt()))}populateOverlays(e,r,i){const o=[];return i.forEach(l=>{r.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((f,c)=>{r.set(f,c)})})}computeViews(e,r,i,o){let l=ka();const f=Jl(),c=function(){return Jl()}();return r.forEach((p,g)=>{const _=i.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Vi)?l=l.insert(g.key,g):_!==void 0?(f.set(g.key,_.mutation.getFieldMask()),eu(_.mutation,g,_.mutation.getFieldMask(),Zt.now())):f.set(g.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,_)=>f.set(g,_)),r.forEach((g,_)=>{var d;return c.set(g,new $O(_,(d=f.get(g))!==null&&d!==void 0?d:null))}),c))}recalculateAndSaveOverlays(e,r){const i=Jl();let o=new Nt((f,c)=>f-c),l=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(f=>{for(const c of f)c.keys().forEach(p=>{const g=r.get(p);if(g===null)return;let _=i.get(p)||Zn.empty();_=c.applyToLocalView(g,_),i.set(p,_);const d=(o.get(c.batchId)||nt()).add(p);o=o.insert(c.batchId,d)})}).next(()=>{const f=[],c=o.getReverseIterator();for(;c.hasNext();){const p=c.getNext(),g=p.key,_=p.value,d=nw();_.forEach(y=>{if(!l.has(y)){const E=lw(r.get(y),i.get(y));E!==null&&d.set(y,E),l=l.add(y)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,d))}return fe.waitFor(f)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,r,i,o){return function(f){return Pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):HD(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,i,o):this.getDocumentsMatchingCollectionQuery(e,r,i,o)}getNextDocuments(e,r,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,i,o).next(l=>{const f=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,i.largestBatchId,o-l.size):fe.resolve(gs());let c=ou,p=l;return f.next(g=>fe.forEach(g,(_,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),l.get(_)?fe.resolve():this.remoteDocumentCache.getEntry(e,_).next(y=>{p=p.insert(_,y)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,nt())).next(_=>({batchId:c,changes:tw(_)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Pe(r)).next(i=>{let o=Yl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,i,o){const l=r.collectionGroup;let f=Yl();return this.indexManager.getCollectionParents(e,l).next(c=>fe.forEach(c,p=>{const g=function(d,y){return new Ff(y,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(_=>{_.forEach((d,y)=>{f=f.insert(d,y)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,r,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,i.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,i,l,o))).next(f=>{l.forEach((p,g)=>{const _=g.getKey();f.get(_)===null&&(f=f.insert(_,wn.newInvalidDocument(_)))});let c=Yl();return f.forEach((p,g)=>{const _=l.get(p);_!==void 0&&eu(_.mutation,g,Zn.empty(),Zt.now()),Hf(r,g)&&(c=c.insert(p,g))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return fe.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:ea(o.createTime)}}(r)),fe.resolve()}getNamedQuery(e,r){return fe.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(o){return{name:o.name,query:NO(o.bundledQuery),readTime:ea(o.readTime)}}(r)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.overlays=new Nt(Pe.comparator),this.Or=new Map}getOverlay(e,r){return fe.resolve(this.overlays.get(r))}getOverlays(e,r){const i=gs();return fe.forEach(r,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,r,i){return i.forEach((o,l)=>{this.St(e,r,l)}),fe.resolve()}removeOverlaysForBatchId(e,r,i){const o=this.Or.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(i)),fe.resolve()}getOverlaysForCollection(e,r,i){const o=gs(),l=r.length+1,f=new Pe(r.child("")),c=this.overlays.getIteratorFrom(f);for(;c.hasNext();){const p=c.getNext().value,g=p.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,r,i,o){let l=new Nt((g,_)=>g-_);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=gs(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const c=gs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>c.set(g,_)),!(c.size()>=o)););return fe.resolve(c)}St(e,r,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(i.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new uO(r,i));let l=this.Or.get(r);l===void 0&&(l=nt(),this.Or.set(r,l)),this.Or.set(r,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Nr=new Wt(an.Br),this.Lr=new Wt(an.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const i=new an(e,r);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,r){e.forEach(i=>this.addReference(i,r))}removeReference(e,r){this.Qr(new an(e,r))}$r(e,r){e.forEach(i=>this.removeReference(i,r))}Ur(e){const r=new Pe(new Ot([])),i=new an(r,e),o=new an(r,e+1),l=[];return this.Lr.forEachInRange([i,o],f=>{this.Qr(f),l.push(f.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new Pe(new Ot([])),i=new an(r,e),o=new an(r,e+1);let l=nt();return this.Lr.forEachInRange([i,o],f=>{l=l.add(f.key)}),l}containsKey(e){const r=new an(e,0),i=this.Nr.firstAfterOrEqual(r);return i!==null&&e.isEqual(i.key)}}class an{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return Pe.comparator(e.key,r.key)||Qe(e.Gr,r.Gr)}static kr(e,r){return Qe(e.Gr,r.Gr)||Pe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Wt(an.Br)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,i,o){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new lO(l,r,i,o);this.mutationQueue.push(f);for(const c of o)this.zr=this.zr.add(new an(c.key,l)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return fe.resolve(f)}lookupMutationBatch(e,r){return fe.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const i=r+1,o=this.Hr(i),l=o<0?0:o;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Yp:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const i=new an(r,0),o=new an(r,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([i,o],f=>{const c=this.jr(f.Gr);l.push(c)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,r){let i=new Wt(Qe);return r.forEach(o=>{const l=new an(o,0),f=new an(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,f],c=>{i=i.add(c.Gr)})}),fe.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,r){const i=r.path,o=i.length+1;let l=i;Pe.isDocumentKey(l)||(l=l.child(""));const f=new an(new Pe(l),0);let c=new Wt(Qe);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(c=c.add(p.Gr)),!0)},f),fe.resolve(this.Jr(c))}Jr(e){const r=[];return e.forEach(i=>{const o=this.jr(i);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){pt(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return fe.forEach(r.mutations,o=>{const l=new an(o.key,r.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,r){const i=new an(r,0),o=this.zr.firstAfterOrEqual(i);return fe.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.Zr=e,this.docs=function(){return new Nt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const i=r.key,o=this.docs.get(i),l=o?o.size:0,f=this.Zr(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const i=this.docs.get(r);return fe.resolve(i?i.document.mutableCopy():wn.newInvalidDocument(r))}getEntries(e,r){let i=ka();return r.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():wn.newInvalidDocument(o))}),fe.resolve(i)}getDocumentsMatchingQuery(e,r,i,o){let l=ka();const f=r.path,c=new Pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||wD(ED(_),i)<=0||(o.has(_.key)||Hf(r,_))&&(l=l.insert(_.key,_.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,r,i,o){ze(9500)}Xr(e,r){return fe.forEach(this.docs,i=>r(i))}newChangeBuffer(e){return new QO(this)}getSize(e){return fe.resolve(this.size)}}class QO extends zO{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?r.push(this.vr.addEntry(e,o)):this.vr.removeEntry(i)}),fe.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.persistence=e,this.ei=new Ts(r=>Xp(r),Zp),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ti=0,this.ni=new rg,this.targetCount=0,this.ri=Oo.rr()}forEachTarget(e,r){return this.ei.forEach((i,o)=>r(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.ti&&(this.ti=r),fe.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new Oo(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,fe.resolve()}updateTargetData(e,r){return this.ar(r),fe.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,r,i){let o=0;const l=[];return this.ei.forEach((f,c)=>{c.sequenceNumber<=r&&i.get(c.targetId)===null&&(this.ei.delete(f),l.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),fe.waitFor(l).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,r){const i=this.ei.get(r)||null;return fe.resolve(i)}addMatchingKeys(e,r,i){return this.ni.qr(r,i),fe.resolve()}removeMatchingKeys(e,r,i){this.ni.$r(r,i);const o=this.persistence.referenceDelegate,l=[];return o&&r.forEach(f=>{l.push(o.markPotentiallyOrphaned(e,f))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),fe.resolve()}getMatchingKeysForTargetId(e,r){const i=this.ni.Wr(r);return fe.resolve(i)}containsKey(e,r){return fe.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,r){this.ii={},this.overlays={},this.si=new zf(0),this.oi=!1,this.oi=!0,this._i=new HO,this.referenceDelegate=e(this),this.ai=new KO(this),this.indexManager=new MO,this.remoteDocumentCache=function(o){return new YO(o)}(i=>this.referenceDelegate.ui(i)),this.serializer=new IO(r),this.ci=new FO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new qO,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let i=this.ii[e.toKey()];return i||(i=new GO(r,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,i){Ee("MemoryPersistence","Starting transaction:",e);const o=new XO(this.si.next());return this.referenceDelegate.li(),i(o).next(l=>this.referenceDelegate.hi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Pi(e,r){return fe.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,r)))}}class XO extends TD{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Ti=new rg,this.Ii=null}static Ei(e){return new ag(e)}get di(){if(this.Ii)return this.Ii;throw ze(60996)}addReference(e,r,i){return this.Ti.addReference(i,r),this.di.delete(i.toString()),fe.resolve()}removeReference(e,r,i){return this.Ti.removeReference(i,r),this.di.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),fe.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(o=>this.di.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(l=>this.di.add(l.toString()))}).next(()=>i.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,i=>{const o=Pe.fromPath(i);return this.Ai(e,o).next(l=>{l||r.removeEntry(o,Fe.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(i=>{i?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return fe.or([()=>fe.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class Rf{constructor(e,r){this.persistence=e,this.Ri=new Ts(i=>xD(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=UO(this,r)}static Ei(e,r){return new Rf(e,r)}li(){}hi(e){return fe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>r.next(o=>i+o))}Vr(e){let r=0;return this.Ar(e,i=>{r++}).next(()=>r)}Ar(e,r){return fe.forEach(this.Ri,(i,o)=>this.gr(e,i,o).next(l=>l?fe.resolve():r(o)))}removeTargets(e,r,i){return this.persistence.getTargetCache().removeTargets(e,r,i)}removeOrphanedDocuments(e,r){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,r).next(c=>{c||(i++,l.removeEntry(f,Fe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),fe.resolve()}removeTarget(e,r){const i=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,r,i){return this.Ri.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,r,i){return this.Ri.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),fe.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=ef(e.data.value)),r}gr(e,r,i){return fe.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.Ri.get(r);return fe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,r,i,o){this.targetId=e,this.fromCache=r,this.ls=i,this.hs=o}static Ps(e,r){let i=nt(),o=nt();for(const l of r.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ig(e,r.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return GC()?8:SD(qC())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,i,o){const l={result:null};return this.Rs(e,r).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.Vs(e,r,o,i).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new ZO;return this.fs(e,r,f).next(c=>{if(l.result=c,this.Is)return this.gs(e,r,f,c.size)})}).next(()=>l.result)}gs(e,r,i,o){return i.documentReadCount<this.Es?(mo()<=lt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",po(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(mo()<=lt.DEBUG&&Ee("QueryEngine","Query:",po(r),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(mo()<=lt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",po(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(r))):fe.resolve())}Rs(e,r){if(Sb(r))return fe.resolve(null);let i=Jr(r);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=up(r,null,"F"),i=Jr(r)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const f=nt(...l);return this.As.getDocuments(e,f).next(c=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.ps(r,c);return this.ys(r,g,f,p.readTime)?this.Rs(e,up(r,null,"F")):this.ws(e,g,r,p)}))})))}Vs(e,r,i,o){return Sb(r)||o.isEqual(Fe.min())?fe.resolve(null):this.As.getDocuments(e,i).next(l=>{const f=this.ps(r,l);return this.ys(r,f,i,o)?fe.resolve(null):(mo()<=lt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(r)),this.ws(e,f,r,bD(o,ou)).next(c=>c))})}ps(e,r){let i=new Wt(JE(e));return r.forEach((o,l)=>{Hf(e,l)&&(i=i.add(l))}),i}ys(e,r,i,o){if(e.limit===null)return!1;if(i.size!==r.size)return!0;const l=e.limitType==="F"?r.last():r.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}fs(e,r,i){return mo()<=lt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",po(r)),this.As.getDocumentsMatchingQuery(e,r,Di.min(),i)}ws(e,r,i,o){return this.As.getDocumentsMatchingQuery(e,i,o).next(l=>(r.forEach(f=>{l=l.insert(f.key,f)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="LocalStore",JO=3e8;class e3{constructor(e,r,i,o){this.persistence=e,this.bs=r,this.serializer=o,this.Ss=new Nt(Qe),this.Ds=new Ts(l=>Xp(l),Zp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BO(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function t3(n,e,r,i){return new e3(n,e,r,i)}async function ww(n,e){const r=qe(n);return await r.persistence.runTransaction("Handle user change","readonly",i=>{let o;return r.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,r.Fs(e),r.mutationQueue.getAllMutationBatches(i))).next(l=>{const f=[],c=[];let p=nt();for(const g of o){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return r.localDocuments.getDocuments(i,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:c}))})})}function n3(n,e){const r=qe(n);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=r.Cs.newChangeBuffer({trackRemovals:!0});return function(c,p,g,_){const d=g.batch,y=d.keys();let E=fe.resolve();return y.forEach(v=>{E=E.next(()=>_.getEntry(p,v)).next(b=>{const R=g.docVersions.get(v);pt(R!==null,48541),b.version.compareTo(R)<0&&(d.applyToRemoteDocument(b,g),b.isValidDocument()&&(b.setReadTime(g.commitVersion),_.addEntry(b)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(p,d))}(r,i,e,l).next(()=>l.apply(i)).next(()=>r.mutationQueue.performConsistencyCheck(i)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let p=nt();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(p=p.add(c.batch.mutations[g].key));return p}(e))).next(()=>r.localDocuments.getDocuments(i,o))})}function Aw(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function r3(n,e){const r=qe(n),i=e.snapshotVersion;let o=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=r.Cs.newChangeBuffer({trackRemovals:!0});o=r.Ss;const c=[];e.targetChanges.forEach((_,d)=>{const y=o.get(d);if(!y)return;c.push(r.ai.removeMatchingKeys(l,_.removedDocuments,d).next(()=>r.ai.addMatchingKeys(l,_.addedDocuments,d)));let E=y.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(d)!==null?E=E.withResumeToken(mn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):_.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(_.resumeToken,i)),o=o.insert(d,E),function(b,R,w){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=JO?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(y,E,_)&&c.push(r.ai.updateTargetData(l,E))});let p=ka(),g=nt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(l,_))}),c.push(a3(l,f,e.documentUpdates).next(_=>{p=_.xs,g=_.Os})),!i.isEqual(Fe.min())){const _=r.ai.getLastRemoteSnapshotVersion(l).next(d=>r.ai.setTargetsMetadata(l,l.currentSequenceNumber,i));c.push(_)}return fe.waitFor(c).next(()=>f.apply(l)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(r.Ss=o,l))}function a3(n,e,r){let i=nt(),o=nt();return r.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let f=ka();return r.forEach((c,p)=>{const g=l.get(c);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(c)),p.isNoDocument()&&p.version.isEqual(Fe.min())?(e.removeEntry(c,p.readTime),f=f.insert(c,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(c,p)):Ee(sg,"Ignoring outdated watch update for ",c,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function i3(n,e){const r=qe(n);return r.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Yp),r.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function s3(n,e){const r=qe(n);return r.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return r.ai.getTargetData(i,e).next(l=>l?(o=l,fe.resolve(o)):r.ai.allocateTargetId(i).next(f=>(o=new vi(e,f,"TargetPurposeListen",i.currentSequenceNumber),r.ai.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=r.Ss.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(i.targetId,i),r.Ds.set(e,i.targetId)),i})}async function mp(n,e,r){const i=qe(n),o=i.Ss.get(e),l=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",l,f=>i.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!jo(f))throw f;Ee(sg,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(o.target)}function Lb(n,e,r){const i=qe(n);let o=Fe.min(),l=nt();return i.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,_){const d=qe(p),y=d.Ds.get(_);return y!==void 0?fe.resolve(d.Ss.get(y)):d.ai.getTargetData(g,_)}(i,f,Jr(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(f,c.targetId).next(p=>{l=p})}).next(()=>i.bs.getDocumentsMatchingQuery(f,e,r?o:Fe.min(),r?l:nt())).next(c=>(o3(i,YD(e),c),{documents:c,Ns:l})))}function o3(n,e,r){let i=n.vs.get(e)||Fe.min();r.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.vs.set(e,i)}class Ub{constructor(){this.activeTargetIds=JD()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l3{constructor(){this.So=new Ub,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,i){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,i){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Ub,Promise.resolve()}handleUserChange(e,r,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="ConnectivityMonitor";class $b{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ee(zb,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ee(zb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=null;function pp(){return Gc===null?Gc=function(){return 268435456+Math.round(2147483648*Math.random())}():Gc++,"0x"+Gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",c3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f3{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${i}/databases/${o}`,this.qo=this.databaseId.database===_f?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Qo(e,r,i,o,l){const f=pp(),c=this.$o(e,r.toUriEncodedString());Ee(Rm,`Sending RPC '${e}' ${f}:`,c,i);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,l);const{host:g}=new URL(c),_=vE(g);return this.Ko(e,c,p,i,_).then(d=>(Ee(Rm,`Received RPC '${e}' ${f}: `,d),d),d=>{throw Ro(Rm,`RPC '${e}' ${f} failed with error: `,d,"url: ",c,"request:",i),d})}Wo(e,r,i,o,l,f){return this.Qo(e,r,i,o,l)}Uo(e,r,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ko}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}$o(e,r){const i=c3[e];return`${this.Lo}/v1/${r}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class d3 extends f3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,i,o,l){const f=pp();return new Promise((c,p)=>{const g=new RE;g.setWithCredentials(!0),g.listenOnce(xE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Jc.NO_ERROR:const d=g.getResponseJson();Ee(bn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(d)),c(d);break;case Jc.TIMEOUT:Ee(bn,`RPC '${e}' ${f} timed out`),p(new Ne(de.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const y=g.getStatus();if(Ee(bn,`RPC '${e}' ${f} failed with status:`,y,"response text:",g.getResponseText()),y>0){let E=g.getResponseJson();Array.isArray(E)&&(E=E[0]);const v=E==null?void 0:E.error;if(v&&v.status&&v.message){const b=function(w){const S=w.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(S)>=0?S:de.UNKNOWN}(v.status);p(new Ne(b,v.message))}else p(new Ne(de.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ne(de.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{s_:e,streamId:f,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{Ee(bn,`RPC '${e}' ${f} completed.`)}});const _=JSON.stringify(o);Ee(bn,`RPC '${e}' ${f} sending request:`,o),g.send(r,"POST",_,i,15)})}a_(e,r,i){const o=pp(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=OE(),c=DE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,r,i),p.encodeInitMessageHeaders=!0;const _=l.join("");Ee(bn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const d=f.createWebChannel(_,p);let y=!1,E=!1;const v=new h3({Go:R=>{E?Ee(bn,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(y||(Ee(bn,`Opening RPC '${e}' stream ${o} transport.`),d.open(),y=!0),Ee(bn,`RPC '${e}' stream ${o} sending:`,R),d.send(R))},zo:()=>d.close()}),b=(R,w,S)=>{R.listen(w,x=>{try{S(x)}catch(M){setTimeout(()=>{throw M},0)}})};return b(d,Gl.EventType.OPEN,()=>{E||(Ee(bn,`RPC '${e}' stream ${o} transport opened.`),v.t_())}),b(d,Gl.EventType.CLOSE,()=>{E||(E=!0,Ee(bn,`RPC '${e}' stream ${o} transport closed`),v.r_())}),b(d,Gl.EventType.ERROR,R=>{E||(E=!0,Ro(bn,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),v.r_(new Ne(de.UNAVAILABLE,"The operation could not be completed")))}),b(d,Gl.EventType.MESSAGE,R=>{var w;if(!E){const S=R.data[0];pt(!!S,16349);const x=S,M=(x==null?void 0:x.error)||((w=x[0])===null||w===void 0?void 0:w.error);if(M){Ee(bn,`RPC '${e}' stream ${o} received error:`,M);const k=M.status;let V=function(C){const O=qt[C];if(O!==void 0)return cw(O)}(k),I=M.message;V===void 0&&(V=de.INTERNAL,I="Unknown error status: "+k+" with message "+M.message),E=!0,v.r_(new Ne(V,I)),d.close()}else Ee(bn,`RPC '${e}' stream ${o} received:`,S),v.i_(S)}}),b(c,CE.STAT_EVENT,R=>{R.stat===rp.PROXY?Ee(bn,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===rp.NOPROXY&&Ee(bn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{v.n_()},0),v}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n){return new yO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,r,i=1e3,o=1.5,l=6e4){this.bi=e,this.timerId=r,this.u_=i,this.c_=o,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),o=Math.max(0,r-i);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="PersistentStream";class Sw{constructor(e,r,i,o,l,f,c,p){this.bi=e,this.R_=i,this.V_=o,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=c,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Tw(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===de.RESOURCE_EXHAUSTED?(Pa(r.toString()),Pa("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.m_===r&&this.B_(i,o)},i=>{e(()=>{const o=new Ne(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(o)})})}B_(e,r){const i=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{i(()=>this.L_(o))}),this.stream.onMessage(o=>{i(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ee(Bb,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(Ee(Bb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m3 extends Sw{constructor(e,r,i,o,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,f),this.serializer=l}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=bO(this.serializer,e),i=function(l){if(!("targetChange"in l))return Fe.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Fe.min():f.readTime?ea(f.readTime):Fe.min()}(e);return this.listener.Q_(r,i)}U_(e){const r={};r.database=dp(this.serializer),r.addTarget=function(l,f){let c;const p=f.target;if(c=lp(p)?{documents:AO(l,p)}:{query:TO(l,p).gt},c.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){c.resumeToken=dw(l,f.resumeToken);const g=cp(l,f.expectedCount);g!==null&&(c.expectedCount=g)}else if(f.snapshotVersion.compareTo(Fe.min())>0){c.readTime=Sf(l,f.snapshotVersion.toTimestamp());const g=cp(l,f.expectedCount);g!==null&&(c.expectedCount=g)}return c}(this.serializer,e);const i=RO(this.serializer,e);i&&(r.labels=i),this.F_(r)}K_(e){const r={};r.database=dp(this.serializer),r.removeTarget=e,this.F_(r)}}class p3 extends Sw{constructor(e,r,i,o,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,f),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,r){return this.connection.a_("Write",e,r)}q_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const r=wO(e.writeResults,e.commitTime),i=ea(e.commitTime);return this.listener.j_(i,r)}H_(){const e={};e.database=dp(this.serializer),this.F_(e)}G_(e){const r={streamToken:this.lastStreamToken,writes:e.map(i=>EO(this.serializer,i))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{}class y3 extends g3{constructor(e,r,i,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=i,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Ne(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Qo(e,fp(r,i),o,l,f)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(de.UNKNOWN,l.toString())})}Wo(e,r,i,o,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,c])=>this.connection.Wo(e,fp(r,i),o,f,c,l)).catch(f=>{throw f.name==="FirebaseError"?(f.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ne(de.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class v3{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Pa(r),this.ea=!1):Ee("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class _3{constructor(e,r,i,o,l){this.localStore=e,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(f=>{i.enqueueAndForget(async()=>{Ss(this)&&(Ee(bs,"Restarting streams for network reachability change."),await async function(p){const g=qe(p);g.aa.add(4),await bu(g),g.la.set("Unknown"),g.aa.delete(4),await Xf(g)}(this))})}),this.la=new v3(i,o)}}async function Xf(n){if(Ss(n))for(const e of n.ua)await e(!0)}async function bu(n){for(const e of n.ua)await e(!1)}function Rw(n,e){const r=qe(n);r._a.has(e.targetId)||(r._a.set(e.targetId,e),cg(r)?ug(r):Lo(r).b_()&&lg(r,e))}function og(n,e){const r=qe(n),i=Lo(r);r._a.delete(e),i.b_()&&xw(r,e),r._a.size===0&&(i.b_()?i.v_():Ss(r)&&r.la.set("Unknown"))}function lg(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const r=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Lo(n).U_(e)}function xw(n,e){n.ha.Ke(e),Lo(n).K_(e)}function ug(n){n.ha=new dO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Lo(n).start(),n.la.ta()}function cg(n){return Ss(n)&&!Lo(n).w_()&&n._a.size>0}function Ss(n){return qe(n).aa.size===0}function Cw(n){n.ha=void 0}async function b3(n){n.la.set("Online")}async function E3(n){n._a.forEach((e,r)=>{lg(n,e)})}async function w3(n,e){Cw(n),cg(n)?(n.la.ia(e),ug(n)):n.la.set("Unknown")}async function A3(n,e,r){if(n.la.set("Online"),e instanceof hw&&e.state===2&&e.cause)try{await async function(o,l){const f=l.cause;for(const c of l.targetIds)o._a.has(c)&&(await o.remoteSyncer.rejectListen(c,f),o._a.delete(c),o.ha.removeTarget(c))}(n,e)}catch(i){Ee(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xf(n,i)}else if(e instanceof rf?n.ha.Xe(e):e instanceof fw?n.ha.ot(e):n.ha.nt(e),!r.isEqual(Fe.min()))try{const i=await Aw(n.localStore);r.compareTo(i)>=0&&await function(l,f){const c=l.ha.It(f);return c.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l._a.get(g);_&&l._a.set(g,_.withResumeToken(p.resumeToken,f))}}),c.targetMismatches.forEach((p,g)=>{const _=l._a.get(p);if(!_)return;l._a.set(p,_.withResumeToken(mn.EMPTY_BYTE_STRING,_.snapshotVersion)),xw(l,p);const d=new vi(_.target,p,g,_.sequenceNumber);lg(l,d)}),l.remoteSyncer.applyRemoteEvent(c)}(n,r)}catch(i){Ee(bs,"Failed to raise snapshot:",i),await xf(n,i)}}async function xf(n,e,r){if(!jo(e))throw e;n.aa.add(1),await bu(n),n.la.set("Offline"),r||(r=()=>Aw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ee(bs,"Retrying IndexedDB access"),await r(),n.aa.delete(1),await Xf(n)})}function Dw(n,e){return e().catch(r=>xf(n,r,e))}async function Zf(n){const e=qe(n),r=Mi(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Yp;for(;T3(e);)try{const o=await i3(e.localStore,i);if(o===null){e.oa.length===0&&r.v_();break}i=o.batchId,S3(e,o)}catch(o){await xf(e,o)}Ow(e)&&Iw(e)}function T3(n){return Ss(n)&&n.oa.length<10}function S3(n,e){n.oa.push(e);const r=Mi(n);r.b_()&&r.W_&&r.G_(e.mutations)}function Ow(n){return Ss(n)&&!Mi(n).w_()&&n.oa.length>0}function Iw(n){Mi(n).start()}async function R3(n){Mi(n).H_()}async function x3(n){const e=Mi(n);for(const r of n.oa)e.G_(r.mutations)}async function C3(n,e,r){const i=n.oa.shift(),o=eg.from(i,e,r);await Dw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Zf(n)}async function D3(n,e){e&&Mi(n).W_&&await async function(i,o){if(function(f){return fO(f)&&f!==de.ABORTED}(o.code)){const l=i.oa.shift();Mi(i).D_(),await Dw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Zf(i)}}(n,e),Ow(n)&&Iw(n)}async function Fb(n,e){const r=qe(n);r.asyncQueue.verifyOperationInProgress(),Ee(bs,"RemoteStore received new credentials");const i=Ss(r);r.aa.add(3),await bu(r),i&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await Xf(r)}async function O3(n,e){const r=qe(n);e?(r.aa.delete(2),await Xf(r)):e||(r.aa.add(2),await bu(r),r.la.set("Unknown"))}function Lo(n){return n.Pa||(n.Pa=function(r,i,o){const l=qe(r);return l.Y_(),new m3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{jo:b3.bind(null,n),Jo:E3.bind(null,n),Zo:w3.bind(null,n),Q_:A3.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),cg(n)?ug(n):n.la.set("Unknown")):(await n.Pa.stop(),Cw(n))})),n.Pa}function Mi(n){return n.Ta||(n.Ta=function(r,i,o){const l=qe(r);return l.Y_(),new p3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:R3.bind(null,n),Zo:D3.bind(null,n),z_:x3.bind(null,n),j_:C3.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Zf(n)):(await n.Ta.stop(),n.oa.length>0&&(Ee(bs,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,r,i,o,l){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,i,o,l){const f=Date.now()+i,c=new fg(e,r,f,o,l);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(n,e){if(Pa("AsyncQueue",`${e}: ${n}`),jo(n))return new Ne(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(r,i)=>e(r,i)||Pe.comparator(r.key,i.key):(r,i)=>Pe.comparator(r.key,i.key),this.keyedMap=Yl(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,i)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const i=new To;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=r,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.Ia=new Nt(Pe.comparator)}track(e){const r=e.doc.key,i=this.Ia.get(r);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(r,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(r):e.type===1&&i.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):ze(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,i)=>{e.push(i)}),e}}class Io{constructor(e,r,i,o,l,f,c,p,g){this.query=e,this.docs=r,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=c,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,r,i,o,l){const f=[];return r.forEach(c=>{f.push({type:0,doc:c})}),new Io(e,r,To.emptySet(r),f,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,i=e.docChanges;if(r.length!==i.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==i[o].type||!r[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class N3{constructor(){this.queries=Hb(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,i){const o=qe(r),l=o.queries;o.queries=Hb(),l.forEach((f,c)=>{for(const p of c.Ra)p.onError(i)})})(this,new Ne(de.ABORTED,"Firestore shutting down"))}}function Hb(){return new Ts(n=>WE(n),qf)}async function M3(n,e){const r=qe(n);let i=3;const o=e.query;let l=r.queries.get(o);l?!l.Va()&&e.ma()&&(i=2):(l=new I3,i=e.ma()?0:1);try{switch(i){case 0:l.Aa=await r.onListen(o,!0);break;case 1:l.Aa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(f){const c=hg(f,`Initialization of query '${po(e.query)}' failed`);return void e.onError(c)}r.queries.set(o,l),l.Ra.push(e),e.ga(r.onlineState),l.Aa&&e.pa(l.Aa)&&dg(r)}async function P3(n,e){const r=qe(n),i=e.query;let o=3;const l=r.queries.get(i);if(l){const f=l.Ra.indexOf(e);f>=0&&(l.Ra.splice(f,1),l.Ra.length===0?o=e.ma()?0:1:!l.Va()&&e.ma()&&(o=2))}switch(o){case 0:return r.queries.delete(i),r.onUnlisten(i,!0);case 1:return r.queries.delete(i),r.onUnlisten(i,!1);case 2:return r.onLastRemoteStoreUnlisten(i);default:return}}function k3(n,e){const r=qe(n);let i=!1;for(const o of e){const l=o.query,f=r.queries.get(l);if(f){for(const c of f.Ra)c.pa(o)&&(i=!0);f.Aa=o}}i&&dg(r)}function V3(n,e,r){const i=qe(n),o=i.queries.get(e);if(o)for(const l of o.Ra)l.onError(r);i.queries.delete(e)}function dg(n){n.fa.forEach(e=>{e.next()})}var gp,Gb;(Gb=gp||(gp={})).ya="default",Gb.Cache="cache";class j3{constructor(e,r,i){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Io(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const i=r!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.key=e}}class Mw{constructor(e){this.key=e}}class L3{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=nt(),this.mutatedKeys=nt(),this.Ua=JE(e),this.Ka=new To(this.Ua)}get Wa(){return this.qa}Ga(e,r){const i=r?r.za:new qb,o=r?r.Ka:this.Ka;let l=r?r.mutatedKeys:this.mutatedKeys,f=o,c=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,d)=>{const y=o.get(_),E=Hf(this.query,d)?d:null,v=!!y&&this.mutatedKeys.has(y.key),b=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let R=!1;y&&E?y.data.isEqual(E.data)?v!==b&&(i.track({type:3,doc:E}),R=!0):this.ja(y,E)||(i.track({type:2,doc:E}),R=!0,(p&&this.Ua(E,p)>0||g&&this.Ua(E,g)<0)&&(c=!0)):!y&&E?(i.track({type:0,doc:E}),R=!0):y&&!E&&(i.track({type:1,doc:y}),R=!0,(p||g)&&(c=!0)),R&&(E?(f=f.add(E),l=b?l.add(_):l.delete(_)):(f=f.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{Ka:f,za:i,ys:c,mutatedKeys:l}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,i,o){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((_,d)=>function(E,v){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:R})}};return b(E)-b(v)}(_.type,d.type)||this.Ua(_.doc,d.doc)),this.Ha(i),o=o!=null&&o;const c=r&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new Io(this.query,e.Ka,l,f,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new qb,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=nt(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const r=[];return e.forEach(i=>{this.$a.has(i)||r.push(new Mw(i))}),this.$a.forEach(i=>{e.has(i)||r.push(new Nw(i))}),r}Xa(e){this.qa=e.Ns,this.$a=nt();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return Io.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const mg="SyncEngine";class U3{constructor(e,r,i){this.query=e,this.targetId=r,this.view=i}}class z3{constructor(e){this.key=e,this.tu=!1}}class $3{constructor(e,r,i,o,l,f){this.localStore=e,this.remoteStore=r,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Ts(c=>WE(c),qf),this.iu=new Map,this.su=new Set,this.ou=new Nt(Pe.comparator),this._u=new Map,this.au=new rg,this.uu={},this.cu=new Map,this.lu=Oo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function B3(n,e,r=!0){const i=Uw(n);let o;const l=i.ru.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.eu()):o=await Pw(i,e,r,!0),o}async function F3(n,e){const r=Uw(n);await Pw(r,e,!0,!1)}async function Pw(n,e,r,i){const o=await s3(n.localStore,Jr(e)),l=o.targetId,f=n.sharedClientState.addLocalQueryTarget(l,r);let c;return i&&(c=await q3(n,e,l,f==="current",o.resumeToken)),n.isPrimaryClient&&r&&Rw(n.remoteStore,o),c}async function q3(n,e,r,i,o){n.Pu=(d,y,E)=>async function(b,R,w,S){let x=R.view.Ga(w);x.ys&&(x=await Lb(b.localStore,R.query,!1).then(({documents:I})=>R.view.Ga(I,x)));const M=S&&S.targetChanges.get(R.targetId),k=S&&S.targetMismatches.get(R.targetId)!=null,V=R.view.applyChanges(x,b.isPrimaryClient,M,k);return Qb(b,R.targetId,V.Ya),V.snapshot}(n,d,y,E);const l=await Lb(n.localStore,e,!0),f=new L3(e,l.Ns),c=f.Ga(l.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(r,i&&n.onlineState!=="Offline",o),g=f.applyChanges(c,n.isPrimaryClient,p);Qb(n,r,g.Ya);const _=new U3(e,r,f);return n.ru.set(e,_),n.iu.has(r)?n.iu.get(r).push(e):n.iu.set(r,[e]),g.snapshot}async function H3(n,e,r){const i=qe(n),o=i.ru.get(e),l=i.iu.get(o.targetId);if(l.length>1)return i.iu.set(o.targetId,l.filter(f=>!qf(f,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await mp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),r&&og(i.remoteStore,o.targetId),yp(i,o.targetId)}).catch(Vo)):(yp(i,o.targetId),await mp(i.localStore,o.targetId,!0))}async function G3(n,e){const r=qe(n),i=r.ru.get(e),o=r.iu.get(i.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),og(r.remoteStore,i.targetId))}async function Y3(n,e,r){const i=eI(n);try{const o=await function(f,c){const p=qe(f),g=Zt.now(),_=c.reduce((E,v)=>E.add(v.key),nt());let d,y;return p.persistence.runTransaction("Locally write mutations","readwrite",E=>{let v=ka(),b=nt();return p.Cs.getEntries(E,_).next(R=>{v=R,v.forEach((w,S)=>{S.isValidDocument()||(b=b.add(w))})}).next(()=>p.localDocuments.getOverlayedDocuments(E,v)).next(R=>{d=R;const w=[];for(const S of c){const x=sO(S,d.get(S.key).overlayedDocument);x!=null&&w.push(new Vi(S.key,x,qE(x.value.mapValue),xr.exists(!0)))}return p.mutationQueue.addMutationBatch(E,g,w,c)}).next(R=>{y=R;const w=R.applyToLocalDocumentSet(d,b);return p.documentOverlayCache.saveOverlays(E,R.batchId,w)})}).then(()=>({batchId:y.batchId,changes:tw(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(f,c,p){let g=f.uu[f.currentUser.toKey()];g||(g=new Nt(Qe)),g=g.insert(c,p),f.uu[f.currentUser.toKey()]=g}(i,o.batchId,r),await Eu(i,o.changes),await Zf(i.remoteStore)}catch(o){const l=hg(o,"Failed to persist write");r.reject(l)}}async function kw(n,e){const r=qe(n);try{const i=await r3(r.localStore,e);e.targetChanges.forEach((o,l)=>{const f=r._u.get(l);f&&(pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?pt(f.tu,14607):o.removedDocuments.size>0&&(pt(f.tu,42227),f.tu=!1))}),await Eu(r,i,e)}catch(i){await Vo(i)}}function Yb(n,e,r){const i=qe(n);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){const o=[];i.ru.forEach((l,f)=>{const c=f.view.ga(e);c.snapshot&&o.push(c.snapshot)}),function(f,c){const p=qe(f);p.onlineState=c;let g=!1;p.queries.forEach((_,d)=>{for(const y of d.Ra)y.ga(c)&&(g=!0)}),g&&dg(p)}(i.eventManager,e),o.length&&i.nu.Q_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Q3(n,e,r){const i=qe(n);i.sharedClientState.updateQueryState(e,"rejected",r);const o=i._u.get(e),l=o&&o.key;if(l){let f=new Nt(Pe.comparator);f=f.insert(l,wn.newNoDocument(l,Fe.min()));const c=nt().add(l),p=new Qf(Fe.min(),new Map,new Nt(Qe),f,c);await kw(i,p),i.ou=i.ou.remove(l),i._u.delete(e),pg(i)}else await mp(i.localStore,e,!1).then(()=>yp(i,e,r)).catch(Vo)}async function K3(n,e){const r=qe(n),i=e.batch.batchId;try{const o=await n3(r.localStore,e);jw(r,i,null),Vw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),await Eu(r,o)}catch(o){await Vo(o)}}async function X3(n,e,r){const i=qe(n);try{const o=await function(f,c){const p=qe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,c).next(d=>(pt(d!==null,37113),_=d.keys(),p.mutationQueue.removeMutationBatch(g,d))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(i.localStore,e);jw(i,e,r),Vw(i,e),i.sharedClientState.updateMutationState(e,"rejected",r),await Eu(i,o)}catch(o){await Vo(o)}}function Vw(n,e){(n.cu.get(e)||[]).forEach(r=>{r.resolve()}),n.cu.delete(e)}function jw(n,e,r){const i=qe(n);let o=i.uu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(r?l.reject(r):l.resolve(),o=o.remove(e)),i.uu[i.currentUser.toKey()]=o}}function yp(n,e,r=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),r&&n.nu.Tu(i,r);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||Lw(n,i)})}function Lw(n,e){n.su.delete(e.path.canonicalString());const r=n.ou.get(e);r!==null&&(og(n.remoteStore,r),n.ou=n.ou.remove(e),n._u.delete(r),pg(n))}function Qb(n,e,r){for(const i of r)i instanceof Nw?(n.au.addReference(i.key,e),Z3(n,i)):i instanceof Mw?(Ee(mg,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||Lw(n,i.key)):ze(19791,{Iu:i})}function Z3(n,e){const r=e.key,i=r.path.canonicalString();n.ou.get(r)||n.su.has(i)||(Ee(mg,"New document in limbo: "+r),n.su.add(i),pg(n))}function pg(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const r=new Pe(Ot.fromString(e)),i=n.lu.next();n._u.set(i,new z3(r)),n.ou=n.ou.insert(r,i),Rw(n.remoteStore,new vi(Jr(ZE(r.path)),i,"TargetPurposeLimboResolution",zf.le))}}async function Eu(n,e,r){const i=qe(n),o=[],l=[],f=[];i.ru.isEmpty()||(i.ru.forEach((c,p)=>{f.push(i.Pu(p,e,r).then(g=>{var _;if((g||r)&&i.isPrimaryClient){const d=g?!g.fromCache:(_=r==null?void 0:r.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,d?"current":"not-current")}if(g){o.push(g);const d=ig.Ps(p.targetId,g);l.push(d)}}))}),await Promise.all(f),i.nu.Q_(o),await async function(p,g){const _=qe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>fe.forEach(g,y=>fe.forEach(y.ls,E=>_.persistence.referenceDelegate.addReference(d,y.targetId,E)).next(()=>fe.forEach(y.hs,E=>_.persistence.referenceDelegate.removeReference(d,y.targetId,E)))))}catch(d){if(!jo(d))throw d;Ee(sg,"Failed to update sequence numbers: "+d)}for(const d of g){const y=d.targetId;if(!d.fromCache){const E=_.Ss.get(y),v=E.snapshotVersion,b=E.withLastLimboFreeSnapshotVersion(v);_.Ss=_.Ss.insert(y,b)}}}(i.localStore,l))}async function W3(n,e){const r=qe(n);if(!r.currentUser.isEqual(e)){Ee(mg,"User change. New user:",e.toKey());const i=await ww(r.localStore,e);r.currentUser=e,function(l,f){l.cu.forEach(c=>{c.forEach(p=>{p.reject(new Ne(de.CANCELLED,f))})}),l.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Eu(r,i.Ms)}}function J3(n,e){const r=qe(n),i=r._u.get(e);if(i&&i.tu)return nt().add(i.key);{let o=nt();const l=r.iu.get(e);if(!l)return o;for(const f of l){const c=r.ru.get(f);o=o.unionWith(c.view.Wa)}return o}}function Uw(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q3.bind(null,e),e.nu.Q_=k3.bind(null,e.eventManager),e.nu.Tu=V3.bind(null,e.eventManager),e}function eI(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X3.bind(null,e),e}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return t3(this.persistence,new WO,e.initialUser,this.serializer)}Ru(e){return new Ew(ag.Ei,this.serializer)}Au(e){return new l3}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class tI extends Cf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){pt(this.persistence.referenceDelegate instanceof Rf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new jO(i,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new Ew(i=>Rf.Ei(i,r),this.serializer)}}class vp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Yb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=W3.bind(null,this.syncEngine),await O3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N3}()}createDatastore(e){const r=Kf(e.databaseInfo.databaseId),i=function(l){return new d3(l)}(e.databaseInfo);return function(l,f,c,p){return new y3(l,f,c,p)}(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return function(i,o,l,f,c){return new _3(i,o,l,f,c)}(this.localStore,this.datastore,e.asyncQueue,r=>Yb(this.syncEngine,r,0),function(){return $b.C()?new $b:new u3}())}createSyncEngine(e,r){return function(o,l,f,c,p,g,_){const d=new $3(o,l,f,c,p,g);return _&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(o){const l=qe(o);Ee(bs,"RemoteStore shutting down."),l.aa.add(5),await bu(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Pa("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="FirestoreClient";class rI{constructor(e,r,i,o,l){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=PE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async f=>{Ee(Pi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(i,f=>(Ee(Pi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=hg(r,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Cm(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(Pi,"Initializing OfflineComponentProvider");const r=n.configuration;await e.initialize(r);let i=r.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await ww(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Kb(n,e){n.asyncQueue.verifyOperationInProgress();const r=await aI(n);Ee(Pi,"Initializing OnlineComponentProvider"),await e.initialize(r,n.configuration),n.setCredentialChangeListener(i=>Fb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Fb(e.remoteStore,o)),n._onlineComponents=e}async function aI(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(Pi,"Using user provided OfflineComponentProvider");try{await Cm(n,n._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===de.FAILED_PRECONDITION||o.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;Ro("Error using user provided cache. Falling back to memory cache: "+r),await Cm(n,new Cf)}}else Ee(Pi,"Using default OfflineComponentProvider"),await Cm(n,new tI(void 0));return n._offlineComponents}async function zw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(Pi,"Using user provided OnlineComponentProvider"),await Kb(n,n._uninitializedComponentsProvider._online)):(Ee(Pi,"Using default OnlineComponentProvider"),await Kb(n,new vp))),n._onlineComponents}function iI(n){return zw(n).then(e=>e.syncEngine)}async function sI(n){const e=await zw(n),r=e.eventManager;return r.onListen=B3.bind(null,e.syncEngine),r.onUnlisten=H3.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=F3.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=G3.bind(null,e.syncEngine),r}function oI(n,e,r={}){const i=new wi;return n.asyncQueue.enqueueAndForget(async()=>function(l,f,c,p,g){const _=new nI({next:y=>{_.yu(),f.enqueueAndForget(()=>P3(l,d)),y.fromCache&&p.source==="server"?g.reject(new Ne(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(y)},error:y=>g.reject(y)}),d=new j3(c,_,{includeMetadataChanges:!0,Fa:!0});return M3(l,d)}(await sI(n),n.asyncQueue,e,r,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(n,e,r){if(!r)throw new Ne(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lI(n,e,r,i){if(e===!0&&i===!0)throw new Ne(de.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function Zb(n){if(!Pe.isDocumentKey(n))throw new Ne(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Wb(n){if(Pe.isDocumentKey(n))throw new Ne(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ze(12329,{type:typeof n})}function Es(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=gg(n);throw new Ne(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="firestore.googleapis.com",Jb=!0;class e1{constructor(e){var r,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fw,this.ssl=Jb}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:Jb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kO)throw new Ne(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$w((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ne(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ne(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ne(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wf{constructor(e,r,i,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new fD;switch(i.type){case"firstParty":return new pD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=Xb.get(r);i&&(Ee("ComponentProvider","Removing Datastore"),Xb.delete(r),i.terminate())}(this),Promise.resolve()}}function uI(n,e,r,i={}){var o;n=Es(n,Wf);const l=vE(e),f=n._getSettings(),c=Object.assign(Object.assign({},f),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${r}`;l&&WC(`https://${p}`),f.host!==Fw&&f.host!==p&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:l,emulatorOptions:i});if(!pf(g,c)&&(n._setSettings(g),i.mockUserToken)){let _,d;if(typeof i.mockUserToken=="string")_=i.mockUserToken,d=En.MOCK_USER;else{_=FC(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Ne(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new En(y)}n._authCredentials=new hD(new NE(_,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Jf(this.firestore,e,this._query)}}class vr{constructor(e,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}}class Ai extends Jf{constructor(e,r,i){super(e,r,ZE(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new Pe(e))}withConverter(e){return new Ai(this.firestore,e,this._path)}}function qw(n,e,...r){if(n=Ci(n),Bw("collection","path",e),n instanceof Wf){const i=Ot.fromString(e,...r);return Wb(i),new Ai(n,null,i)}{if(!(n instanceof vr||n instanceof Ai))throw new Ne(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ot.fromString(e,...r));return Wb(i),new Ai(n.firestore,null,i)}}function yg(n,e,...r){if(n=Ci(n),arguments.length===1&&(e=PE.newId()),Bw("doc","path",e),n instanceof Wf){const i=Ot.fromString(e,...r);return Zb(i),new vr(n,null,new Pe(i))}{if(!(n instanceof vr||n instanceof Ai))throw new Ne(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ot.fromString(e,...r));return Zb(i),new vr(n.firestore,n instanceof Ai?n.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="AsyncQueue";class n1{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Tw(this,"async_queue_retry"),this.ju=()=>{const i=xm();i&&Ee(t1,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const r=xm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=xm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new wi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!jo(e))throw e;Ee(t1,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Pa("INTERNAL UNHANDLED ERROR: ",r1(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=r,r}enqueueAfterDelay(e,r,i){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const o=fg.createAndSchedule(this,e,r,i,l=>this.Xu(l));return this.Uu.push(o),o}Ju(){this.Ku&&ze(47125,{ec:r1(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,i)=>r.targetTimeMs-i.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function r1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class wu extends Wf{constructor(e,r,i,o){super(e,r,i,o),this.type="firestore",this._queue=new n1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n1(e),this._firestoreClient=void 0,await e}}}function cI(n,e){const r=typeof n=="object"?n:eD(),i=typeof n=="string"?n:_f,o=K4(r,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=$C("firestore");l&&uI(o,...l)}return o}function Hw(n){if(n._terminated)throw new Ne(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fI(n),n._firestoreClient}function fI(n){var e,r,i;const o=n._freezeSettings(),l=function(c,p,g,_){return new OD(c,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,$w(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new rI(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(c){const p=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(mn.fromBase64String(e))}catch(r){throw new Ne(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new No(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ne(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ne(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ne(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=/^__.*__$/;class dI{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,r,this.fieldTransforms):new vu(e,this.data,r,this.fieldTransforms)}}class Gw{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return new Vi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Yw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{oc:n})}}class Eg{constructor(e,r,i,o,l,f){this.settings=e,this.databaseId=r,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:i,cc:!1});return o.lc(e),o}hc(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:i,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Df(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Yw(this.oc)&&hI.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class mI{constructor(e,r,i){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=i||Kf(e)}dc(e,r,i,o=!1){return new Eg({oc:e,methodName:r,Ec:i,path:dn.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qw(n){const e=n._freezeSettings(),r=Kf(n._databaseId);return new mI(n._databaseId,!!e.ignoreUndefinedProperties,r)}function pI(n,e,r,i,o,l={}){const f=n.dc(l.merge||l.mergeFields?2:0,e,r,o);wg("Data must be an object, but it was:",f,i);const c=Kw(i,f);let p,g;if(l.merge)p=new Zn(f.fieldMask),g=f.fieldTransforms;else if(l.mergeFields){const _=[];for(const d of l.mergeFields){const y=_p(e,d,r);if(!f.contains(y))throw new Ne(de.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Zw(_,y)||_.push(y)}p=new Zn(_),g=f.fieldTransforms.filter(d=>p.covers(d.field))}else p=null,g=f.fieldTransforms;return new dI(new Vn(c),p,g)}class th extends vg{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}function gI(n,e,r,i){const o=n.dc(1,e,r);wg("Data must be an object, but it was:",o,i);const l=[],f=Vn.empty();ki(i,(p,g)=>{const _=Ag(e,p,r);g=Ci(g);const d=o.hc(_);if(g instanceof th)l.push(_);else{const y=nh(g,d);y!=null&&(l.push(_),f.set(_,y))}});const c=new Zn(l);return new Gw(f,c,o.fieldTransforms)}function yI(n,e,r,i,o,l){const f=n.dc(1,e,r),c=[_p(e,i,r)],p=[o];if(l.length%2!=0)throw new Ne(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<l.length;y+=2)c.push(_p(e,l[y])),p.push(l[y+1]);const g=[],_=Vn.empty();for(let y=c.length-1;y>=0;--y)if(!Zw(g,c[y])){const E=c[y];let v=p[y];v=Ci(v);const b=f.hc(E);if(v instanceof th)g.push(E);else{const R=nh(v,b);R!=null&&(g.push(E),_.set(E,R))}}const d=new Zn(g);return new Gw(_,d,f.fieldTransforms)}function nh(n,e){if(Xw(n=Ci(n)))return wg("Unsupported field value:",e,n),Kw(n,e);if(n instanceof vg)return function(i,o){if(!Yw(o.oc))throw o.Tc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,o){const l=[];let f=0;for(const c of i){let p=nh(c,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),f++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=Ci(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return eO(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Zt.fromDate(i);return{timestampValue:Sf(o.serializer,l)}}if(i instanceof Zt){const l=new Zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sf(o.serializer,l)}}if(i instanceof _g)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof No)return{bytesValue:dw(o.serializer,i._byteString)};if(i instanceof vr){const l=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(l))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ng(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof bg)return function(f,c){return{mapValue:{fields:{[BE]:{stringValue:FE},[bf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw c.Tc("VectorValues must only contain numeric values.");return Wp(c.serializer,g)})}}}}}}(i,o);throw o.Tc(`Unsupported field value: ${gg(i)}`)}(n,e)}function Kw(n,e){const r={};return VE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(n,(i,o)=>{const l=nh(o,e.uc(i));l!=null&&(r[i]=l)}),{mapValue:{fields:r}}}function Xw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof _g||n instanceof No||n instanceof vr||n instanceof vg||n instanceof bg)}function wg(n,e,r){if(!Xw(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const i=gg(r);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function _p(n,e,r){if((e=Ci(e))instanceof eh)return e._internalPath;if(typeof e=="string")return Ag(n,e);throw Df("Field path arguments must be of type string or ",n,!1,void 0,r)}const vI=new RegExp("[~\\*/\\[\\]]");function Ag(n,e,r){if(e.search(vI)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new eh(...e.split("."))._internalPath}catch{throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function Df(n,e,r,i,o){const l=i&&!i.isEmpty(),f=o!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let p="";return(l||f)&&(p+=" (found",l&&(p+=` in field ${i}`),f&&(p+=` in document ${o}`),p+=")"),new Ne(de.INVALID_ARGUMENT,c+n+p)}function Zw(n,e){return n.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,r,i,o,l){this._firestore=e,this._userDataWriter=r,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Jw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class _I extends Ww{data(){return super.data()}}function Jw(n,e){return typeof e=="string"?Ag(n,e):e instanceof eh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EI{convertValue(e,r="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const i={};return ki(e,(o,l)=>{i[o]=this.convertValue(l,r)}),i}convertVectorValue(e){var r,i,o;const l=(o=(i=(r=e.fields)===null||r===void 0?void 0:r[bf].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(f=>jt(f.doubleValue));return new bg(l)}convertGeoPoint(e){return new _g(jt(e.latitude),jt(e.longitude))}convertArray(e,r){return(e.values||[]).map(i=>this.convertValue(i,r))}convertServerTimestamp(e,r){switch(r){case"previous":const i=Bf(e);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const r=Oi(e);return new Zt(r.seconds,r.nanos)}convertDocumentKey(e,r){const i=Ot.fromString(e);pt(_w(i),9688,{name:e});const o=new uu(i.get(1),i.get(3)),l=new Pe(i.popFirst(5));return o.isEqual(r)||Pa(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(n,e,r){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AI extends Ww{constructor(e,r,i,o,l,f){super(e,r,i,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const i=this._document.data.field(Jw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}}class af extends AI{data(e={}){return super.data(e)}}class TI{constructor(e,r,i,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new Yc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(i=>{e.call(r,new af(this._firestore,this._userDataWriter,i.key,i,new Yc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ne(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(c=>{const p=new af(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Yc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>l||c.type!==3).map(c=>{const p=new af(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Yc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return c.type!==0&&(g=f.indexOf(c.doc.key),f=f.delete(c.doc.key)),c.type!==1&&(f=f.add(c.doc),_=f.indexOf(c.doc.key)),{type:SI(c.type),doc:p,oldIndex:g,newIndex:_}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function SI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:n})}}class RI extends EI{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,r)}}function xI(n){n=Es(n,Jf);const e=Es(n.firestore,wu),r=Hw(e),i=new RI(e);return bI(n._query),oI(r,n._query).then(o=>new TI(e,i,n,o))}function CI(n,e,r,...i){n=Es(n,vr);const o=Es(n.firestore,wu),l=Qw(o);let f;return f=typeof(e=Ci(e))=="string"||e instanceof eh?yI(l,"updateDoc",n._key,e,r,i):gI(l,"updateDoc",n._key,e),Tg(o,[f.toMutation(n._key,xr.exists(!0))])}function DI(n){return Tg(Es(n.firestore,wu),[new Jp(n._key,xr.none())])}function OI(n,e){const r=Es(n.firestore,wu),i=yg(n),o=wI(n.converter,e);return Tg(r,[pI(Qw(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,xr.exists(!1))]).then(()=>i)}function Tg(n,e){return function(i,o){const l=new wi;return i.asyncQueue.enqueueAndForget(async()=>Y3(await iI(i),o,l)),l.promise}(Hw(n),e)}(function(e,r=!0){(function(o){ko=o})(J4),yf(new iu("firestore",(i,{instanceIdentifier:o,options:l})=>{const f=i.getProvider("app").getImmediate(),c=new wu(new dD(i.getProvider("auth-internal")),new gD(f,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ne(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(g.options.projectId,_)}(f,o),f);return l=Object.assign({useFetchStreams:r},l),c._setSettings(l),c},"PUBLIC").setMultipleInstances(!0)),Ao(lb,ub,e),Ao(lb,ub,"esm2017")})();var II="firebase",NI="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao(II,NI,"app");const MI={apiKey:"AIzaSyC8iWxYjCDmmCpY0nYJ1QNnYKwZxKrh4ek",authDomain:"leksak-98dc6.firebaseapp.com",projectId:"leksak-98dc6",storageBucket:"leksak-98dc6.firebasestorage.app",messagingSenderId:"225721298087",appId:"1:225721298087:web:902bf6caf56811ba4d7f82",measurementId:"G-HKWE14ED7Y"},PI=wE(MI),rh=cI(PI),kI=async()=>(await xI(qw(rh,"menu"))).docs.map(r=>({firestoreId:r.id,...r.data()})),VI=async n=>{try{const e=await OI(qw(rh,"menu"),n);return console.log("Document written with ID:",e.id),e.id}catch(e){console.error("Error adding document:",e)}},jI=async n=>{try{if(typeof n!="string")throw new Error(`Invalid productId: expected string but got ${typeof n}`);const e=yg(rh,"menu",n);await DI(e),console.log("Deleted successfully")}catch(e){console.error("Error deleting from Firestore:",e)}},LI=async(n,e)=>{try{const r=yg(rh,"menu",n);await CI(r,e),console.log("✅ Updated item in Firestore:",e)}catch(r){console.error("❌ Error updating Firestore document:",r)}};function UI({productItem:n,active:e}){const[r,i]=te.useState({name:!1,description:!1,price:!1,img:!1}),{addToCart:o,removeFromCart:l,cart:f}=Oa(),{toggleItemActive:c}=Oa(),[p,g]=te.useState({storeName:n.name,storeDescription:n.description,storePrice:n.price,storeImg:n.img}),[_,d]=te.useState({css:{},message:{},isFormValid:!1});te.useEffect(()=>{const S=OC(p,r);d(S)},[p,r]);const{updateProductItem:y}=Oa();te.useEffect(()=>{g({storeName:n.name,storeDescription:n.description,storePrice:n.price,storeImg:n.img})},[n]),te.useEffect(()=>{},[p]);const E=()=>{y(n.id,{name:p.storeName,description:p.storeDescription,price:p.storePrice,img:p.storeImg}),LI(n.firestoreId,{name:p.storeName,description:p.storeDescription,price:p.storePrice,img:p.storeImg}),c(n.id)},{removeProductItem:v}=Oa();te.useEffect(()=>{console.log("Loaded product item:",n)},[n]);const b=async()=>{try{console.log("Trying to delete item with ID:",n.id,"Type:",typeof n.id),await jI(n.firestoreId),v(n.firestoreId),v(n.id)}catch(S){console.error("Failed to delete the item:",S)}},R=S=>{const x=S.target.value;g(M=>({...M,storeImg:x})),i(M=>({...M,img:!0}))},w=f.find(S=>{if(S!==void 0)return S.id===n.id});return G.jsxs("div",{className:"menu-item",children:[G.jsxs("div",{children:[e?G.jsxs(G.Fragment,{children:[G.jsx("input",{type:"text",value:p.storeName,onChange:S=>g({...p,storeName:S.target.value}),className:"name-input",onBlur:()=>i({...r,name:!0})}),G.jsx("p",{className:"name-message",children:_.message.name})]}):G.jsx("h2",{children:n.name}),e?G.jsxs(G.Fragment,{children:[G.jsx("input",{type:"text",value:p.storeDescription,onChange:S=>g({...p,storeDescription:S.target.value}),className:"description-input",onBlur:()=>i({...r,description:!0})}),G.jsx("p",{className:"description-message",children:_.message.description})]}):G.jsx("p",{children:n.description})]}),G.jsxs("div",{className:e?"menu-flex edit-flex":"menu-flex",children:[G.jsxs("div",{children:[e?G.jsxs(G.Fragment,{children:[G.jsx("input",{type:"url",placeholder:"https://example.com",pattern:"https?://.*",className:"url-input",onChange:R,onBlur:()=>i({...r,img:!0})}),G.jsx("p",{className:"img-message",children:_.message.img})]}):G.jsx("img",{src:n.img,alt:"info icon"}),e?G.jsxs(G.Fragment,{children:[G.jsx("input",{type:"number",value:p.storePrice,onChange:S=>g({...p,storePrice:S.target.value}),className:"price-input",onBlur:()=>i({...r,price:!0})}),G.jsx("p",{className:"price-message",children:_.message.price})]}):G.jsxs("p",{children:[n.price," Kr:-"]}),!e&&G.jsxs("div",{className:"cart-buttons",children:[G.jsx("button",{onClick:()=>l(n),children:G.jsx("img",{src:hE,alt:"minus icon"})}),G.jsx("p",{children:(w==null?void 0:w.quantity)??0}),G.jsx("button",{onClick:()=>o(n),children:G.jsx("img",{src:dE,alt:"plus icon"})})]})]}),G.jsxs("div",{className:"button-container",children:[e?G.jsxs("button",{className:"save-button",onClick:E,children:[G.jsx("img",{src:SC,alt:"checkbox icon"}),G.jsx("span",{className:"hover-text",children:"save"})]}):G.jsxs("button",{className:"pencil",onClick:()=>c(n.id),children:[G.jsx(yi,{icon:uC}),G.jsx("span",{className:"hover-text",children:"edit"})]}),G.jsxs("button",{className:"delete-button",onClick:b,children:[G.jsx("img",{src:RC,alt:"trash icon"}),G.jsx("span",{className:"hover-text",children:"Remove"})]})]})]})]})}const zI=Xn.object({name:Xn.string().pattern(/^[A-Za-zÅÄÖåäö ,]+$/).required().messages({"string.empty":"The name field is mandatory.","string.pattern.base":"The name may only contain letters, spaces and commas"}),description:Xn.string().pattern(/^[A-Za-zÅÄÖåäö ,]+$/).max(110).required().messages({"string.empty":"The description field is mandatory.","string.pattern.base":"The description may only contain letters, spaces and commas."}),price:Xn.number().positive().required().messages({"number.base":"The price must be a number.","number.positive":"The price must be a positive number.","any.required":"The price field is mandatory."}),img:Xn.string().uri().required().messages({"string.uri":"Please enter a valid URL.","string.empty":"The URL field is required.","any.required":"The URL field is required."})}),$I=({onAddItem:n})=>{const[e,r]=te.useState({name:"",description:"",price:"",img:""}),[i,o]=te.useState({}),[l,f]=te.useState(""),[c,p]=te.useState(!1),{switchAddProductVisible:g}=Oa(),_=v=>{const{name:b,value:R}=v.target;if(b==="name"||b==="description"){const w=R.replace(/[^A-Za-zÅÄÖåäö ,]/g,"");r(S=>({...S,[b]:w}))}else if(b==="price"){const w=R.replace(/[^0-9]/g,"");r(S=>({...S,[b]:w}))}else r(w=>({...w,[b]:R}))},d=async()=>{const v={...e,price:e.price===""?"":Number(e.price)};if(Object.values(e).every(x=>x.trim()==="")){f("All fields are mandatory."),o({});return}const{error:R}=zI.validate(v,{abortEarly:!1});if(R){const x={};R.details.forEach(M=>{const k=M.path[0];x[k]||(x[k]=M.message)}),o(x),f("");return}f(""),o({});const w={...v,active:!1},S=await VI(w);w.id=S,n(w),r({name:"",description:"",price:"",img:""}),p(!0)},y=()=>{p(!1),r({name:"",description:"",price:"",img:""}),f(""),o({})},E=()=>{g(!1)};return G.jsxs("div",{className:"admin-menu-container",children:[G.jsx("button",{className:"close-button",onClick:E,children:"✖"}),c?G.jsxs("div",{className:"success-message",children:[G.jsx("h2",{children:"The product has been added!"}),G.jsx("button",{className:"add-button",onClick:y,children:"Add a new product"})]}):G.jsxs(G.Fragment,{children:[G.jsx("h2",{children:"Product management"}),G.jsxs("div",{className:"admin-menu-form",children:[G.jsxs("div",{className:"input-group",children:[G.jsx("input",{type:"text",name:"name",placeholder:"Product name",value:e.name,onChange:_}),i.name&&G.jsx("span",{className:"field-error",children:i.name})]}),G.jsxs("div",{className:"input-group",children:[G.jsx("input",{type:"text",name:"description",placeholder:"Description",value:e.description,onChange:_}),i.description&&G.jsx("span",{className:"field-error",children:i.description})]}),G.jsxs("div",{className:"input-group",children:[G.jsx("input",{type:"number",name:"price",placeholder:"Price (SEK)",value:e.price,onChange:_}),i.price&&G.jsx("span",{className:"field-error",children:i.price})]}),G.jsxs("div",{className:"input-group",children:[G.jsx("input",{type:"text",name:"img",placeholder:"URL",value:e.img,onChange:_}),i.img&&G.jsx("span",{className:"field-error",children:i.img})]}),G.jsxs("div",{className:"admin-menu-form-buttons",children:[G.jsx("button",{className:"cancel-button",onClick:()=>r({name:"",description:"",price:"",img:""}),children:"Clear"}),G.jsx("button",{className:"add-button",onClick:d,children:"Add"})]})]}),l&&G.jsx("div",{className:"general-error",children:l})]})]})};function BI(){const{productDataList:n,toggleItemActive:e,setProductData:r,addProductVisible:i,switchAddProductVisible:o,isLoggedIn:l,setLoginStatus:f}=Oa(),[c,p]=te.useState(!1),[g,_]=te.useState(""),[d,y]=te.useState(""),E=Oa(x=>x.addProductItem),v=x=>{E(x)};te.useEffect(()=>{(async()=>{try{const M=await kI();r(M),console.log("retrieve menu data:",M)}catch(M){console.log("Failed to retrieve menu data::",M)}})()},[r]),te.useEffect(()=>{const x=localStorage.getItem("isLoggedIn");f(x==="true")},[f]);const b=()=>{p(x=>!x)},R=()=>{f(!1)},w=x=>typeof x=="number"?x:typeof x=="string"?parseFloat(x.replace(/[^\d.]/g,"")):0,S=()=>{let x=n.filter(M=>M.name.toLowerCase().includes(g.toLowerCase()));return d==="name-asc"?x.sort((M,k)=>M.name.localeCompare(k.name)):d==="name-desc"?x.sort((M,k)=>k.name.localeCompare(M.name)):d==="price-asc"?x.sort((M,k)=>w(M.price)-w(k.price)):d==="price-desc"&&x.sort((M,k)=>w(k.price)-w(M.price)),x};return l===null?null:G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:"search-toolbar",style:{display:"flex",gap:"1rem",alignItems:"center",padding:"1rem 2rem",justifyContent:"flex-end",width:"100%",flexWrap:"wrap"},children:[G.jsx("input",{type:"text",placeholder:"Search by name",value:g,onChange:x=>_(x.target.value),style:{minWidth:"180px",padding:"0.5rem",fontSize:"16px"}}),G.jsxs("select",{value:d,onChange:x=>y(x.target.value),style:{minWidth:"180px",padding:"0.5rem",fontSize:"16px"},children:[G.jsx("option",{value:"",children:"Sort by"}),G.jsx("option",{value:"name-asc",children:"Name A–Z"}),G.jsx("option",{value:"name-desc",children:"Name Z–A"}),G.jsx("option",{value:"price-asc",children:"Price Low–High"}),G.jsx("option",{value:"price-desc",children:"Price High–Low"})]})]}),l&&G.jsxs("div",{className:"add-edit-buttons",children:[G.jsx("button",{className:`edit-item-button ${c?"edit-mode":""}`,onClick:b,children:c?"Clear":"Edit"}),G.jsx("button",{onClick:()=>o(!0),className:"add-item-button",children:"Add"}),G.jsx("button",{className:"logout-button",onClick:R,children:"Log out"})]}),G.jsxs("div",{className:`menu ${c?"show-buttons":""}`,children:[i&&G.jsx($I,{onAddItem:v}),S().map(x=>G.jsx(UI,{productItem:x,active:x.active},x.id))]})]})}const FI="/shweta/assets/product%20page-Fc3NCx4l.jpg";function qI(){const{cart:n,removeFromCart:e,addToCart:r,totalPrice:i,productDataList:o}=Oa(),[l,f]=te.useState(!1);function c(p){return n.find(_=>_.id===p).quantity}return G.jsxs("div",{className:`cart-wrapper ${l?"open":""}`,onClick:()=>f(!l),children:[G.jsxs("button",{className:"toggle-button",onClick:p=>{p.stopPropagation(),f(!l)},children:[l?"Close":"See your order here!","   "]}),G.jsxs("div",{className:"cart",onClick:p=>p.stopPropagation(),children:["  ",G.jsxs("div",{className:"cart-header",children:[G.jsx("p",{className:"cart-heading",children:"Quantity"}),G.jsx("p",{className:"cart-heading",children:"Product"}),G.jsx("p",{className:"cart-heading",children:"Price"})]}),G.jsx("div",{className:"cart-body",children:n.length===0?G.jsx("div",{className:"empty-order",children:G.jsx("p",{children:"You haven't added anything yet!"})}):o.filter(p=>n.find(g=>g.id===p.id)).map(p=>G.jsxs("div",{className:"cart-row",children:[G.jsxs("div",{className:"cart-cell",children:[G.jsx("button",{onClick:g=>{g.stopPropagation(),e(p)},children:G.jsx("img",{className:"icon",src:hE,alt:"minus icon"})}),G.jsx("span",{className:"order-quantity",children:c(p.id)}),G.jsx("button",{onClick:g=>{g.stopPropagation(),r(p)},children:G.jsx("img",{className:"icon",src:dE,alt:"plus icon"})})]}),G.jsxs("div",{className:"cart-item",children:[G.jsx("img",{className:"order-img",src:p.img,alt:""})," ",G.jsxs("span",{className:"cart-info",children:[p.name,G.jsxs("p",{children:[p.price,":-"]})]})]}),G.jsx("div",{className:"cart-cell",children:G.jsxs("p",{children:[c(p.id)*p.price,":-"]})})]},p.id))}),G.jsxs("div",{className:"cart-footer",children:[G.jsx("p",{children:"Totalprice"}),G.jsxs("div",{className:"total-price",children:[i,":-"]})]})]})]})}function HI(){return G.jsxs("div",{className:"menu-page",children:[G.jsx("img",{className:"menu-hero-img",src:FI,alt:""}),G.jsx("div",{className:"menu-grid",children:G.jsx(BI,{})}),G.jsx(qI,{})]})}var eA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a1=Rr.createContext&&Rr.createContext(eA),GI=["attr","size","title"];function YI(n,e){if(n==null)return{};var r=QI(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function QI(n,e){if(n==null)return{};var r={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;r[i]=n[i]}return r}function Of(){return Of=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Of.apply(this,arguments)}function i1(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function If(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(r),!0).forEach(function(i){KI(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function KI(n,e,r){return e=XI(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function XI(n){var e=ZI(n,"string");return typeof e=="symbol"?e:e+""}function ZI(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tA(n){return n&&n.map((e,r)=>Rr.createElement(e.tag,If({key:r},e.attr),tA(e.child)))}function WI(n){return e=>Rr.createElement(JI,Of({attr:If({},n.attr)},e),tA(n.child))}function JI(n){var e=r=>{var{attr:i,size:o,title:l}=n,f=YI(n,GI),c=o||r.size||"1em",p;return r.className&&(p=r.className),n.className&&(p=(p?p+" ":"")+n.className),Rr.createElement("svg",Of({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,f,{className:p,style:If(If({color:n.color||r.color},r.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&Rr.createElement("title",null,l),n.children)};return a1!==void 0?Rr.createElement(a1.Consumer,null,r=>e(r)):e(eA)}function eN(n){return WI({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function tN(){const[n,e]=te.useState({username:"",password:""}),[r,i]=te.useState(""),[o,l]=te.useState(""),f=A1(),c=Oa(_=>_.setLoginStatus),p=Xn.object({username:Xn.string().required().messages({"string.empty":"Username required"}),password:Xn.string().min(5).required().messages({"string.empty":"Password required","string.min":"Password must have minimum 5 characters"})}),g=_=>{_.preventDefault();const{error:d}=p.validate(n);if(d){i(d.details[0].message),l("");return}n.username==="admin"&&n.password==="password"?(c(!0),i(""),l("Login successful! Redirecting..."),setTimeout(()=>{f("/menu")},1500)):(i("Wrong username or password."),l(""))};return G.jsxs("div",{className:"login-container",children:[G.jsx("h2",{children:"Admin Login"}),G.jsxs("form",{onSubmit:g,children:[G.jsx("div",{className:"input-group",children:G.jsx("input",{type:"text",placeholder:"Requires Username",value:n.username,onChange:_=>e({...n,username:_.target.value})})}),G.jsxs("div",{className:"input-group",children:[G.jsx(eN,{className:"icon"}),G.jsx("input",{type:"password",placeholder:"Requires Password",value:n.password,onChange:_=>e({...n,password:_.target.value})})]}),r&&G.jsx("p",{className:"error-text",children:r}),o&&G.jsx("p",{className:"success-text",children:o}),G.jsx("button",{type:"submit",className:"login-btn",children:"Login"})]})]})}function nN(){return G.jsx("div",{children:G.jsx(tN,{})})}let rN=IS([{path:"/",Component:bC,children:[{index:!0,Component:EC},{path:"/contact",Component:TC},{path:"/menu",Component:HI},{path:"/signin",Component:nN}]}]);kT.createRoot(document.getElementById("root")).render(G.jsx(te.StrictMode,{children:G.jsx(rS,{router:rN})}));
